function mylog(){}function WampClientManager(){function t(){mylog("[WAMP Client] control panel connected"),this.on_hello_welcomed=!1;var t;t=a.getOpenCallback(),null!=t&&t()}function e(){if(mylog("[WAMP Client] websocket disconnected"),!this.on_hello_welcomed&&"default"==o.realm)return void(void 0!=this.disconnected_callback&&this.disconnected_callback());var t;t=a.getCloseCallback(),null!=t&&t(),this.on_hello_welcomed&&void 0!=this.disconnected_callback&&this.disconnected_callback()}function r(t){this.errorCallback&&this.errorCallback(t)}function n(t){var e,r;if((void 0!=t.data||null!=t.data)&&(t=t.data),e=s.parse(t),null==e)return void mylog("[wamp perser] Syntax error : "+t);switch(mylog(t),e[0]){case WAMP_MSG_TYPE.WELCOME:this.challenge_flag?(this.challenge_flag=!1,r=a.getAuthenticateCallback(),null!=r?r(e):mylog("[wamp perser] Callback does not exist.")):(r=a.getHelloCallback(),null!=r?r(e):mylog("[wamp perser] Callback does not exist."));break;case WAMP_MSG_TYPE.ABORT:this.challenge_flag?(this.challenge_flag=!1,r=a.getAuthenticateCallback(),null!=r?r(e):mylog("[wamp perser] Callback does not exist.")):(r=a.getHelloCallback(),null!=r?r(e):mylog("[wamp perser] Callback does not exist."));break;case WAMP_MSG_TYPE.CHALLENGE:this.challenge_flag=!0,r=a.getHelloCallback(),null!=r?r(e):mylog("[wamp perser] Callback does not exist.");break;case WAMP_MSG_TYPE.GOODBYE:r=a.getGoodbyeCallback(),null!=r?r(e):mylog("[wamp perser] Callback does not exist.");break;case WAMP_MSG_TYPE.HEARTBEAT:r=a.getHeartbeatCallback(),null!=r?r(e):mylog("[wamp perser] Callback does not exist.");break;case WAMP_MSG_TYPE.ERROR:switch(e[1]){case WAMP_MSG_TYPE.SUBSCRIBE:r=a.getSubscribeCallback(e[2]),null!=r?r(e):mylog("[wamp perser] Callback does not exist.");break;case WAMP_MSG_TYPE.UNSUBSCRIBE:r=a.getUnsubscribeCallback(e[2]),null!=r?r(e):mylog("[wamp perser] Callback does not exist.");break;case WAMP_MSG_TYPE.PUBLISH:r=a.getPublishCallback(e[2]),null!=r?r(e):mylog("[wamp perser] Callback does not exist.");break;case WAMP_MSG_TYPE.INVOCATION:r=a.getInvocationCallback(e[2]),null!=r?r(e):mylog("[wamp perser] Callback does not exist.");break;case WAMP_MSG_TYPE.CALL:r=a.getCallCallback(e[2]),null!=r?r(e):mylog("[wamp perser] Callback does not exist.");break;case WAMP_MSG_TYPE.REGISTER:r=a.getRegisterCallback(e[2]),null!=r?r(e):mylog("[wamp perser] Callback does not exist.");break;case WAMP_MSG_TYPE.UNREGISTER:r=a.getUnregisterCallback(e[2]),null!=r?r(e):mylog("[wamp perser] Callback does not exist.");break;default:return null}break;case WAMP_MSG_TYPE.PUBLISHED:r=a.getPublishCallback(e[1]),null!=r?r(e):mylog("[wamp perser] Callback does not exist.");break;case WAMP_MSG_TYPE.SUBSCRIBED:r=a.getSubscribeCallback(e[1]),a.setEventCallback(a.getEventCallback(e[1]),e[2]),null!=r?r(e):mylog("[wamp perser] Callback does not exist.");break;case WAMP_MSG_TYPE.UNSUBSCRIBED:r=a.getUnsubscribeCallback(e[1]),a.deleteEventCallback(this.subscription_id_list[e[1]]),null!=r?r(e):mylog("[wamp perser] Callback does not exist.");break;case WAMP_MSG_TYPE.EVENT:r=a.getEventCallback(e[1]),null!=r?r(e):mylog("[wamp perser] Callback does not exist.");break;case WAMP_MSG_TYPE.RESULT:r=a.getCallCallback(e[1]),null!=r?r(e):mylog("[wamp perser] Callback does not exist.");break;case WAMP_MSG_TYPE.REGISTERED:r=a.getRegisterCallback(e[1]),null!=r?r(e):mylog("[wamp perser] Callback does not exist.");break;case WAMP_MSG_TYPE.UNREGISTERED:r=a.getUnregisterCallback(e[1]),null!=r?r(e):mylog("[wamp perser] Callback does not exist.");break;case WAMP_MSG_TYPE.INVOCATION:r=a.getInvocationCallback(e[1]),null!=r?r(e):mylog("[wamp perser] Callback does not exist.");break;case WAMP_MSG_TYPE.INTERRUPT:r=a.getInterruptCallback(e[1]),null!=r?r(e):mylog("[wamp perser] Callback does not exist.");break;default:return null}return e}var o=this;this.protocols=["wamp.2.json"],this.request_id=1,this.subscription_id_list=[];var i=new WampSerializer,s=new WampDeserializer,a=new WampClientCore;this.addOpenCallback=function(t){a.setOpenCallback(t)},this.setErrorCallback=function(t){o.errorCallback=t},this.deleteOpenCallback=function(){a.deleteOpenCallback()},this.addCloseCallback=function(t){a.setcloseCallback(t)},this.deleteCloseCallback=function(){a.deleteCloseCallback()},this.sendHello=function(t,e,r){this.realm=t;var n;n=i.createHello(t,e),a.setHelloCallback(function(){o.on_hello_welcomed=!0,r.apply(o,arguments)}),o.WampClientTransport.send(n)},this.sendAuthenticate=function(t,e,r){var n;n=i.createAuthenticate(t,e),a.setAuthenticateCallback(r),o.WampClientTransport.send(n)},this.sendGoodbye=function(t,e,r){var n;n=i.createGoodbye(t,e),a.setGoodbyeCallback(r),o.WampClientTransport.send(n)},this.sendHeartbeat=function(t,e,r){var n;n=i.createHeartbeat(t,e,r),o.WampClientTransport.send(n)},this.sendError=function(t,e,r,n,s,a){var c;c=i.createError(t,e,r,n,s,a),o.WampClientTransport.send(c)},this.sendPublish=function(t,e,r,n,s){var c,u;u=this.request_id,this.request_id++,c=i.createPublish(u,t,e,r,n),a.setPublishCallback(s,u),o.WampClientTransport.send(c)},this.sendSubscribe=function(t,e,r,n){var s,c;c=this.request_id,this.request_id++,s=i.createSubscribe(c,t,e),a.setSubscribeCallback(n,c),a.setEventCallback(r,c),o.WampClientTransport.send(s)},this.sendUnsubscribe=function(t,e){var r,n;n=this.request_id,this.request_id++,r=i.createUnsubscribe(n,t),a.setUnsubscribeCallback(e,n),this.subscription_id_list[n]=t,o.WampClientTransport.send(r)},this.sendCall=function(t,e,r,n,s){var c,u;u=this.request_id,this.request_id++,c=i.createCall(u,t,e,r,n),a.setCallCallback(s,u),o.WampClientTransport.send(c)},this.sendCancel=function(t,e,r){var n;n=i.createCancel(t,e),a.setCancelCallback(r),o.WampClientTransport.send(n)},this.sendRegister=function(t,e,r){var n,s;s=this.request_id,this.request_id++,n=i.createRegister(s,t,e),a.setRegisterCallback(r,s),o.WampClientTransport.send(n)},this.sendUnregister=function(t,e){var r,n;n=this.request_id,this.request_id++,r=i.createUnregister(n,t),a.setUnregisterCallback(e,n),o.WampClientTransport.send(r)},this.sendYield=function(t,e,r,n){var s;s=i.createYield(t,e,r,n),o.WampClientTransport.send(s)},this.addGoodbyeCallback=function(t){a.setGoodbyeCallback(t)},this.deleteGoodbyeCallback=function(){a.deleteGoodbyeCallback()},this.addHeartbeatCallback=function(t){a.setHeartbeatCallback(t)},this.deleteHeartbeatCallback=function(){a.deleteHeartbeatCallback()},this.addInvocationCallback=function(t,e){a.setInvocationCallback(e,t)},this.deleteInvocationCallback=function(){a.deleteInvocationCallback()};var c;this.connect=function(i,s,a,u,f){o.connected_callback=u,o.disconnected_callback=f,o.addOpenCallback(function(){o.sendHello(void 0==i?"v1":i,{roles:{caller:{},subscriber:{}},manifest:a},function(){o.sendCall({},"com.sonycsl.kadecot.provider.procedure.getDeviceList",null,null,function(t){c=t[4].deviceList,u(t[4].deviceList,o)})})}),o.setErrorCallback(function(){void 0!==f&&f()}),void 0===s&&(s="com.sonycsl.kadecot",console.log("[WAMP Client] WARNING:The access scope is automatically set to "+s)),o.scope=s,console.log("[WAMP Client] connecting to control panel"),o.WampClientTransport.open({scope:s,onopen:function(){t.call(o)},onclose:function(t){e.call(o,t)},onmessage:function(t){n.call(o,t)},onerror:function(t){r.call(o,t)}})},this.disconnect=function(){return mylog("[WAMP Client] control panel disconnecting"),o.WampClientTransport.close(),this}}function kadecot_init(t){return new Promise(function(e,r){function n(n){var o=new WampClientManager;o.WampClientTransport={open:function(t){window.addEventListener("message",function(e){t.onmessage(e.data)},!1),t.onopen()},send:function(t){n.postMessage(t,"*")},close:function(){}},o.connect(t.realm,t.scope,t.manifest,function(t,r){e({session:addMethodsToWamp(r),devices:addMethodsToDevices(r,t)})},function(t){r(t)})}function o(r){function n(t,e,r){if(console.log("onchallenge",e,r),"wampcra"===e)return autobahn.auth_cra.sign(o,r.challenge);throw"don't know how to authenticate using '"+e+"'"}void 0==t.username&&(t.username="user"),void 0==t.password&&(t.password="pass");var o=autobahn.auth_cra.derive_key(t.password,"Kadecot",100,16),i=new autobahn.Connection({url:"ws://"+r+":41314/ws",realm:t.realm,authmethods:["wampcra"],authid:t.username,onchallenge:n});i.onopen=function(t){t.call("com.sonycsl.kadecot.provider.procedure.getDeviceList",[]).then(function(r){function n(t,e,r){for(var n=e[0],i=r,s=o[t],a=1;a<s.length;++a)(void 0==n||-1==s[a][0]||s[a][0]==n)&&s[a][1](i)}var o={};t.rpc=t.call,t.sub=function(e,r,i){return new Promise(function(s,a){if(void 0==i&&(i=-1),void 0!=o[e]){for(var c=o[e],u=1;u<c.length;++c)if(c[u][0]==i)return void a({error:"The topic "+e+" is already subscribed on device "+i});c.push([i,r]),s(o[e][0])}else t.subscribe(e,function(t,r,o){n(e,t,r,o)}).then(function(t){o[e]=[t,[i,r]],s(t)})})},t.unsub=function(e,r){return new Promise(function(n,i){var s=o[e];if(void 0==s)return void i();for(var a=1;a<s.length;++a)if(s[a][1]==r)return s.splice(a,1),void(s.length>1?n():t.unsubscribe(s[0]).then(function(t){delete o[e],o[e]=void 0,n(t)}))})},r.kwargs.deviceList.forEach(function(e){var r=e;r.rpc=function(e,n){return new Promise(function(o,i){t.rpc(e,[r.deviceId],n).then(o)["catch"](i)})},r.sub=function(e,n){return t.sub(e,n,r.deviceId)},r.unsub=function(e,r){return t.unsub(e,r)}}),e({session:t,devices:r.kwargs.deviceList})},function(t){console.log("call error",t)})},i.onclose=function(t,e){console.log("disconnected",t,e.reason,e)},i.open()}function i(n,o){function i(e,r){for(var n="default"==t.realm?r[3].deviceId:r[4][0],o=r[5],i=l[e],s=1;s<i.length;++s)(void 0==n||-1==i[s][0]||i[s][0]==n)&&i[s][1](o)}function s(e){return e.rpc=function(r,n,o){return new Promise(function(i){"default"==t.realm?e.sendCall(n instanceof Array?{deviceId:n[0]}:{},r,[],o,function(t){i(t[4])}):e.sendCall({},r,n,o,function(t){i(t[4])})})},e.sub=function(t,r,n){return new Promise(function(o,s){if(void 0==n&&(n=-1),void 0!=l[t]){for(var a=l[t],c=1;c<a.length;++a)if(a[c][0]==n)return void s({error:"The topic "+t+" is already subscribed on device "+n});a.push([n,r]),o(l[t][0])}else e.sendSubscribe({},t,function(e){i(t,e)},function(e){l[t]=[e[2],[n,r]],o(e[2])})})},e.unsub=function(t,r){return new Promise(function(n,o){var i=l[t];if(void 0==i)return void o();for(var s=1;s<i.length;++s)if(i[s][1]==r)return i.splice(s,1),void(i.length>1?n():(e.sendUnsubscribe(i[0],n),delete l[t],l[t]=void 0))})},e}function a(t,e){return e.forEach(function(e){var r=e;r.rpc=function(e,n){return new Promise(function(o,i){t.rpc(e,[r.deviceId],n).then(o)["catch"](i)})},r.sub=function(e,n){return t.sub(e,n,r.deviceId)},r.unsub=function(e,r){return t.unsub(e,r)}}),e}var c,u,f=new WampClientManager;f.WampClientTransport={open:function(e){u=e,c=new WebSocket("ws://"+n+":41314"+("default"==t.realm?"":"/ws")+(void 0!=o?"?access_token="+o:""),["wamp.2.json"]),c.onopen=function(){u.onopen()},c.onerror=function(t){u.onerror(t)},c.onclose=function(e){if(!f.on_hello_welcomed&&"default"==t.realm){var r=function(t){return t.replace(/\?.*$/,"")},o="http://"+n+":31413/login.html?redirect_uri="+r(location.href)+"%3fk%3d"+n+"&scope="+t.scope;return console.log("Redirect to : "+o),void(location.href=o)}u.onclose(e)},c.onmessage=function(t){u.onmessage(t.data)}},send:function(t){c.send(t)},close:function(t){u.onclose(t)}};var l={};f.connect(t.realm,t.scope,t.manifest,function(t,r){e({session:s(r),devices:a(r,t)})},function(t){r(t)})}if("string"!=typeof t.scope&&(t.scope="com.sonycsl.kadecot"),"string"!=typeof t.realm&&(t.realm="v1"),window.parent!=window)n(window.parent);else{var s={};if(location.search.length>0){var a,c=location.href.indexOf("#");c>=0&&(a=location.href.substring(c+1));var u=location.search.split(/[\?&]/);u.forEach(function(t){var e=t.split("=");e.length<2||(s[e[0]]=e[1])}),s._token=a}void 0!=t.host&&(s.k=t.host),void 0!=s.k?"https:"===location.protocol?alert("Cannot establish local Kadecot connection from https: site, because local connection is less secure ws: connection (instead of wss:)"):"default"==t.realm?i(s.k,s._token):o(s.k):alert("This app can run only in local connection mode or in cloud connection mode in hems.gallery.")}})}var ArgumentNullException=function(){},WAMP_MSG_TYPE={HELLO:1,WELCOME:2,ABORT:3,CHALLENGE:4,AUTHENTICATE:5,GOODBYE:6,HEARTBEAT:7,ERROR:8,PUBLISH:16,PUBLISHED:17,SUBSCRIBE:32,SUBSCRIBED:33,UNSUBSCRIBE:34,UNSUBSCRIBED:35,EVENT:36,CALL:48,CANCEL:49,RESULT:50,REGISTER:64,REGISTERED:65,UNREGISTER:66,UNREGISTERED:67,INVOCATION:68,INTERRUPT:69,YIELD:70},WampClientCore=function(){var t=function(){this.openCallback={func:null},this.closeCallback={func:null},this.helloCallback={func:null},this.authenticateCallback={func:null},this.goodbyeCallback={func:null},this.heartbeatCallback={func:null},this.publishCallback={func:[]},this.subscribeCallback={func:[]},this.unsubscribeCallback={func:[]},this.callCallback={func:[]},this.cancelCallback={func:[]},this.registerCallback={func:[]},this.unregisterCallback={func:[]},this.eventCallback={func:[]},this.invocationCallback={func:[]},this.interruptCallback={func:[]}};return t.prototype.setOpenCallback=function(t){return this.openCallback.func=t,0},t.prototype.getOpenCallback=function(){return this.openCallback.func},t.prototype.setcloseCallback=function(t){return this.closeCallback.func=t,0},t.prototype.getCloseCallback=function(){return this.closeCallback.func},t.prototype.setHelloCallback=function(t){return this.helloCallback.func=t,0},t.prototype.getHelloCallback=function(){return this.helloCallback.func},t.prototype.setAuthenticateCallback=function(t){return this.authenticateCallback.func=t,0},t.prototype.getAuthenticateCallback=function(){return this.authenticateCallback.func},t.prototype.setGoodbyeCallback=function(t){return this.goodbyeCallback.func=t,0},t.prototype.deleteGoodbyeCallback=function(){return this.goodbyeCallback.func=null,0},t.prototype.getGoodbyeCallback=function(){return this.goodbyeCallback.func},t.prototype.setHeartbeatCallback=function(t){return this.heartbeatCallback.func=t,0},t.prototype.deleteHeartbeatCallback=function(){return this.heartbeatCallback.func=null,0},t.prototype.getHeartbeatCallback=function(){return this.heartbeatCallback.func},t.prototype.setPublishCallback=function(t,e){return this.publishCallback.func[e]=t,0},t.prototype.getPublishCallback=function(t){return this.publishCallback.func[t]},t.prototype.setSubscribeCallback=function(t,e){return this.subscribeCallback.func[e]=t,0},t.prototype.getSubscribeCallback=function(t){return this.subscribeCallback.func[t]},t.prototype.setUnsubscribeCallback=function(t,e){return this.unsubscribeCallback.func[e]=t,0},t.prototype.getUnsubscribeCallback=function(t){return this.unsubscribeCallback.func[t]},t.prototype.setCallCallback=function(t,e){return this.callCallback.func[e]=t,0},t.prototype.getCallCallback=function(t){return this.callCallback.func[t]},t.prototype.setCancelCallback=function(t,e){return this.cancelCallback.func[e]=t,0},t.prototype.getCancelCallback=function(t){return this.cancelCallback.func[t]},t.prototype.setRegisterCallback=function(t,e){return this.registerCallback.func[e]=t,0},t.prototype.getRegisterCallback=function(t){return this.registerCallback.func[t]},t.prototype.setUnregisterCallback=function(t,e){return this.unregisterCallback.func[e]=t,0},t.prototype.getUnregisterCallback=function(t){return this.unregisterCallback.func[t]},t.prototype.setEventCallback=function(t,e){return this.eventCallback.func[e]=t,0},t.prototype.deleteEventCallback=function(t){return this.eventCallback.func[t]=null,0},t.prototype.getEventCallback=function(t){return this.eventCallback.func[t]},t.prototype.setInvocationCallback=function(t,e){return this.invocationCallback.func[e]=t,0},t.prototype.deleteInvocationCallback=function(t){return this.invocationCallback.func[t]=null,0},t.prototype.getInvocationCallback=function(t){return this.invocationCallback.func[t]},t.prototype.setInterruptCallback=function(t,e){return this.interruptCallback.func[e]=t,0},t.prototype.deleteInterruptCallback=function(t){return this.interruptCallback.func[t]=null,0},t.prototype.getInterruptCallback=function(t){return this.interruptCallback.func[t]},t}(),WampSerializer=function(){var t=function(){};return t.prototype.createHello=function(t,e){var r;if(!t)throw new ArgumentNullException;if(!e)throw new ArgumentNullException;return r=JSON.stringify([WAMP_MSG_TYPE.HELLO,t,e]),mylog("[wamp][HELLO] "+r),r},t.prototype.createWelcome=function(t,e){var r;if(!t)throw new ArgumentNullException;if(!e)throw new ArgumentNullException;return r=JSON.stringify([WAMP_MSG_TYPE.WELCOME,t,e]),mylog("[wamp][WELCOME] "+r),r},t.prototype.createAbort=function(t,e){var r;if(!t)throw new ArgumentNullException;if(!e)throw new ArgumentNullException;return r=JSON.stringify([WAMP_MSG_TYPE.ABORT,t,e]),mylog("[wamp][ABORT] "+r),r},t.prototype.createChallenge=function(t,e){var r;if(!t)throw new ArgumentNullException;if(!e)throw new ArgumentNullException;return r=JSON.stringify([WAMP_MSG_TYPE.CHALLENGE,t,e]),mylog("[wamp][CHALLENGE] "+r),r},t.prototype.createAuthenticate=function(t,e){var r;if(!t)throw new ArgumentNullException;if(!e)throw new ArgumentNullException;return r=JSON.stringify([WAMP_MSG_TYPE.AUTHENTICATE,t,e]),mylog("[wamp][AUTHENTICATE] "+r),r},t.prototype.createGoodbye=function(t,e){var r;if(!t)throw new ArgumentNullException;if(!e)throw new ArgumentNullException;return r=JSON.stringify([WAMP_MSG_TYPE.GOODBYE,t,e]),mylog("[wamp][GOODBYE] "+r),r},t.prototype.createHeartbeat=function(t,e,r){var n;if(!t)throw new ArgumentNullException;if(!e)throw new ArgumentNullException;return n=JSON.stringify(null==r?[WAMP_MSG_TYPE.HEARTBEAT,t,e]:[WAMP_MSG_TYPE.HEARTBEAT,t,e,r]),mylog("[wamp][HEARTBEAT] "+n),n},t.prototype.createError=function(t,e,r,n,o,i){var s;if(!t)throw new ArgumentNullException;if(!e)throw new ArgumentNullException;if(!r)throw new ArgumentNullException;if(!n)throw new ArgumentNullException;return s=JSON.stringify(null==o&&null==i?[WAMP_MSG_TYPE.ERROR,t,e,r,n]:null!=o&&null==i?[WAMP_MSG_TYPE.ERROR,t,e,r,n,o]:[WAMP_MSG_TYPE.ERROR,t,e,r,n,o,i]),mylog("[wamp][ERROR] "+s),s},t.prototype.createPublish=function(t,e,r,n,o){var i;if(!t)throw new ArgumentNullException;if(!e)throw new ArgumentNullException;if(!r)throw new ArgumentNullException;return i=JSON.stringify(null==n&&null==o?[WAMP_MSG_TYPE.PUBLISH,t,e,r]:null!=n&&null==o?[WAMP_MSG_TYPE.PUBLISH,t,e,r,n]:[WAMP_MSG_TYPE.PUBLISH,t,e,r,n,o]),mylog("[wamp][PUBLISH] "+i),i},t.prototype.createPublished=function(t,e){var r;if(!t)throw new ArgumentNullException;if(!e)throw new ArgumentNullException;return r=JSON.stringify([WAMP_MSG_TYPE.PUBLISHED,t,e]),mylog("[wamp][PUBLISHED] "+r),r},t.prototype.createSubscribe=function(t,e,r){var n;if(!t)throw new ArgumentNullException;if(!e)throw new ArgumentNullException;if(!r)throw new ArgumentNullException;return n=JSON.stringify([WAMP_MSG_TYPE.SUBSCRIBE,t,e,r]),mylog("[wamp][SUBSCRIBE] "+n),n},t.prototype.createSubscribed=function(t,e){var r;if(!t)throw new ArgumentNullException;if(!e)throw new ArgumentNullException;return r=JSON.stringify([WAMP_MSG_TYPE.SUBSCRIBED,t,e]),mylog("[wamp][SUBSCRIBED] "+r),r},t.prototype.createUnsubscribe=function(t,e){var r;if(!t)throw new ArgumentNullException;if(!e)throw new ArgumentNullException;return r=JSON.stringify([WAMP_MSG_TYPE.UNSUBSCRIBE,t,e]),mylog("[wamp][UNSUBSCRIBE] "+r),r},t.prototype.createUnsubscribed=function(t){var e;if(!t)throw new ArgumentNullException;return e=JSON.stringify([WAMP_MSG_TYPE.UNSUBSCRIBED,t]),mylog("[wamp][UNSUBSCRIBED] "+e),e},t.prototype.createEvent=function(t,e,r,n,o){var i;if(!t)throw new ArgumentNullException;if(!e)throw new ArgumentNullException;if(!r)throw new ArgumentNullException;return i=JSON.stringify(null==n&&null==o?[WAMP_MSG_TYPE.EVENT,t,e,r]:null!=n&&null==o?[WAMP_MSG_TYPE.EVENT,t,e,r,n]:[WAMP_MSG_TYPE.EVENT,t,e,r,n,o]),mylog("[wamp][EVENT] "+i),i},t.prototype.createCall=function(t,e,r,n,o){var i;if(!t)throw new ArgumentNullException;if(!e)throw new ArgumentNullException;if(!r)throw new ArgumentNullException;return i=JSON.stringify(null==n&&null==o?[WAMP_MSG_TYPE.CALL,t,e,r]:null!=n&&null==o?[WAMP_MSG_TYPE.CALL,t,e,r,n]:[WAMP_MSG_TYPE.CALL,t,e,r,n,o]),mylog("[wamp][CALL] "+i),i},t.prototype.createCancel=function(t,e){var r;if(!t)throw new ArgumentNullException;if(!e)throw new ArgumentNullException;return r=JSON.stringify([WAMP_MSG_TYPE.CANCEL,t,e]),mylog("[wamp][CANCEL] "+r),r},t.prototype.createResult=function(t,e,r,n){var o;if(!t)throw new ArgumentNullException;if(!e)throw new ArgumentNullException;return o=JSON.stringify(null==r&&null==n?[WAMP_MSG_TYPE.RESULT,t,e]:null!=r&&null==n?[WAMP_MSG_TYPE.RESULT,t,e,r]:[WAMP_MSG_TYPE.RESULT,t,e,r,n]),mylog("[wamp][RESULT] "+o),o},t.prototype.createRegister=function(t,e,r){var n;if(!t)throw new ArgumentNullException;if(!e)throw new ArgumentNullException;if(!r)throw new ArgumentNullException;return n=JSON.stringify([WAMP_MSG_TYPE.REGISTER,t,e,r]),mylog("[wamp][REGISTER] "+n),n},t.prototype.createRegistered=function(t,e){var r;if(!t)throw new ArgumentNullException;if(!e)throw new ArgumentNullException;return r=JSON.stringify([WAMP_MSG_TYPE.REGISTERED,t,e]),mylog("[wamp][REGISTERED] "+r),r},t.prototype.createUnregister=function(t,e){var r;if(!t)throw new ArgumentNullException;if(!e)throw new ArgumentNullException;return r=JSON.stringify([WAMP_MSG_TYPE.UNREGISTER,t,e]),mylog("[wamp][UNREGISTER] "+r),r},t.prototype.createUnregistered=function(t){var e;if(!t)throw new ArgumentNullException;return e=JSON.stringify([WAMP_MSG_TYPE.UNREGISTERED,t]),mylog("[wamp][UNREGISTERED] "+e),e},t.prototype.createInvocation=function(t,e,r,n,o){var i;if(!t)throw new ArgumentNullException;if(!e)throw new ArgumentNullException;if(!r)throw new ArgumentNullException;return i=JSON.stringify(null==n&&null==o?[WAMP_MSG_TYPE.INVOCATION,t,e,r]:null!=n&&null==o?[WAMP_MSG_TYPE.INVOCATION,t,e,r,n]:[WAMP_MSG_TYPE.INVOCATION,t,e,r,n,o]),mylog("[wamp][INVOCATION] "+i),i},t.prototype.createInterrupt=function(t,e){var r;if(!t)throw new ArgumentNullException;if(!e)throw new ArgumentNullException;return r=JSON.stringify([WAMP_MSG_TYPE.INTERRUPT,t,e]),mylog("[wamp][INTERRUPT] "+r),r},t.prototype.createYield=function(t,e,r,n){var o;if(!t)throw new ArgumentNullException;if(!e)throw new ArgumentNullException;return o=JSON.stringify(null==r&&null==n?[WAMP_MSG_TYPE.YIELD,t,e]:null!=r&&null==n?[WAMP_MSG_TYPE.YIELD,t,e,r]:[WAMP_MSG_TYPE.YIELD,t,e,r,n]),mylog("[wamp][YIELD] "+o),o},t}(),WampDeserializer=function(){var t=function(){};return t.prototype.parse=function(t){var e;if(!t)throw new ArgumentNullException;if(mylog("[wamp perser] message received",t),e=JSON.parse(t),!(e instanceof Array)||e.length<2)return null;switch(e[0]){case WAMP_MSG_TYPE.HELLO:if(e.length<3)return null;break;case WAMP_MSG_TYPE.WELCOME:if(e.length<3)return null;break;case WAMP_MSG_TYPE.ABORT:if(e.length<3)return null;break;case WAMP_MSG_TYPE.CHALLENGE:if(e.length<3)return null;break;case WAMP_MSG_TYPE.AUTHENTICATE:if(e.length<3)return null;break;case WAMP_MSG_TYPE.GOODBYE:if(e.length<3)return null;break;case WAMP_MSG_TYPE.HEARTBEAT:if(e.length<3)return null;break;case WAMP_MSG_TYPE.ERROR:if(e.length<5)return null;switch(e[1]){case WAMP_MSG_TYPE.GOODBYE:case WAMP_MSG_TYPE.YIELD:case WAMP_MSG_TYPE.ERROR:case WAMP_MSG_TYPE.SUBSCRIBE:case WAMP_MSG_TYPE.UNSUBSCRIBE:case WAMP_MSG_TYPE.PUBLISH:case WAMP_MSG_TYPE.INVOCATION:case WAMP_MSG_TYPE.CALL:break;case WAMP_MSG_TYPE.REGISTER:case WAMP_MSG_TYPE.UNREGISTER:break;default:return null}break;case WAMP_MSG_TYPE.PUBLISH:if(e.length<4)return null;break;case WAMP_MSG_TYPE.PUBLISHED:if(e.length<3)return null;break;case WAMP_MSG_TYPE.SUBSCRIBE:if(e.length<4)return null;break;case WAMP_MSG_TYPE.SUBSCRIBED:if(e.length<3)return null;break;case WAMP_MSG_TYPE.UNSUBSCRIBE:if(e.length<3)return null;break;case WAMP_MSG_TYPE.UNSUBSCRIBED:if(e.length<2)return null;break;case WAMP_MSG_TYPE.EVENT:if(e.length<4)return null;break;case WAMP_MSG_TYPE.CALL:if(e.length<4)return null;break;case WAMP_MSG_TYPE.CANCEL:if(e.length<3)return null;break;case WAMP_MSG_TYPE.RESULT:if(e.length<3)return null;break;case WAMP_MSG_TYPE.REGISTER:if(e.length<4)return null;break;case WAMP_MSG_TYPE.REGISTERED:if(e.length<3)return null;break;case WAMP_MSG_TYPE.UNREGISTER:if(e.length<3)return null;break;case WAMP_MSG_TYPE.UNREGISTERED:if(e.length<2)return null;break;case WAMP_MSG_TYPE.INVOCATION:if(e.length<4)return null;break;case WAMP_MSG_TYPE.INTERRUPT:if(e.length<3)return null;break;case WAMP_MSG_TYPE.YIELD:if(e.length<3)return null;break;default:return null}return e},t}(),ArgumentNullException=function(){},$jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,r){if(r.get||r.set)throw new TypeError("ES3 does not support getters and setters.");t!=Array.prototype&&t!=Object.prototype&&(t[e]=r.value)},$jscomp.getGlobal=function(t){return"undefined"!=typeof window&&window===t?t:"undefined"!=typeof global&&null!=global?global:t},$jscomp.global=$jscomp.getGlobal(this),$jscomp.SYMBOL_PREFIX="jscomp_symbol_",$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){},$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)},$jscomp.symbolCounter_=0,$jscomp.Symbol=function(t){return $jscomp.SYMBOL_PREFIX+(t||"")+$jscomp.symbolCounter_++},$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var t=$jscomp.global.Symbol.iterator;t||(t=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator")),"function"!=typeof Array.prototype[t]&&$jscomp.defineProperty(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}}),$jscomp.initSymbolIterator=function(){}},$jscomp.arrayIterator=function(t){var e=0;return $jscomp.iteratorPrototype(function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}})},$jscomp.iteratorPrototype=function(t){return $jscomp.initSymbolIterator(),t={next:t},t[$jscomp.global.Symbol.iterator]=function(){return this},t},$jscomp.makeIterator=function(t){$jscomp.initSymbolIterator();var e=t[Symbol.iterator];return e?e.call(t):$jscomp.arrayIterator(t)},$jscomp.polyfill=function(t,e,r,n){if(e){for(r=$jscomp.global,t=t.split("."),n=0;n<t.length-1;n++){var o=t[n];o in r||(r[o]={}),r=r[o]}t=t[t.length-1],n=r[t],e=e(n),e!=n&&null!=e&&$jscomp.defineProperty(r,t,{configurable:!0,writable:!0,value:e})}},$jscomp.EXPOSE_ASYNC_EXECUTOR=!0,$jscomp.FORCE_POLYFILL_PROMISE=!1,$jscomp.polyfill("Promise",function(t){function e(){this.batch_=null}if(t&&!$jscomp.FORCE_POLYFILL_PROMISE)return t;e.prototype.asyncExecute=function(t){return null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_()),this.batch_.push(t),this},e.prototype.asyncExecuteBatch_=function(){var t=this;this.asyncExecuteFunction(function(){t.executeBatch_()})};var r=$jscomp.global.setTimeout;e.prototype.asyncExecuteFunction=function(t){r(t,0)},e.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var t=this.batch_;this.batch_=[];for(var e=0;e<t.length;++e){var r=t[e];delete t[e];try{r()}catch(n){this.asyncThrow_(n)}}}this.batch_=null},e.prototype.asyncThrow_=function(t){this.asyncExecuteFunction(function(){throw t})};var n=function(t){this.state_=0,this.result_=void 0,this.onSettledCallbacks_=[];var e=this.createResolveAndReject_();try{t(e.resolve,e.reject)}catch(r){e.reject(r)}};n.prototype.createResolveAndReject_=function(){function t(t){return function(n){r||(r=!0,t.call(e,n))}}var e=this,r=!1;return{resolve:t(this.resolveTo_),reject:t(this.reject_)}},n.prototype.resolveTo_=function(t){if(t===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof n)this.settleSameAsPromise_(t);else{var e;t:switch(typeof t){case"object":e=null!=t;break t;case"function":e=!0;break t;default:e=!1}e?this.resolveToNonPromiseObj_(t):this.fulfill_(t)}},n.prototype.resolveToNonPromiseObj_=function(t){var e=void 0;try{e=t.then}catch(r){return void this.reject_(r)}"function"==typeof e?this.settleSameAsThenable_(e,t):this.fulfill_(t)},n.prototype.reject_=function(t){this.settle_(2,t)},n.prototype.fulfill_=function(t){this.settle_(1,t)},n.prototype.settle_=function(t,e){if(0!=this.state_)throw Error("Cannot settle("+t+", "+e|"): Promise already settled in state"+this.state_);this.state_=t,this.result_=e,this.executeOnSettledCallbacks_()},n.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var t=this.onSettledCallbacks_,e=0;e<t.length;++e)t[e].call(),t[e]=null;this.onSettledCallbacks_=null}};var o=new e;return n.prototype.settleSameAsPromise_=function(t){var e=this.createResolveAndReject_();t.callWhenSettled_(e.resolve,e.reject)},n.prototype.settleSameAsThenable_=function(t,e){var r=this.createResolveAndReject_();try{t.call(e,r.resolve,r.reject)}catch(n){r.reject(n)}},n.prototype.then=function(t,e){function r(t,e){return"function"==typeof t?function(e){try{o(t(e))}catch(r){i(r)}}:e}var o,i,s=new n(function(t,e){o=t,i=e});return this.callWhenSettled_(r(t,o),r(e,i)),s},n.prototype["catch"]=function(t){return this.then(void 0,t)},n.prototype.callWhenSettled_=function(t,e){function r(){switch(n.state_){case 1:t(n.result_);break;case 2:e(n.result_);break;default:throw Error("Unexpected state: "+n.state_)}}var n=this;null==this.onSettledCallbacks_?o.asyncExecute(r):this.onSettledCallbacks_.push(function(){o.asyncExecute(r)})},n.resolve=function(t){return t instanceof n?t:new n(function(e){e(t)})},n.reject=function(t){return new n(function(e,r){r(t)})},n.race=function(t){return new n(function(e,r){for(var o=$jscomp.makeIterator(t),i=o.next();!i.done;i=o.next())n.resolve(i.value).callWhenSettled_(e,r)})},n.all=function(t){var e=$jscomp.makeIterator(t),r=e.next();return r.done?n.resolve([]):new n(function(t,o){function i(e){return function(r){s[e]=r,a--,0==a&&t(s)}}var s=[],a=0;do s.push(void 0),a++,n.resolve(r.value).callWhenSettled_(i(s.length-1),o),r=e.next();while(!r.done)})},$jscomp.EXPOSE_ASYNC_EXECUTOR&&(n.$jscomp$new$AsyncExecutor=function(){return new e}),n},"es6-impl","es3"),$jscomp.array=$jscomp.array||{},$jscomp.iteratorFromArray=function(t,e){$jscomp.initSymbolIterator(),t instanceof String&&(t+="");var r=0,n={next:function(){if(r<t.length){var o=r++;return{value:e(o,t[o]),done:!1}}return n.next=function(){return{done:!0,value:void 0}},n.next()}};return n[Symbol.iterator]=function(){return n},n},$jscomp.polyfill("Array.prototype.keys",function(t){return t?t:function(){return $jscomp.iteratorFromArray(this,function(t){return t})}},"es6-impl","es3"),$jscomp.polyfill("Number.isFinite",function(t){return t?t:function(t){return"number"!=typeof t?!1:!isNaN(t)&&1/0!==t&&-(1/0)!==t}},"es6-impl","es3"),$jscomp.polyfill("Number.isInteger",function(t){return t?t:function(t){return Number.isFinite(t)?t===Math.floor(t):!1}},"es6-impl","es3"),$jscomp.polyfill("Array.prototype.fill",function(t){return t?t:function(t,e,r){var n=this.length||0;for(0>e&&(e=Math.max(0,n+e)),(null==r||r>n)&&(r=n),r=Number(r),0>r&&(r=Math.max(0,n+r)),e=Number(e||0);r>e;e++)this[e]=t;return this}},"es6-impl","es3"),$jscomp.checkStringArgs=function(t,e,r){if(null==t)throw new TypeError("The 'this' value for String.prototype."+r+" must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype."+r+" must not be a regular expression");return t+""},$jscomp.polyfill("String.prototype.includes",function(t){return t?t:function(t,e){return-1!==$jscomp.checkStringArgs(this,t,"includes").indexOf(t,e||0)}},"es6-impl","es3"),$jscomp.owns=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},$jscomp.polyfill("WeakMap",function(t){function e(t){$jscomp.owns(t,n)||$jscomp.defineProperty(t,n,{value:{}})}function r(t){var r=Object[t];r&&(Object[t]=function(t){return e(t),r(t)})}if(function(){if(!t||!Object.seal)return!1;try{var e=Object.seal({}),r=Object.seal({}),n=new t([[e,2],[r,3]]);return 2!=n.get(e)||3!=n.get(r)?!1:(n["delete"](e),n.set(r,4),!n.has(e)&&4==n.get(r))}catch(o){return!1}}())return t;

var n="$jscomp_hidden_"+Math.random().toString().substring(2);r("freeze"),r("preventExtensions"),r("seal");var o=0,i=function(t){if(this.id_=(o+=Math.random()+1).toString(),t){$jscomp.initSymbol(),$jscomp.initSymbolIterator(),t=$jscomp.makeIterator(t);for(var e;!(e=t.next()).done;)e=e.value,this.set(e[0],e[1])}};return i.prototype.set=function(t,r){if(e(t),!$jscomp.owns(t,n))throw Error("WeakMap key fail: "+t);return t[n][this.id_]=r,this},i.prototype.get=function(t){return $jscomp.owns(t,n)?t[n][this.id_]:void 0},i.prototype.has=function(t){return $jscomp.owns(t,n)&&$jscomp.owns(t[n],this.id_)},i.prototype["delete"]=function(t){return $jscomp.owns(t,n)&&$jscomp.owns(t[n],this.id_)?delete t[n][this.id_]:!1},i},"es6-impl","es3"),$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.polyfill("Map",function(t){if(!$jscomp.ASSUME_NO_NATIVE_MAP&&function(){if(!t||!t.prototype.entries||"function"!=typeof Object.seal)return!1;try{var e=Object.seal({x:4}),r=new t($jscomp.makeIterator([[e,"s"]]));if("s"!=r.get(e)||1!=r.size||r.get({x:4})||r.set({x:4},"t")!=r||2!=r.size)return!1;var n=r.entries(),o=n.next();return o.done||o.value[0]!=e||"s"!=o.value[1]?!1:(o=n.next(),o.done||4!=o.value[0].x||"t"!=o.value[1]||!n.next().done?!1:!0)}catch(i){return!1}}())return t;$jscomp.initSymbol(),$jscomp.initSymbolIterator();var e=new WeakMap,r=function(t){if(this.data_={},this.head_=i(),this.size=0,t){t=$jscomp.makeIterator(t);for(var e;!(e=t.next()).done;)e=e.value,this.set(e[0],e[1])}};r.prototype.set=function(t,e){var r=n(this,t);return r.list||(r.list=this.data_[r.id]=[]),r.entry?r.entry.value=e:(r.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:t,value:e},r.list.push(r.entry),this.head_.previous.next=r.entry,this.head_.previous=r.entry,this.size++),this},r.prototype["delete"]=function(t){return t=n(this,t),t.entry&&t.list?(t.list.splice(t.index,1),t.list.length||delete this.data_[t.id],t.entry.previous.next=t.entry.next,t.entry.next.previous=t.entry.previous,t.entry.head=null,this.size--,!0):!1},r.prototype.clear=function(){this.data_={},this.head_=this.head_.previous=i(),this.size=0},r.prototype.has=function(t){return!!n(this,t).entry},r.prototype.get=function(t){return(t=n(this,t).entry)&&t.value},r.prototype.entries=function(){return o(this,function(t){return[t.key,t.value]})},r.prototype.keys=function(){return o(this,function(t){return t.key})},r.prototype.values=function(){return o(this,function(t){return t.value})},r.prototype.forEach=function(t,e){for(var r,n=this.entries();!(r=n.next()).done;)r=r.value,t.call(e,r[1],r[0],this)},r.prototype[Symbol.iterator]=r.prototype.entries;var n=function(t,r){var n;n=r&&typeof r,"object"==n||"function"==n?e.has(r)?n=e.get(r):(n=""+ ++s,e.set(r,n)):n="p_"+r;var o=t.data_[n];if(o&&$jscomp.owns(t.data_,n))for(var i=0;i<o.length;i++){var a=o[i];if(r!==r&&a.key!==a.key||r===a.key)return{id:n,list:o,index:i,entry:a}}return{id:n,list:o,index:-1,entry:void 0}},o=function(t,e){var r=t.head_;return $jscomp.iteratorPrototype(function(){if(r){for(;r.head!=t.head_;)r=r.previous;for(;r.next!=r.head;)return r=r.next,{done:!1,value:e(r)};r=null}return{done:!0,value:void 0}})},i=function(){var t={};return t.previous=t.next=t.head=t},s=0;return r},"es6-impl","es3"),function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).autobahn=t()}(function(){return function t(e,r,n){function o(s,a){if(!r[s]){if(!e[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(i)return i(s,!0);throw c=Error("Cannot find module '"+s+"'"),c.code="MODULE_NOT_FOUND",c}c=r[s]={exports:{}},e[s][0].call(c.exports,function(t){var r=e[s][1][t];return o(r?r:t)},c,c.exports,t,e,r,n)}return r[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(t,e,r){var n=t("crypto-js");r.sign=function(t,e){return n.HmacSHA256(e,t).toString(n.enc.Base64)},r.derive_key=function(t,e,r,o){return n.PBKDF2(t,e,{keySize:(o||32)/4,iterations:r||1e3,hasher:n.algo.SHA256}).toString(n.enc.Base64)}},{"crypto-js":38}],2:[function(t,e,r){t("when"),t("when/function"),r.auth=function(t,e){var r=t.defer();return navigator.id.watch({loggedInUser:e,onlogin:function(t){r.resolve(t)},onlogout:function(){t.leave("wamp.close.logout")}}),r.promise.then?r.promise:r}},{when:120,"when/function":96}],3:[function(t,e,r){var n="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};t("./polyfill.js"),e=t("../package.json");var o=t("when"),i=t("msgpack-lite");"AUTOBAHN_DEBUG"in n&&AUTOBAHN_DEBUG&&(t("when/monitor/console"),"console"in n&&console.log("AutobahnJS debug enabled"));var n=t("./util.js"),s=t("./log.js"),a=t("./session.js"),c=t("./connection.js"),u=t("./configure.js"),f=t("./serializer.js"),l=t("./auth/persona.js");t=t("./auth/cra.js"),r.version=e.version,r.transports=u.transports,r.Connection=c.Connection,r.Session=a.Session,r.Invocation=a.Invocation,r.Event=a.Event,r.Result=a.Result,r.Error=a.Error,r.Subscription=a.Subscription,r.Registration=a.Registration,r.Publication=a.Publication,r.serializer=f,r.auth_persona=l.auth,r.auth_cra=t,r.when=o,r.msgpack=i,r.util=n,r.log=s},{"../package.json":21,"./auth/cra.js":1,"./auth/persona.js":2,"./configure.js":4,"./connection.js":5,"./log.js":6,"./polyfill.js":7,"./serializer.js":15,"./session.js":16,"./util.js":20,"msgpack-lite":65,when:120,"when/monitor/console":118}],4:[function(t,e,r){function n(){this._repository={}}n.prototype.register=function(t,e){this._repository[t]=e},n.prototype.isRegistered=function(t){return this._repository[t]?!0:!1},n.prototype.get=function(t){if(void 0!==this._repository[t])return this._repository[t];throw"no such transport: "+t},n.prototype.list=function(){var t,e=[];for(t in this._repository)e.push(t);return e},e=new n;var o=t("./transport/websocket.js");e.register("websocket",o.Factory),o=t("./transport/longpoll.js"),e.register("longpoll",o.Factory),t=t("./transport/rawsocket.js"),e.register("rawsocket",t.Factory),r.transports=e},{"./transport/longpoll.js":17,"./transport/rawsocket.js":18,"./transport/websocket.js":19}],5:[function(t,e,r){(function(e){var n=t("when"),o=t("./session.js"),i=t("./util.js"),s=t("./log.js"),a=t("./autobahn.js"),c=function(t){(this._options=t)&&t.use_es6_promises?"Promise"in e?this._defer=function(){var t={};return t.promise=new Promise(function(e,r){t.resolve=e,t.reject=r}),t}:(s.debug("Warning: ES6 promises requested, but not found! Falling back to whenjs."),this._defer=n.defer):this._defer=t&&t.use_deferred?t.use_deferred:n.defer,this._options.transports||(this._options.transports=[{type:"websocket",url:this._options.url}]),this._transport_factories=[],this._init_transport_factories(),this._session_close_message=this._session_close_reason=this._session=null,this._retry_if_unreachable=void 0!==this._options.retry_if_unreachable?this._options.retry_if_unreachable:!0,this._max_retries="undefined"!=typeof this._options.max_retries?this._options.max_retries:15,this._initial_retry_delay=this._options.initial_retry_delay||1.5,this._max_retry_delay=this._options.max_retry_delay||300,this._retry_delay_growth=this._options.retry_delay_growth||1.5,this._retry_delay_jitter=this._options.retry_delay_jitter||.1,this._connect_successes=0,this._retry=!1,this._retry_count=0,this._retry_delay=this._initial_retry_delay,this._is_retrying=!1,this._retry_timer=null};c.prototype._create_transport=function(){for(var t=0;t<this._transport_factories.length;++t){var e=this._transport_factories[t];s.debug("trying to create WAMP transport of type: "+e.type);try{var r=e.create();if(r)return s.debug("using WAMP transport type: "+e.type),r}catch(n){s.debug("could not create WAMP transport '"+e.type+"': "+n)}}return null},c.prototype._init_transport_factories=function(){var t,e,r;i.assert(this._options.transports,"No transport.factory specified");for(var n=0;n<this._options.transports.length;++n){t=this._options.transports[n],t.url||(t.url=this._options.url),t.serializers||(t.serializers=this._options.serializers),t.protocols||(t.protocols=this._options.protocols),i.assert(t.type,"No transport.type specified"),i.assert("string"==typeof t.type,"transport.type must be a string");try{(r=a.transports.get(t.type))&&(e=new r(t),this._transport_factories.push(e))}catch(o){console.error(o)}}},c.prototype._autoreconnect_reset_timer=function(){this._retry_timer&&clearTimeout(this._retry_timer),this._retry_timer=null},c.prototype._autoreconnect_reset=function(){this._autoreconnect_reset_timer(),this._retry_count=0,this._retry_delay=this._initial_retry_delay,this._is_retrying=!1},c.prototype._autoreconnect_advance=function(){this._retry_delay_jitter&&(this._retry_delay=i.rand_normal(this._retry_delay,this._retry_delay*this._retry_delay_jitter)),this._retry_delay>this._max_retry_delay&&(this._retry_delay=this._max_retry_delay),this._retry_count+=1;var t;return t=this._retry&&(-1===this._max_retries||this._retry_count<=this._max_retries)?{count:this._retry_count,delay:this._retry_delay,will_retry:!0}:{count:null,delay:null,will_retry:!1},this._retry_delay_growth&&(this._retry_delay*=this._retry_delay_growth),t},c.prototype.open=function(){function t(){e._transport=e._create_transport(),e._transport?(e._session=new o.Session(e._transport,e._defer,e._options.onchallenge),e._session_close_reason=null,e._session_close_message=null,e._transport.onopen=function(){e._autoreconnect_reset(),e._connect_successes+=1,e._session.join(e._options.realm,e._options.authmethods,e._options.authid)},e._session.onjoin=function(t){if(e.onopen)try{t.transport=e._transport.info,e.onopen(e._session,t)}catch(r){s.debug("Exception raised from app code while firing Connection.onopen()",r)}},e._session.onleave=function(t,r){e._session_close_reason=t,e._session_close_message=r.message||"",e._retry=!1,e._transport.close(1e3)},e._transport.onclose=function(r){e._autoreconnect_reset_timer(),e._transport=null,0===e._connect_successes?(r="unreachable",e._retry_if_unreachable||(e._retry=!1)):r=r.wasClean?"closed":"lost";var n=e._autoreconnect_advance();if(e.onclose){var o={reason:e._session_close_reason,message:e._session_close_message,retry_delay:n.delay,retry_count:n.count,will_retry:n.will_retry};try{var i=e.onclose(r,o)}catch(a){s.debug("Exception raised from app code while firing Connection.onclose()",a)}}e._session&&(e._session._id=null,e._session=null,e._session_close_reason=null,e._session_close_message=null),e._retry&&!i&&(n.will_retry?(e._is_retrying=!0,s.debug("retrying in "+n.delay+" s"),e._retry_timer=setTimeout(t,1e3*n.delay)):s.debug("giving up trying to reconnect"))}):(e._retry=!1,e.onclose&&e.onclose("unsupported",{reason:null,message:null,retry_delay:null,retry_count:null,will_retry:!1}))}var e=this;if(e._transport)throw"connection already open (or opening)";e._autoreconnect_reset(),e._retry=!0,t()},c.prototype.close=function(t,e){if(!this._transport&&!this._is_retrying)throw"connection already closed";this._retry=!1,this._session&&this._session.isOpen?this._session.leave(t,e):this._transport&&this._transport.close(1e3)},Object.defineProperty(c.prototype,"defer",{get:function(){return this._defer}}),Object.defineProperty(c.prototype,"session",{get:function(){return this._session}}),Object.defineProperty(c.prototype,"isOpen",{get:function(){return this._session&&this._session.isOpen?!0:!1}}),Object.defineProperty(c.prototype,"isConnected",{get:function(){return this._transport?!0:!1}}),Object.defineProperty(c.prototype,"transport",{get:function(){return this._transport?this._transport:{info:{type:"none",url:null,protocol:null}}}}),Object.defineProperty(c.prototype,"isRetrying",{get:function(){return this._is_retrying}}),r.Connection=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./autobahn.js":3,"./log.js":6,"./session.js":16,"./util.js":20,when:120}],6:[function(t,e,r){(function(t){var e=function(){};"AUTOBAHN_DEBUG"in t&&AUTOBAHN_DEBUG&&"console"in t&&(e=function(){console.log.apply(console,arguments)}),r.debug=e}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(t){t("./polyfill/object.js"),t("./polyfill/array.js"),t("./polyfill/string.js"),t("./polyfill/function.js"),t("./polyfill/console.js"),t("./polyfill/typedarray.js"),t("./polyfill/json.js")},{"./polyfill/array.js":8,"./polyfill/console.js":9,"./polyfill/function.js":10,"./polyfill/json.js":11,"./polyfill/object.js":12,"./polyfill/string.js":13,"./polyfill/typedarray.js":14}],8:[function(){"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(t){var e,r,n,o;if(null===this||"undefined"==typeof this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof t)throw new TypeError(t+" is not a function");if(r=Object(this),e=r.length>>>0,o=0,2<=arguments.length)n=arguments[1];else{for(;e>o&&!o in r;)o++;if(o>=e)throw new TypeError("Reduce of empty array with no initial value");n=r[o++]}for(;e>o;o++)o in r&&(n=t(n,r[o],o,r));return n}),"indexOf"in Array.prototype||(Array.prototype.indexOf=function(t,e){void 0===e&&(e=0),0>e&&(e+=this.length),0>e&&(e=0);for(var r=this.length;r>e;e++)if(e in this&&this[e]===t)return e;return-1}),"lastIndexOf"in Array.prototype||(Array.prototype.lastIndexOf=function(t,e){for(void 0===e&&(e=this.length-1),0>e&&(e+=this.length),e>this.length-1&&(e=this.length-1),e++;0<e--;)if(e in this&&this[e]===t)return e;return-1}),"forEach"in Array.prototype||(Array.prototype.forEach=function(t,e){for(var r=0,n=this.length;n>r;r++)r in this&&t.call(e,this[r],r,this)}),"map"in Array.prototype||(Array.prototype.map=function(t,e){for(var r=Array(this.length),n=0,o=this.length;o>n;n++)n in this&&(r[n]=t.call(e,this[n],n,this));return r}),"filter"in Array.prototype||(Array.prototype.filter=function(t,e){for(var r,n=[],o=0,i=this.length;i>o;o++)o in this&&t.call(e,r=this[o],o,this)&&n.push(r);return n}),"every"in Array.prototype||(Array.prototype.every=function(t,e){for(var r=0,n=this.length;n>r;r++)if(r in this&&!t.call(e,this[r],r,this))return!1;return!0}),"some"in Array.prototype||(Array.prototype.some=function(t,e){for(var r=0,n=this.length;n>r;r++)if(r in this&&t.call(e,this[r],r,this))return!0;return!1}),"function"!=typeof Array.prototype.reduceRight&&(Array.prototype.reduceRight=function(t){if(null===this||"undefined"==typeof this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof t)throw new TypeError(t+" is not a function");var e,r=Object(this),n=(r.length>>>0)-1;if(2<=arguments.length)e=arguments[1];else{for(;n>=0&&!n in r;)n--;if(0>n)throw new TypeError("Reduce of empty array with no initial value");e=r[n--]}for(;n>=0;n--)n in r&&(e=t(e,r[n],n,r));return e})},{}],9:[function(){!function(t){t||(t=window.console={log:function(){},info:function(){},warn:function(){},error:function(){},assert:function(){}}),"object"==typeof t.log&&(t.log=Function.prototype.call.bind(t.log,t),t.info=Function.prototype.call.bind(t.info,t),t.warn=Function.prototype.call.bind(t.warn,t),t.error=Function.prototype.call.bind(t.error,t),t.debug=Function.prototype.call.bind(t.info,t)),"group"in t||(t.group=function(e){t.info("\n--- "+e+" ---\n")}),"groupEnd"in t||(t.groupEnd=function(){t.log("\n")}),"assert"in t||(t.assert=function(t,e){if(!t)try{throw Error("assertion failed: "+e)}catch(r){setTimeout(function(){throw r},0)}}),"time"in t||function(){var e={};t.time=function(t){e[t]=(new Date).getTime()},t.timeEnd=function(r){var n=(new Date).getTime();t.info(r+": "+(r in e?n-e[r]:0)+"ms")}}()}("undefined"!=typeof console?console:void 0)},{}],10:[function(){Function.prototype.bind||(Function.prototype.bind=function(t){var e=this,r=Array.prototype.slice.call(arguments,1);return function(){return e.apply(t,Array.prototype.concat.apply(r,arguments))}})},{}],11:[function(e,l,h){"object"!=typeof JSON&&(JSON={}),function(){function b(t){return 10>t?"0"+t:t}function a(t){return g.lastIndex=0,g.test(t)?'"'+t.replace(g,function(t){var e=n[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function d(t,e){var r,n,o,i,s,c=k,u=e[t];switch(u&&"object"==typeof u&&"function"==typeof u.toJSON&&(u=u.toJSON(t)),"function"==typeof p&&(u=p.call(e,t,u)),typeof u){case"string":return a(u);case"number":return isFinite(u)?String(u):"null";case"boolean":case"null":return String(u);case"object":if(!u)return"null";if(k+=m,s=[],"[object Array]"===Object.prototype.toString.apply(u)){for(i=u.length,r=0;i>r;r+=1)s[r]=d(r,u)||"null";return o=0===s.length?"[]":k?"[\n"+k+s.join(",\n"+k)+"\n"+c+"]":"["+s.join(",")+"]",k=c,o}if(p&&"object"==typeof p)for(i=p.length,r=0;i>r;r+=1)"string"==typeof p[r]&&(n=p[r],(o=d(n,u))&&s.push(a(n)+(k?": ":":")+o));else for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(o=d(n,u))&&s.push(a(n)+(k?": ":":")+o);return o=0===s.length?"{}":k?"{\n"+k+s.join(",\n"+k)+"\n"+c+"}":"{"+s.join(",")+"}",k=c,o}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+b(this.getUTCMonth()+1)+"-"+b(this.getUTCDate())+"T"+b(this.getUTCHours())+":"+b(this.getUTCMinutes())+":"+b(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var c,g,k,m,n,p;"function"!=typeof JSON.stringify&&(g=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(t,e,r){var n;if(m=k="","number"==typeof r)for(n=0;r>n;n+=1)m+=" ";else"string"==typeof r&&(m=r);if((p=e)&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw Error("JSON.stringify");return d("",{"":t})}),"function"!=typeof JSON.parse&&(c=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,JSON.parse=function(a,b){function f(t,e){var r,n,o=t[e];if(o&&"object"==typeof o)for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(n=f(o,r),void 0!==n?o[r]=n:delete o[r]);return b.call(t,e,o)}var d;if(a=String(a),c.lastIndex=0,c.test(a)&&(a=a.replace(c,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return d=eval("("+a+")"),"function"==typeof b?f({"":d},""):d;throw new SyntaxError("JSON.parse")})}(),h.JSON=JSON},{}],12:[function(){Object.create||(Object.create=function(){function t(){}return function(e){if(1!=arguments.length)throw Error("Object.create implementation only accepts one parameter.");return t.prototype=e,new t}}()),Object.keys||(Object.keys=function(){var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),r="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),n=r.length;return function(o){if("object"!=typeof o&&("function"!=typeof o||null===o))throw new TypeError("Object.keys called on non-object");var i,s=[];for(i in o)t.call(o,i)&&s.push(i);if(e)for(i=0;n>i;i++)t.call(o,r[i])&&s.push(r[i]);return s}}())},{}],13:[function(){"trim"in String.prototype||(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")})},{}],14:[function(t,e,r){"undefined"==typeof Uint8Array&&function(t,e){function r(t){switch(typeof t){case"undefined":return"undefined";case"boolean":return"boolean";case"number":return"number";case"string":return"string";default:return null===t?"null":"object"}}function n(t){return Object.prototype.toString.call(t).replace(/^\[object *|\]$/g,"")}function o(t){return"function"==typeof t}function i(t){if(null===t||void 0===t)throw TypeError();return Object(t)}function s(t){function e(e){Object.defineProperty(t,e,{get:function(){return t._getter(e)},set:function(r){t._setter(e,r)},enumerable:!0,configurable:!1})}if(1e5<t.length)throw RangeError("Array too large for polyfill");var r;for(r=0;r<t.length;r+=1)e(r)}function a(t,e){var r=32-e;return t<<r>>r}function c(t,e){var r=32-e;return t<<r>>>r}function u(t){return[255&t]}function f(t){return a(t[0],8)}function l(t){return[255&t]}function h(t){return c(t[0],8)}function p(t){return t=U(Number(t)),[0>t?0:t>255?255:255&t]}function d(t){return[t>>8&255,255&t]}function y(t){return a(t[0]<<8|t[1],16)}function _(t){return[t>>8&255,255&t]}function g(t){return c(t[0]<<8|t[1],16)}function b(t){return[t>>24&255,t>>16&255,t>>8&255,255&t]}function v(t){return a(t[0]<<24|t[1]<<16|t[2]<<8|t[3],32)}function m(t){return[t>>24&255,t>>16&255,t>>8&255,255&t]}function w(t){return c(t[0]<<24|t[1]<<16|t[2]<<8|t[3],32)}function E(t,e,r){function n(t){var e=R(t);return t-=e,.5>t?e:t>.5?e+1:e%2?e+1:e}var o,i,s,a=(1<<e-1)-1;for(t!==t?(i=(1<<e)-1,s=M(2,r-1),o=0):1/0===t||-(1/0)===t?(i=(1<<e)-1,s=0,o=0>t?1:0):0===t?(s=i=0,o=-(1/0)===1/t?1:0):(o=0>t,t=C(t),t>=M(2,1-a)?(i=O(R(j(t)/x),1023),s=n(t/M(2,i)*M(2,r)),2<=s/M(2,r)&&(i+=1,s=1),i>a?(i=(1<<e)-1,s=0):(i+=a,s-=M(2,r))):(i=0,s=n(t/M(2,1-a-r)))),t=[];r;--r)t.push(s%2?1:0),s=R(s/2);for(r=e;r;--r)t.push(i%2?1:0),i=R(i/2);for(t.push(o?1:0),t.reverse(),e=t.join(""),o=[];e.length;)o.push(parseInt(e.substring(0,8),2)),e=e.substring(8);return o}function S(t,e,r){var n,o,i,s=[];for(n=t.length;n;--n)for(i=t[n-1],o=8;o;--o)s.push(i%2?1:0),i>>=1;return s.reverse(),o=s.join(""),t=(1<<e-1)-1,s=parseInt(o.substring(0,1),2)?-1:1,n=parseInt(o.substring(1,1+e),2),o=parseInt(o.substring(1+e),2),n===(1<<e)-1?0!==o?0/0:1/0*s:n>0?s*M(2,n-t)*(1+o/M(2,r)):0!==o?s*M(2,-(t-1))*(o/M(2,r)):0>s?-0:0}function A(t){return S(t,11,52)}function k(t){return E(t,11,52)}function P(t){return S(t,8,23)}function T(t){return E(t,8,23)}var x=Math.LN2,C=Math.abs,R=Math.floor,j=Math.log,B=Math.max,O=Math.min,M=Math.pow,U=Math.round;!function(){var t,e=Object.defineProperty;try{t=Object.defineProperty({},"x",{})}catch(r){t=!1}e&&t||(Object.defineProperty=function(t,r,n){if(e)try{return e(t,r,n)}catch(o){}if(t!==Object(t))throw TypeError("Object.defineProperty called on non-object");return Object.prototype.__defineGetter__&&"get"in n&&Object.prototype.__defineGetter__.call(t,r,n.get),Object.prototype.__defineSetter__&&"set"in n&&Object.prototype.__defineSetter__.call(t,r,n.set),"value"in n&&(t[r]=n.value),t})}(),function(){function a(t){if(t>>=0,0>t)throw RangeError("ArrayBuffer size is not a small enough positive integer.");Object.defineProperty(this,"byteLength",{value:t}),Object.defineProperty(this,"_bytes",{value:Array(t)});for(var e=0;t>e;e+=1)this._bytes[e]=0}function c(){if(!arguments.length||"object"!=typeof arguments[0])return function(t){if(t>>=0,0>t)throw RangeError("length is not a small enough positive integer.");Object.defineProperty(this,"length",{value:t}),Object.defineProperty(this,"byteLength",{value:t*this.BYTES_PER_ELEMENT}),Object.defineProperty(this,"buffer",{value:new a(this.byteLength)}),Object.defineProperty(this,"byteOffset",{value:0})}.apply(this,arguments);if(1<=arguments.length&&"object"===r(arguments[0])&&arguments[0]instanceof c)return function(t){if(this.constructor!==t.constructor)throw TypeError();var e=t.length*this.BYTES_PER_ELEMENT;for(Object.defineProperty(this,"buffer",{value:new a(e)}),Object.defineProperty(this,"byteLength",{value:e}),Object.defineProperty(this,"byteOffset",{value:0}),Object.defineProperty(this,"length",{value:t.length}),e=0;e<this.length;e+=1)this._setter(e,t._getter(e))}.apply(this,arguments);if(1<=arguments.length&&"object"===r(arguments[0])&&!(arguments[0]instanceof c)&&!(arguments[0]instanceof a||"ArrayBuffer"===n(arguments[0])))return function(t){var e=t.length*this.BYTES_PER_ELEMENT;for(Object.defineProperty(this,"buffer",{value:new a(e)}),Object.defineProperty(this,"byteLength",{value:e}),Object.defineProperty(this,"byteOffset",{value:0}),Object.defineProperty(this,"length",{value:t.length}),e=0;e<this.length;e+=1)this._setter(e,Number(t[e]))}.apply(this,arguments);if(1<=arguments.length&&"object"===r(arguments[0])&&(arguments[0]instanceof a||"ArrayBuffer"===n(arguments[0])))return function(t,e,r){if(e>>>=0,e>t.byteLength)throw RangeError("byteOffset out of range");if(e%this.BYTES_PER_ELEMENT)throw RangeError("buffer length minus the byteOffset is not a multiple of the element size.");if(void 0===r){var n=t.byteLength-e;if(n%this.BYTES_PER_ELEMENT)throw RangeError("length of buffer minus byteOffset not a multiple of the element size");r=n/this.BYTES_PER_ELEMENT}else r>>>=0,n=r*this.BYTES_PER_ELEMENT;if(e+n>t.byteLength)throw RangeError("byteOffset and length reference an area beyond the end of the buffer");Object.defineProperty(this,"buffer",{value:t}),Object.defineProperty(this,"byteLength",{value:n}),Object.defineProperty(this,"byteOffset",{value:e}),Object.defineProperty(this,"length",{value:r})}.apply(this,arguments);throw TypeError()}function E(t,e,r){var n=function(){Object.defineProperty(this,"constructor",{value:n}),c.apply(this,arguments),s(this)};"__proto__"in n?n.__proto__=c:(n.from=c.from,n.of=c.of),n.BYTES_PER_ELEMENT=t;var o=function(){};return o.prototype=S,n.prototype=new o,Object.defineProperty(n.prototype,"BYTES_PER_ELEMENT",{value:t}),Object.defineProperty(n.prototype,"_pack",{value:e}),Object.defineProperty(n.prototype,"_unpack",{value:r}),n}t.ArrayBuffer=t.ArrayBuffer||a,Object.defineProperty(c,"from",{value:function(t){return new this(t)}}),Object.defineProperty(c,"of",{value:function(){return new this(arguments)}});var S={};c.prototype=S,Object.defineProperty(c.prototype,"_getter",{value:function(t){if(1>arguments.length)throw SyntaxError("Not enough arguments");if(t>>>=0,!(t>=this.length)){var e,r,n=[];for(e=0,r=this.byteOffset+t*this.BYTES_PER_ELEMENT;e<this.BYTES_PER_ELEMENT;e+=1,r+=1)n.push(this.buffer._bytes[r]);return this._unpack(n)}}}),Object.defineProperty(c.prototype,"get",{value:c.prototype._getter}),Object.defineProperty(c.prototype,"_setter",{value:function(t,e){if(2>arguments.length)throw SyntaxError("Not enough arguments");if(t>>>=0,!(t>=this.length)){var r,n,o=this._pack(e);for(r=0,n=this.byteOffset+t*this.BYTES_PER_ELEMENT;r<this.BYTES_PER_ELEMENT;r+=1,n+=1)this.buffer._bytes[n]=o[r]}}}),Object.defineProperty(c.prototype,"constructor",{value:c}),Object.defineProperty(c.prototype,"copyWithin",{value:function(t,e,r){var n=i(this),o=n.length>>>0,o=B(o,0);for(t>>=0,t=0>t?B(o+t,0):O(t,o),e>>=0,e=0>e?B(o+e,0):O(e,o),r=void 0===r?o:r>>0,r=0>r?B(o+r,0):O(r,o),o=O(r-e,o-t),from<t&&e+o>t?(r=-1,e=e+o-1,t=t+o-1):r=1;0<count;)n._setter(t,n._getter(e)),e+=r,t+=r,--o;return n}}),Object.defineProperty(c.prototype,"every",{value:function(t,e){if(void 0===this||null===this)throw TypeError();var r=Object(this),n=r.length>>>0;if(!o(t))throw TypeError();for(var i=0;n>i;i++)if(!t.call(e,r._getter(i),i,r))return!1;return!0}}),Object.defineProperty(c.prototype,"fill",{value:function(t,e,r){var n=i(this),o=n.length>>>0,o=B(o,0);for(e>>=0,e=0>e?B(o+e,0):O(e,o),r=void 0===r?o:r>>0,o=0>r?B(o+r,0):O(r,o);o>e;)n._setter(e,t),e+=1;return n}}),Object.defineProperty(c.prototype,"filter",{value:function(t,e){if(void 0===this||null===this)throw TypeError();var r=Object(this),n=r.length>>>0;if(!o(t))throw TypeError();for(var i=[],s=0;n>s;s++){var a=r._getter(s);t.call(e,a,s,r)&&i.push(a)}return new this.constructor(i)}}),Object.defineProperty(c.prototype,"find",{value:function(t){var e=i(this),r=e.length>>>0;if(!o(t))throw TypeError();for(var n=1<arguments.length?arguments[1]:void 0,s=0;r>s;){var a=e._getter(s);if(t.call(n,a,s,e))return a;++s}}}),Object.defineProperty(c.prototype,"findIndex",{value:function(t){var e=i(this),r=e.length>>>0;if(!o(t))throw TypeError();for(var n=1<arguments.length?arguments[1]:void 0,s=0;r>s;){var a=e._getter(s);if(t.call(n,a,s,e))return s;++s}return-1}}),Object.defineProperty(c.prototype,"forEach",{value:function(t,e){if(void 0===this||null===this)throw TypeError();var r=Object(this),n=r.length>>>0;if(!o(t))throw TypeError();for(var i=0;n>i;i++)t.call(e,r._getter(i),i,r)}}),Object.defineProperty(c.prototype,"indexOf",{value:function(t){if(void 0===this||null===this)throw TypeError();var e=Object(this),r=e.length>>>0;if(0===r)return-1;var n,o=0;if(0<arguments.length&&(n=Number(arguments[1]),n!==o?o=0:0!==n&&n!==1/0&&n!==-(1/0)&&(o=(n>0||-1)*R(C(n)))),o>=r)return-1;for(o=o>=0?o:B(r-C(o),0);r>o;o++)if(e._getter(o)===t)return o;return-1}}),Object.defineProperty(c.prototype,"join",{value:function(t){if(void 0===this||null===this)throw TypeError();for(var e=Object(this),r=e.length>>>0,n=Array(r),o=0;r>o;++o)n[o]=e._getter(o);return n.join(void 0===t?",":t)}}),Object.defineProperty(c.prototype,"lastIndexOf",{value:function(t){if(void 0===this||null===this)throw TypeError();var e=Object(this),r=e.length>>>0;if(0===r)return-1;var n=r;for(1<arguments.length&&(n=Number(arguments[1]),n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*R(C(n)))),r=n>=0?O(n,r-1):r-C(n);r>=0;r--)if(e._getter(r)===t)return r;return-1}}),Object.defineProperty(c.prototype,"map",{value:function(t,e){if(void 0===this||null===this)throw TypeError();var r=Object(this),n=r.length>>>0;if(!o(t))throw TypeError();var i=[];i.length=n;for(var s=0;n>s;s++)i[s]=t.call(e,r._getter(s),s,r);return new this.constructor(i)}}),Object.defineProperty(c.prototype,"reduce",{value:function(t){if(void 0===this||null===this)throw TypeError();var e=Object(this),r=e.length>>>0;if(!o(t))throw TypeError();if(0===r&&1===arguments.length)throw TypeError();var n,i=0;for(n=2<=arguments.length?arguments[1]:e._getter(i++);r>i;)n=t.call(void 0,n,e._getter(i),i,e),i++;return n}}),Object.defineProperty(c.prototype,"reduceRight",{value:function(t){if(void 0===this||null===this)throw TypeError();var e=Object(this),r=e.length>>>0;if(!o(t))throw TypeError();if(0===r&&1===arguments.length)throw TypeError();var n,r=r-1;for(n=2<=arguments.length?arguments[1]:e._getter(r--);r>=0;)n=t.call(void 0,n,e._getter(r),r,e),r--;return n}}),Object.defineProperty(c.prototype,"reverse",{value:function(){if(void 0===this||null===this)throw TypeError();for(var t=Object(this),e=t.length>>>0,r=R(e/2),n=0,e=e-1;r>n;++n,--e){var o=t._getter(n);t._setter(n,t._getter(e)),t._setter(e,o)}return t}}),Object.defineProperty(c.prototype,"set",{value:function(){if(1>arguments.length)throw SyntaxError("Not enough arguments");var t,e,r,n,o,i;if("object"==typeof arguments[0]&&arguments[0].constructor===this.constructor){if(t=arguments[0],e=arguments[1]>>>0,e+t.length>this.length)throw RangeError("Offset plus length of array is out of range");if(i=this.byteOffset+e*this.BYTES_PER_ELEMENT,e=t.length*this.BYTES_PER_ELEMENT,t.buffer===this.buffer){for(r=[],n=0,o=t.byteOffset;e>n;n+=1,o+=1)r[n]=t.buffer._bytes[o];for(n=0;e>n;n+=1,i+=1)this.buffer._bytes[i]=r[n]}else for(n=0,o=t.byteOffset;e>n;n+=1,o+=1,i+=1)this.buffer._bytes[i]=t.buffer._bytes[o]}else{if("object"!=typeof arguments[0]||"undefined"==typeof arguments[0].length)throw TypeError("Unexpected argument type(s)");if(t=arguments[0],r=t.length>>>0,e=arguments[1]>>>0,e+r>this.length)throw RangeError("Offset plus length of array is out of range");for(n=0;r>n;n+=1)o=t[n],this._setter(e+n,Number(o))}}}),Object.defineProperty(c.prototype,"slice",{value:function(t,e){for(var r=i(this),n=r.length>>>0,o=t>>0,o=0>o?B(n+o,0):O(o,n),s=void 0===e?n:e>>0,n=0>s?B(n+s,0):O(s,n),s=new r.constructor(n-o),a=0;n>o;){var c=r._getter(o);s._setter(a,c),++o,++a}return s}}),Object.defineProperty(c.prototype,"some",{value:function(t,e){if(void 0===this||null===this)throw TypeError();var r=Object(this),n=r.length>>>0;if(!o(t))throw TypeError();for(var i=0;n>i;i++)if(t.call(e,r._getter(i),i,r))return!0;return!1}}),Object.defineProperty(c.prototype,"sort",{value:function(t){
if(void 0===this||null===this)throw TypeError();for(var e=Object(this),r=e.length>>>0,n=Array(r),o=0;r>o;++o)n[o]=e._getter(o);for(t?n.sort(t):n.sort(),o=0;r>o;++o)e._setter(o,n[o]);return e}}),Object.defineProperty(c.prototype,"subarray",{value:function(t,e){t>>=0,e>>=0,1>arguments.length&&(t=0),2>arguments.length&&(e=this.length),0>t&&(t=this.length+t),0>e&&(e=this.length+e);var r=this.length;return t=0>t?0:t>r?r:t,r=this.length,r=(0>e?0:e>r?r:e)-t,0>r&&(r=0),new this.constructor(this.buffer,this.byteOffset+t*this.BYTES_PER_ELEMENT,r)}});var x=E(1,u,f),j=E(1,l,h),M=E(1,p,h),U=E(2,d,y),I=E(2,_,g),N=E(4,b,v),L=E(4,m,w),D=E(4,T,P),G=E(8,k,A);t.Int8Array=e.Int8Array=t.Int8Array||x,t.Uint8Array=e.Uint8Array=t.Uint8Array||j,t.Uint8ClampedArray=e.Uint8ClampedArray=t.Uint8ClampedArray||M,t.Int16Array=e.Int16Array=t.Int16Array||U,t.Uint16Array=e.Uint16Array=t.Uint16Array||I,t.Int32Array=e.Int32Array=t.Int32Array||N,t.Uint32Array=e.Uint32Array=t.Uint32Array||L,t.Float32Array=e.Float32Array=t.Float32Array||D,t.Float64Array=e.Float64Array=t.Float64Array||G}(),function(){function e(t,e){return o(t.get)?t.get(e):t[e]}function r(t,e,r){if(!(t instanceof ArrayBuffer||"ArrayBuffer"===n(t)))throw TypeError();if(e>>>=0,e>t.byteLength)throw RangeError("byteOffset out of range");if(r=void 0===r?t.byteLength-e:r>>>0,e+r>t.byteLength)throw RangeError("byteOffset and length reference an area beyond the end of the buffer");Object.defineProperty(this,"buffer",{value:t}),Object.defineProperty(this,"byteLength",{value:r}),Object.defineProperty(this,"byteOffset",{value:e})}function i(r){return function(n,o){if(n>>>=0,n+r.BYTES_PER_ELEMENT>this.byteLength)throw RangeError("Array index out of range");n+=this.byteOffset;for(var i=new t.Uint8Array(this.buffer,n,r.BYTES_PER_ELEMENT),s=[],c=0;c<r.BYTES_PER_ELEMENT;c+=1)s.push(e(i,c));return!!o==!!a&&s.reverse(),e(new r(new t.Uint8Array(s).buffer),0)}}function s(r){return function(n,o,i){if(n>>>=0,n+r.BYTES_PER_ELEMENT>this.byteLength)throw RangeError("Array index out of range");o=new r([o]),o=new t.Uint8Array(o.buffer);var s,c=[];for(s=0;s<r.BYTES_PER_ELEMENT;s+=1)c.push(e(o,s));!!i==!!a&&c.reverse(),new Uint8Array(this.buffer,n,r.BYTES_PER_ELEMENT).set(c)}}var a=function(){var r=new t.Uint16Array([4660]),r=new t.Uint8Array(r.buffer);return 18===e(r,0)}();Object.defineProperty(r.prototype,"getUint8",{value:i(t.Uint8Array)}),Object.defineProperty(r.prototype,"getInt8",{value:i(t.Int8Array)}),Object.defineProperty(r.prototype,"getUint16",{value:i(t.Uint16Array)}),Object.defineProperty(r.prototype,"getInt16",{value:i(t.Int16Array)}),Object.defineProperty(r.prototype,"getUint32",{value:i(t.Uint32Array)}),Object.defineProperty(r.prototype,"getInt32",{value:i(t.Int32Array)}),Object.defineProperty(r.prototype,"getFloat32",{value:i(t.Float32Array)}),Object.defineProperty(r.prototype,"getFloat64",{value:i(t.Float64Array)}),Object.defineProperty(r.prototype,"setUint8",{value:s(t.Uint8Array)}),Object.defineProperty(r.prototype,"setInt8",{value:s(t.Int8Array)}),Object.defineProperty(r.prototype,"setUint16",{value:s(t.Uint16Array)}),Object.defineProperty(r.prototype,"setInt16",{value:s(t.Int16Array)}),Object.defineProperty(r.prototype,"setUint32",{value:s(t.Uint32Array)}),Object.defineProperty(r.prototype,"setInt32",{value:s(t.Int32Array)}),Object.defineProperty(r.prototype,"setFloat32",{value:s(t.Float32Array)}),Object.defineProperty(r.prototype,"setFloat64",{value:s(t.Float64Array)}),t.DataView=t.DataView||r}()}(r,window),"undefined"==typeof window||"Uint8ClampedArray"in window||(window.Uint8ClampedArray=window.Uint8Array)},{}],15:[function(t,e,r){function n(t,e){this.replacer=t,this.reviver=e,this.SERIALIZER_ID="json",this.BINARY=!1}function o(){this.SERIALIZER_ID="msgpack",this.BINARY=!0,this.codec=i.createCodec()}t("./log.js");var i=t("msgpack-lite");n.prototype.serialize=function(t){return JSON.stringify(t,this.replacer)},n.prototype.unserialize=function(t){return JSON.parse(t,this.reviver)},r.JSONSerializer=n,i=t("msgpack-lite"),o.prototype.serialize=function(t){return i.encode(t,{codec:this.codec})},o.prototype.unserialize=function(t){return i.decode(new Uint8Array(t),{codec:this.codec})},o.prototype.registerExtType=function(t,e,r,n){r&&e&&this.codec.addExtPacker(t,e,r),n&&this.codec.addExtUnpacker(t,n)},r.MsgpackSerializer=o},{"./log.js":6,"msgpack-lite":65}],16:[function(t,e,r){(function(e){function n(){return new a(Math.floor(9007199254740992*Math.random()))}t("when");var o=t("when/function"),i=t("./log.js"),s=t("./util.js"),a=t("int64-buffer").Uint64BE;Date.now=Date.now||function(){return+new Date};var c={caller:{features:{caller_identification:!0,progressive_call_results:!0}},callee:{features:{caller_identification:!0,pattern_based_registration:!0,shared_registration:!0,progressive_call_results:!0,registration_revocation:!0}},publisher:{features:{publisher_identification:!0,subscriber_blackwhite_listing:!0,publisher_exclusion:!0}},subscriber:{features:{publisher_identification:!0,pattern_based_subscription:!0,subscription_revocation:!0}}},u=function(t,e,r,n,o){this.procedure=t,this.progress=e,this.caller=r,this.caller_authid=n,this.caller_authrole=o},f=function(t,e,r,n,o){this.publication=t,this.topic=e,this.publisher=r,this.publisher_authid=n,this.publisher_authrole=o},l=function(t,e){this.args=t||[],this.kwargs=e||{}},h=function(t,e,r){this.error=t,this.args=e||[],this.kwargs=r||{}},p=function(t,e,r,n,o){this.topic=t,this.handler=e,this.options=r||{},this.session=n,this.id=o,this.active=!0,this._on_unsubscribe=n._defer(),this.on_unsubscribe=this._on_unsubscribe.promise.then?this._on_unsubscribe.promise:this._on_unsubscribe};p.prototype.unsubscribe=function(){return this.session.unsubscribe(this)};var d=function(t,e,r,n,o){this.procedure=t,this.endpoint=e,this.options=r||{},this.session=n,this.id=o,this.active=!0,this._on_unregister=n._defer(),this.on_unregister=this._on_unregister.promise.then?this._on_unregister.promise:this._on_unregister};d.prototype.unregister=function(){return this.session.unregister(this)};var y=function(t){this.id=t},_=function(t,r,n){var s=this;s._socket=t,s._defer=r,s._onchallenge=n,s._id=null,s._realm=null,s._features=null,s._goodbye_sent=!1,s._transport_is_closing=!1,s._publish_reqs={},s._subscribe_reqs={},s._unsubscribe_reqs={},s._call_reqs={},s._register_reqs={},s._unregister_reqs={},s._subscriptions={},s._registrations={},s._invocations={},s._prefixes={},s._caller_disclose_me=!1,s._publisher_disclose_me=!1,s._send_wamp=function(t){i.debug(t),s._socket.send(t)},s._protocol_violation=function(t){i.debug("failing transport due to protocol violation: "+t),s._socket.close(1002,"protocol violation: "+t)},s._MESSAGE_MAP={},s._MESSAGE_MAP[8]={},s._process_SUBSCRIBED=function(t){var e=t[1];if(t=t[2],e in s._subscribe_reqs){var r=s._subscribe_reqs[e],n=r[0],o=r[1],i=r[2],r=r[3];t in s._subscriptions||(s._subscriptions[t]=[]),o=new p(o,i,r,s,t),s._subscriptions[t].push(o),n.resolve(o),delete s._subscribe_reqs[e]}else s._protocol_violation("SUBSCRIBED received for non-pending request ID "+e)},s._MESSAGE_MAP[33]=s._process_SUBSCRIBED,s._process_SUBSCRIBE_ERROR=function(t){var e=t[2];e in s._subscribe_reqs?(t=new h(t[4],t[5],t[6]),s._subscribe_reqs[e][0].reject(t),delete s._subscribe_reqs[e]):s._protocol_violation("SUBSCRIBE-ERROR received for non-pending request ID "+e)},s._MESSAGE_MAP[8][32]=s._process_SUBSCRIBE_ERROR,s._process_UNSUBSCRIBED=function(t){var e=t[1];if(e in s._unsubscribe_reqs){t=s._unsubscribe_reqs[e];var r=t[0];if(t=t[1],t in s._subscriptions){for(var n=s._subscriptions[t],o=0;o<n.length;++o)n[o].active=!1,n[o].on_unsubscribe.resolve();delete s._subscriptions[t]}r.resolve(!0),delete s._unsubscribe_reqs[e]}else if(0===e)if(e=t[2],t=e.subscription,e=e.reason,t in s._subscriptions){for(n=s._subscriptions[t],o=0;o<n.length;++o)n[o].active=!1,n[o]._on_unsubscribe.resolve(e);delete s._subscriptions[t]}else s._protocol_violation("non-voluntary UNSUBSCRIBED received for non-existing subscription ID "+t);else s._protocol_violation("UNSUBSCRIBED received for non-pending request ID "+e)},s._MESSAGE_MAP[35]=s._process_UNSUBSCRIBED,s._process_UNSUBSCRIBE_ERROR=function(t){var e=t[2];e in s._unsubscribe_reqs?(t=new h(t[4],t[5],t[6]),s._unsubscribe_reqs[e][0].reject(t),delete s._unsubscribe_reqs[e]):s._protocol_violation("UNSUBSCRIBE-ERROR received for non-pending request ID "+e)},s._MESSAGE_MAP[8][34]=s._process_UNSUBSCRIBE_ERROR,s._process_PUBLISHED=function(t){var e=t[1],r=t[2];e in s._publish_reqs?(t=s._publish_reqs[e][0],r=new y(r),t.resolve(r),delete s._publish_reqs[e]):s._protocol_violation("PUBLISHED received for non-pending request ID "+e)},s._MESSAGE_MAP[17]=s._process_PUBLISHED,s._process_PUBLISH_ERROR=function(t){var e=t[2];e in s._publish_reqs?(t=new h(t[4],t[5],t[6]),s._publish_reqs[e][0].reject(t),delete s._publish_reqs[e]):s._protocol_violation("PUBLISH-ERROR received for non-pending request ID "+e)},s._MESSAGE_MAP[8][16]=s._process_PUBLISH_ERROR,s._process_EVENT=function(t){var e=t[1];if(e in s._subscriptions){var r=t[3],n=t[4]||[],o=t[5]||{},e=s._subscriptions[e];for(t=new f(t[2],r.topic||e[0]&&e[0].topic,r.publisher,r.publisher_authid,r.publisher_authrole),r=0;r<e.length;++r)try{e[r].handler(n,o,t)}catch(a){i.debug("Exception raised in event handler",a)}}else s._protocol_violation("EVENT received for non-subscribed subscription ID "+e)},s._MESSAGE_MAP[36]=s._process_EVENT,s._process_REGISTERED=function(t){var e=t[1];if(t=t[2],e in s._register_reqs){var r=s._register_reqs[e],n=r[0],r=new d(r[1],r[2],r[3],s,t);s._registrations[t]=r,n.resolve(r),delete s._register_reqs[e]}else s._protocol_violation("REGISTERED received for non-pending request ID "+e)},s._MESSAGE_MAP[65]=s._process_REGISTERED,s._process_REGISTER_ERROR=function(t){var e=t[2];e in s._register_reqs?(t=new h(t[4],t[5],t[6]),s._register_reqs[e][0].reject(t),delete s._register_reqs[e]):s._protocol_violation("REGISTER-ERROR received for non-pending request ID "+e)},s._MESSAGE_MAP[8][64]=s._process_REGISTER_ERROR,s._process_UNREGISTERED=function(t){var e=t[1];if(e in s._unregister_reqs){t=s._unregister_reqs[e];var r=t[0];t=t[1],t.id in s._registrations&&delete s._registrations[t.id],t.active=!1,r.resolve(),delete s._unregister_reqs[e]}else 0===e?(t=t[2],e=t.registration,r=t.reason,e in s._registrations?(t=s._registrations[e],t.active=!1,t._on_unregister.resolve(r),delete s._registrations[e]):s._protocol_violation("non-voluntary UNREGISTERED received for non-existing registration ID "+e)):s._protocol_violation("UNREGISTERED received for non-pending request ID "+e)},s._MESSAGE_MAP[67]=s._process_UNREGISTERED,s._process_UNREGISTER_ERROR=function(t){var e=t[2];e in s._unregister_reqs?(t=new h(t[4],t[5],t[6]),s._unregister_reqs[e][0].reject(t),delete s._unregister_reqs[e]):s._protocol_violation("UNREGISTER-ERROR received for non-pending request ID "+e)},s._MESSAGE_MAP[8][66]=s._process_UNREGISTER_ERROR,s._process_RESULT=function(t){var e=t[1];if(e in s._call_reqs){var r=t[2],n=t[3]||[],o=t[4]||{};t=null,1<n.length||0<Object.keys(o).length?t=new l(n,o):0<n.length&&(t=n[0]),o=s._call_reqs[e],n=o[0],o=o[1],r.progress?o&&o.receive_progress&&n.notify(t):(n.resolve(t),delete s._call_reqs[e])}else s._protocol_violation("CALL-RESULT received for non-pending request ID "+e)},s._MESSAGE_MAP[50]=s._process_RESULT,s._process_CALL_ERROR=function(t){var e=t[2];e in s._call_reqs?(t=new h(t[4],t[5],t[6]),s._call_reqs[e][0].reject(t),delete s._call_reqs[e]):s._protocol_violation("CALL-ERROR received for non-pending request ID "+e)},s._MESSAGE_MAP[8][48]=s._process_CALL_ERROR,s._process_INVOCATION=function(t){var e=t[1],r=t[2],n=t[3];if(r in s._registrations){var r=s._registrations[r],i=t[4]||[];t=t[5]||{};var a=null;n.receive_progress&&(a=function(t,r){var n=[70,e,{progress:!0}];t=t||[],r=r||{};var o=Object.keys(r).length;(t.length||o)&&(n.push(t),o&&n.push(r)),s._send_wamp(n)}),n=new u(n.procedure||r.procedure,a,n.caller,n.caller_authid,n.caller_authrole),o.call(r.endpoint,i,t,n).then(function(t){var r=[70,e,{}];if(t instanceof l){var n=Object.keys(t.kwargs).length;(t.args.length||n)&&(r.push(t.args),n&&r.push(t.kwargs))}else r.push([t]);s._send_wamp(r)},function(t){var r=[8,68,e,{}];if(t instanceof h){r.push(t.error);var n=Object.keys(t.kwargs).length;(t.args.length||n)&&(r.push(t.args),n&&r.push(t.kwargs))}else r.push("wamp.error.runtime_error"),r.push([t]);s._send_wamp(r)})}else s._protocol_violation("INVOCATION received for non-registered registration ID "+e)},s._MESSAGE_MAP[68]=s._process_INVOCATION,s._socket.onmessage=function(t){var e=t[0];if(s._id)if(6===e)s._goodbye_sent||s._send_wamp([6,{},"wamp.error.goodbye_and_out"]),s._id=null,s._realm=null,s._features=null,e=t[1],t=t[2],s.onleave&&s.onleave(t,e);else if(8===e){var r=t[1];r in s._MESSAGE_MAP[8]?s._MESSAGE_MAP[e][r](t):s._protocol_violation("unexpected ERROR message with request_type "+r)}else e in s._MESSAGE_MAP?s._MESSAGE_MAP[e](t):s._protocol_violation("unexpected message type "+e);else if(2===e){if(s._id=t[1],e=t[2],s._features={},e.roles.broker&&(s._features.subscriber={},s._features.publisher={},e.roles.broker.features)){for(r in c.publisher.features)s._features.publisher[r]=c.publisher.features[r]&&e.roles.broker.features[r];for(r in c.subscriber.features)s._features.subscriber[r]=c.subscriber.features[r]&&e.roles.broker.features[r]}if(e.roles.dealer&&(s._features.caller={},s._features.callee={},e.roles.dealer.features)){for(r in c.caller.features)s._features.caller[r]=c.caller.features[r]&&e.roles.dealer.features[r];for(r in c.callee.features)s._features.callee[r]=c.callee.features[r]&&e.roles.dealer.features[r]}s.onjoin&&s.onjoin(t[2])}else 3===e?(e=t[1],t=t[2],s.onleave&&s.onleave(t,e)):4===e?s._onchallenge?o.call(s._onchallenge,s,t[1],t[2]).then(function(t){s._send_wamp([5,t,{}])},function(t){i.debug("onchallenge() raised:",t),s._send_wamp([3,{message:"sorry, I cannot authenticate (onchallenge handler raised an exception)"},"wamp.error.cannot_authenticate"]),s._socket.close(1e3)}):(i.debug("received WAMP challenge, but no onchallenge() handler set"),t=[3,{message:"sorry, I cannot authenticate (no onchallenge handler set)"},"wamp.error.cannot_authenticate"],s._send_wamp(t),s._socket.close(1e3)):s._protocol_violation("unexpected message type "+e)},s._created="performance"in e&&"now"in performance?performance.now():Date.now()};Object.defineProperty(_.prototype,"defer",{get:function(){return this._defer}}),Object.defineProperty(_.prototype,"id",{get:function(){return this._id}}),Object.defineProperty(_.prototype,"realm",{get:function(){return this._realm}}),Object.defineProperty(_.prototype,"isOpen",{get:function(){return null!==this.id}}),Object.defineProperty(_.prototype,"features",{get:function(){return this._features}}),Object.defineProperty(_.prototype,"caller_disclose_me",{get:function(){return this._caller_disclose_me},set:function(t){this._caller_disclose_me=t}}),Object.defineProperty(_.prototype,"publisher_disclose_me",{get:function(){return this._publisher_disclose_me},set:function(t){this._publisher_disclose_me=t}}),Object.defineProperty(_.prototype,"subscriptions",{get:function(){for(var t=Object.keys(this._subscriptions),e=[],r=0;r<t.length;++r)e.push(this._subscriptions[t[r]]);return e}}),Object.defineProperty(_.prototype,"registrations",{get:function(){for(var t=Object.keys(this._registrations),e=[],r=0;r<t.length;++r)e.push(this._registrations[t[r]]);return e}}),_.prototype.log=function(){if("console"in e){var t;if(this._id&&this._created?(t="performance"in e&&"now"in performance?performance.now()-this._created:Date.now()-this._created,t="WAMP session "+this._id+" on '"+this._realm+"' at "+Math.round(1e3*t)/1e3+" ms"):t="WAMP session","group"in console){for(console.group(t),t=0;t<arguments.length;t+=1)console.log(arguments[t]);console.groupEnd()}else{var r=[t+": "];for(t=0;t<arguments.length;t+=1)r.push(arguments[t]);console.log.apply(console,r)}}},_.prototype.join=function(t,e,r){if(s.assert("string"==typeof t,"Session.join: <realm> must be a string"),s.assert(!e||Array.isArray(e),"Session.join: <authmethods> must be an array []"),s.assert(!r||"string"==typeof r,"Session.join: <authid> must be a string"),this.isOpen)throw"session already open";this._goodbye_sent=!1,this._realm=t;var n={};n.roles=c,e&&(n.authmethods=e),r&&(n.authid=r),this._send_wamp([1,t,n])},_.prototype.leave=function(t,e){if(s.assert(!t||"string"==typeof t,"Session.leave: <reason> must be a string"),s.assert(!e||"string"==typeof e,"Session.leave: <message> must be a string"),!this.isOpen)throw"session not open";t||(t="wamp.close.normal");var r={};e&&(r.message=e),this._send_wamp([6,r,t]),this._goodbye_sent=!0},_.prototype.call=function(t,e,r,o){if(s.assert("string"==typeof t,"Session.call: <procedure> must be a string"),s.assert(!e||Array.isArray(e),"Session.call: <args> must be an array []"),s.assert(!r||r instanceof Object,"Session.call: <kwargs> must be an object {}"),s.assert(!o||o instanceof Object,"Session.call: <options> must be an object {}"),!this.isOpen)throw"session not open";o=o||{},void 0===o.disclose_me&&this._caller_disclose_me&&(o.disclose_me=!0);var i=this._defer(),a=n();return this._call_reqs[a]=[i,o],t=[48,a,o,this.resolve(t)],e?(t.push(e),r&&t.push(r)):r&&(t.push([]),t.push(r)),this._send_wamp(t),i.promise.then?i.promise:i},_.prototype.publish=function(t,e,r,o){if(s.assert("string"==typeof t,"Session.publish: <topic> must be a string"),s.assert(!e||Array.isArray(e),"Session.publish: <args> must be an array []"),s.assert(!r||r instanceof Object,"Session.publish: <kwargs> must be an object {}"),s.assert(!o||o instanceof Object,"Session.publish: <options> must be an object {}"),!this.isOpen)throw"session not open";o=o||{},void 0===o.disclose_me&&this._publisher_disclose_me&&(o.disclose_me=!0);var i=null,a=n();return o.acknowledge&&(i=this._defer(),this._publish_reqs[a]=[i,o]),t=[16,a,o,this.resolve(t)],e?(t.push(e),r&&t.push(r)):r&&(t.push([]),t.push(r)),this._send_wamp(t),i?i.promise.then?i.promise:i:void 0},_.prototype.subscribe=function(t,e,r){if(s.assert("string"==typeof t,"Session.subscribe: <topic> must be a string"),s.assert("function"==typeof e,"Session.subscribe: <handler> must be a function"),s.assert(!r||r instanceof Object,"Session.subscribe: <options> must be an object {}"),!this.isOpen)throw"session not open";var o=n(),i=this._defer();return this._subscribe_reqs[o]=[i,t,e,r],e=[32,o],e.push(r?r:{}),e.push(this.resolve(t)),this._send_wamp(e),i.promise.then?i.promise:i},_.prototype.register=function(t,e,r){if(s.assert("string"==typeof t,"Session.register: <procedure> must be a string"),s.assert("function"==typeof e,"Session.register: <endpoint> must be a function"),s.assert(!r||r instanceof Object,"Session.register: <options> must be an object {}"),!this.isOpen)throw"session not open";var o=n(),i=this._defer();return this._register_reqs[o]=[i,t,e,r],e=[64,o],e.push(r?r:{}),e.push(this.resolve(t)),this._send_wamp(e),i.promise.then?i.promise:i},_.prototype.unsubscribe=function(t){if(s.assert(t instanceof p,"Session.unsubscribe: <subscription> must be an instance of class autobahn.Subscription"),!this.isOpen)throw"session not open";if(!(t.active&&t.id in this._subscriptions))throw"subscription not active";var e=this._subscriptions[t.id],r=e.indexOf(t);if(-1===r)throw"subscription not active";return e.splice(r,1),t.active=!1,r=this._defer(),e.length?r.resolve(!1):(e=n(),this._unsubscribe_reqs[e]=[r,t.id],this._send_wamp([34,e,t.id])),r.promise.then?r.promise:r},_.prototype.unregister=function(t){if(s.assert(t instanceof d,"Session.unregister: <registration> must be an instance of class autobahn.Registration"),!this.isOpen)throw"session not open";if(!(t.active&&t.id in this._registrations))throw"registration not active";var e=n(),r=this._defer();return this._unregister_reqs[e]=[r,t],this._send_wamp([66,e,t.id]),r.promise.then?r.promise:r},_.prototype.prefix=function(t,e){s.assert("string"==typeof t,"Session.prefix: <prefix> must be a string"),s.assert(!e||"string"==typeof e,"Session.prefix: <uri> must be a string or falsy"),e?this._prefixes[t]=e:t in this._prefixes&&delete this._prefixes[t]},_.prototype.resolve=function(t){s.assert("string"==typeof t,"Session.resolve: <curie> must be a string");var e=t.indexOf(":");if(e>=0){var r=t.substring(0,e);return r in this._prefixes?this._prefixes[r]+"."+t.substring(e+1):t}return t},r.Session=_,r.Invocation=u,r.Event=f,r.Result=l,r.Error=h,r.Subscription=p,r.Registration=d,r.Publication=y}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./log.js":6,"./util.js":20,"int64-buffer":64,when:120,"when/function":96}],17:[function(t,e,r){function n(t){o.assert(void 0!==t.url,"options.url missing"),o.assert("string"==typeof t.url,"options.url must be a string"),this._options=t}var o=t("../util.js"),i=t("../log.js");t("when"),n.prototype.type="longpoll",n.prototype.create=function(){var t=this;i.debug("longpoll.Factory.create");var e={protocol:void 0,send:void 0,close:void 0,onmessage:function(){},onopen:function(){},onclose:function(){},info:{type:"longpoll",url:null,protocol:"wamp.2.json"},_run:function(){var r=null,n=!1,s=t._options.request_timeout||12e3;o.http_post(t._options.url+"/open",JSON.stringify({protocols:["wamp.2.json"]}),s).then(function(a){function c(){i.debug("longpoll.Transport: polling for message ..."),o.http_post(u+"/receive",null,s).then(function(t){t&&(t=JSON.parse(t),i.debug("longpoll.Transport: message received",t),e.onmessage(t)),n||c()},function(t){i.debug("longpoll.Transport: could not receive message",t.code,t.text),n=!0,e.onclose({code:1001,reason:"transport receive failure (HTTP/POST status "+t.code+" - '"+t.text+"')",wasClean:!1})})}r=JSON.parse(a);var u=t._options.url+"/"+r.transport;e.info.url=u,i.debug("longpoll.Transport: open",r),e.close=function(){if(n)throw"transport is already closing";n=!0,o.http_post(u+"/close",null,s).then(function(){i.debug("longpoll.Transport: transport closed"),e.onclose({code:1e3,reason:"transport closed",wasClean:!0})},function(t){i.debug("longpoll.Transport: could not close transport",t.code,t.text)})},e.send=function(t){if(n)throw"transport is closing or closed already";i.debug("longpoll.Transport: sending message ...",t),t=JSON.stringify(t),o.http_post(u+"/send",t,s).then(function(){i.debug("longpoll.Transport: message sent")},function(t){i.debug("longpoll.Transport: could not send message",t.code,t.text),n=!0,e.onclose({code:1001,reason:"transport send failure (HTTP/POST status "+t.code+" - '"+t.text+"')",wasClean:!1})})},c(),e.onopen()},function(t){i.debug("longpoll.Transport: could not open transport",t.code,t.text),n=!0,e.onclose({code:1001,reason:"transport open failure (HTTP/POST status "+t.code+" - '"+t.text+"')",wasClean:!1})})}};return e._run(),e},r.Factory=n},{"../log.js":6,"../util.js":20,when:120}],18:[function(t,e,r){(function(e,n){function o(t){t.protocols?s.assert(Array.isArray(t.protocols),"options.protocols must be an array"):t.protocols=["wamp.2.json"],t.rawsocket_max_len_exp=t.rawsocket_max_len_exp||24,this._options=t}function i(t,e){this._options={_peer_serializer:null,_peer_max_len_exp:0},this._options=s.defaults(this._options,e,this.DEFAULT_OPTIONS),s.assert(this._options.serializer in this.SERIALIZERS,"Unsupported serializer: "+this._options.serializer),s.assert(9<=this._options.max_len_exp&&36>=this._options.max_len_exp,"Message length out of bounds [9, 36]: "+this._options.max_len_exp),s.assert(!this._options.autoping||Number.isInteger(this._options.autoping)&&0<=this._options.autoping,"Autoping interval must be positive"),s.assert(!this._options.ping_timeout||Number.isInteger(this._options.ping_timeout)&&0<=this._options.ping_timeout,"Ping timeout duration must be positive"),s.assert(!this._options.packet_timeout||Number.isInteger(this._options.packet_timeout)&&0<=this._options.packet_timeout,"Packet timeout duration must be positive"),s.assert(!this._options.autoping||!this._options.ping_timeout||this._options.autoping>this._options.ping_timeout,"Autoping interval ("+this._options.autoping+") must be lower than ping timeout ("+this._options.ping_timeout+")"),this._ping_interval=this._ping_payload=this._ping_timeout=null,this._status=this.STATUS.UNINITIATED,this._stream=t,this._emitter=new c,this._buffer=new n(4),this._msgLen=this._bufferLen=0;var r=this;this._stream.on("data",function(t){r._read(t)}),this._stream.on("connect",function(){r._handshake()}),["close","drain","end","error","timeout"].forEach(function(t){r._stream.on(t,function(e){r._emitter.emit(t,e)})})}var s=t("../util.js"),a=t("../log.js"),c=t("events").EventEmitter;o.prototype.type="rawsocket",o.prototype.create=function(){var r=this,n={protocol:void 0,send:void 0,close:void 0,onmessage:function(){},onopen:function(){},onclose:function(){},info:{type:"rawsocket",url:null,protocol:"wamp.2.json"}};if(!e.process||!e.process.versions.node)throw"No RawSocket support in browser";return!function(){var e,o=t("net");if(r._options.path)connectionOptions={path:r._options.path,allowHalfOpen:!0};else{if(!r._options.port)throw"You must specify a host/port combination or a unix socket path to connect to";connectionOptions={port:r._options.port||8e3,host:r._options.host||"localhost",allowHalfOpen:!0}}o=o.connect(connectionOptions),e=new i(o,{serializer:"json",max_len_exp:r._options.rawsocket_max_len_exp}),e.on("connect",function(t){a.debug("RawSocket transport negociated"),n.onopen(t)}),e.on("data",function(t){a.debug("RawSocket transport received",t),n.onmessage(t)}),e.on("close",function(t){a.debug("RawSocket transport closed"),n.onclose({code:999,reason:"",wasClean:!t})}),e.on("error",function(t){a.debug("RawSocket transport error",t)}),n.close=function(t,r){a.debug("RawSocket transport closing",t,r),e.close()},n.send=function(t){a.debug("RawSocket transport sending",t),e.write(t)}}(),n},i.prototype._MAGIC_BYTE=127,i.prototype.SERIALIZERS={json:1},i.prototype.STATUS={CLOSED:-1,UNINITIATED:0,NEGOCIATING:1,NEGOCIATED:2,RXHEAD:3,RXDATA:4,RXPING:5,RXPONG:6},i.prototype.ERRORS={0:"illegal (must not be used)",1:"serializer unsupported",2:"maximum message length unacceptable",3:"use of reserved bits (unsupported feature)",4:"maximum connection count reached"},i.prototype.MSGTYPES={WAMP:0,PING:1,PONG:2},i.prototype.DEFAULT_OPTIONS={fail_on_ping_timeout:!0,strict_pong:!0,ping_timeout:2e3,autoping:0,max_len_exp:24,serializer:"json",packet_timeout:2e3},i.prototype.close=function(){return this._status=this.STATUS.CLOSED,this._stream.end(),this.STATUS.CLOSED},i.prototype.write=function(t,e,r){e=void 0===e?0:e,e===this.MSGTYPES.WAMP&&(t=JSON.stringify(t));var o=n.byteLength(t,"utf8");if(o>Math.pow(2,this._options._peer_max_len_exp))this._emitter.emit("error",new u("Frame too big"));else{var i=new n(o+4);i.writeUInt8(e,0),i.writeUIntBE(o,1,3),i.write(t,4),this._stream.write(i,r)}},i.prototype.ping=function(t){if(t=t||255,Number.isInteger(t))for(var e=Math.max(1,t),r=0;e>r;r++)t+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789&~\"#'{([-|`_\\^@)]=},?;.:/!*$<>".charAt(92*Math.random()|0);return this._ping_payload=t,this.write(t,this.MSGTYPES.PING,this._setupPingTimeout.bind(this))},i.prototype._setupPingTimeout=function(){this._options.ping_timeout&&(this._ping_timeout=setTimeout(this._onPingTimeout.bind(this),this._options.ping_timeout))},i.prototype._clearPingTimeout=function(){this._ping_timeout&&(clearTimeout(this._ping_timeout),this._ping_timeout=null)},i.prototype._setupAutoPing=function(){this._clearAutoPing(),this._options.autoping&&(this._autoping_interval=setInterval(this.ping.bind(this),this._options.autoping))},i.prototype._clearAutoPing=function(){this._autoping_interval&&(clearInterval(this._autoping_interval),this._autoping_interval=null)},i.prototype._onPingTimeout=function(){this._emitter.emit("error",new u("PING timeout")),this._options.fail_on_ping_timeout&&this.close()},i.prototype._read=function(t){var e,r;switch(this._status){case this.STATUS.CLOSED:case this.STATUS.UNINITIATED:this._emitter.emit("error",u("Unexpected packet"));break;case this.STATUS.NEGOCIATING:e=this._handleHandshake,r=4;break;case this.STATUS.NEGOCIATED:case this.STATUS.RXHEAD:this._status=this.STATUS.RXHEAD,e=this._handleHeaderPacket,r=4;break;case this.STATUS.RXDATA:e=this._handleDataPacket,r=this._msgLen;break;case this.STATUS.RXPING:e=this._handlePingPacket,r=this._msgLen;break;case this.STATUS.RXPONG:e=this._handlePongPacket,r=this._msgLen}(t=this._splitBytes(t,r))&&(this._status=e.call(this,t[0]),0<t[1].length&&this._read(t[1]))},i.prototype._handshake=function(){if(this._status!==this.STATUS.UNINITIATED)throw"Handshake packet already sent";var t=new n(4);t.writeUInt8(this._MAGIC_BYTE,0),t.writeUInt8(this._options.max_len_exp-9<<4|this.SERIALIZERS[this._options.serializer],1),t.writeUInt8(0,2),t.writeUInt8(0,3),this._stream.write(t),this._status=this.STATUS.NEGOCIATING},i.prototype._splitBytes=function(t,e){if(e!==this._buffer.length&&(this._buffer=new n(e),this._bufferLen=0),t.copy(this._buffer,this._bufferLen),this._bufferLen+t.length<e)return this._bufferLen+=t.length,null;var r=this._buffer.slice(),o=t.slice(e-this._bufferLen);return this._bufferLen=0,[r,o]},i.prototype._handleHandshake=function(t){return t[0]!==this._MAGIC_BYTE?(this._emitter.emit("error",new u("Invalid magic byte. Expected 0x"+this._MAGIC_BYTE.toString(16)+", got 0x"+t[0].toString(16))),this.close()):0===(15&t[1])?(t=t[1]>>4,this._emitter.emit("error",new u("Peer failed handshake: "+(this.ERRORS[t]||"0x"+t.toString(16)))),this.close()):(this._options._peer_max_len_exp=(t[1]>>4)+9,this._options._peer_serializer=15&t[1],this._options._peer_serializer!==this.SERIALIZERS.json?(this._emitter.emit("error",new u("Unsupported serializer: 0x"+this._options._peer_serializer.toString(16))),this.close()):(this._emitter.emit("connect"),this._setupAutoPing(),this.STATUS.NEGOCIATED))},i.prototype._handleHeaderPacket=function(t){var e=15&t[0];switch(this._msgLen=t.readUIntBE(1,3),e){case this.MSGTYPES.WAMP:return this.STATUS.RXDATA;case this.MSGTYPES.PING:return this.STATUS.RXPING;case this.MSGTYPES.PONG:return this.STATUS.RXPONG;default:return this._emitter.emit("error",new u("Invalid frame type: 0x"+e.toString(16))),this.close()}},i.prototype._handleDataPacket=function(t){var e;try{e=JSON.parse(t.toString("utf8"))}catch(r){return this._emitter.emit("error",new u("Invalid JSON frame")),this.STATUS.RXHEAD}return this._emitter.emit("data",e),this.STATUS.RXHEAD},i.prototype._handlePingPacket=function(t){return this.write(t.toString("utf8"),this.MSGTYPES.PONG),this.STATUS.RXHEAD},i.prototype._handlePongPacket=function(t){return this._clearPingTimeout(),this._options.strict_pong&&this._ping_payload!==t.toString("utf8")?(this._emitter.emit("error",new u("PONG response payload doesn't match PING.")),this.close()):this.STATUS.RXHEAD},i.prototype.on=function(t,e){return this._emitter.on(t,e)},i.prototype.once=function(t,e){return this._emitter.once(t,e)},i.prototype.removeListener=function(t,e){return this._emitter.removeListener(t,e)};var u=r.ProtocolError=function(t){Error.apply(this,Array.prototype.splice.call(arguments)),Error.captureStackTrace(this,this.constructor),this.message=t,this.name="ProtocolError"};u.prototype=Object.create(Error.prototype),r.Factory=o,r.Protocol=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer)},{"../log.js":6,"../util.js":20,buffer:25,events:26,net:22}],19:[function(t,e,r){(function(e){function n(t){o.assert(void 0!==t.url,"options.url missing"),o.assert("string"==typeof t.url,"options.url must be a string"),t.serializers?o.assert(Array.isArray(t.serializers),"options.serializers must be an array"):(t.serializers=[new s.JSONSerializer],s.MsgpackSerializer&&t.serializers.push(new s.MsgpackSerializer)),t.protocols?o.assert(Array.isArray(t.protocols),"options.protocols must be an array"):(t.protocols=[],t.serializers.forEach(function(e){
t.protocols.push("wamp.2."+e.SERIALIZER_ID)})),this._options=t}var o=t("../util.js"),i=t("../log.js"),s=t("../serializer.js");n.prototype.type="websocket",n.prototype.create=function(){var r=this,n={protocol:void 0,serializer:void 0,send:void 0,close:void 0,onmessage:function(){},onopen:function(){},onclose:function(){}};return n.info={type:"websocket",url:r._options.url,protocol:null},e.process&&e.process.versions.node?function(){var e,o,i=t("ws");r._options.protocols?(o=r._options.protocols,Array.isArray(o)&&(o=o.join(",")),e=new i(r._options.url,{protocol:o})):e=new i(r._options.url),n.send=function(t){t=n.serializer.serialize(t),e.send(t,{binary:n.serializer.BINARY})},n.close=function(){e.close()},e.on("open",function(){var t,o=e.protocol.split(".")[2];for(t in r._options.serializers){var i=r._options.serializers[t];if(i.SERIALIZER_ID==o){n.serializer=i;break}}n.info.protocol=e.protocol,n.onopen()}),e.on("message",function(t){var e=n.serializer.unserialize(t);n.onmessage(e)}),e.on("close",function(t,e){n.onclose({code:t,reason:e,wasClean:1e3===t})}),e.on("error",function(){n.onclose({code:1006,reason:"",wasClean:!1})})}():function(){var t;if("WebSocket"in e)t=r._options.protocols?new e.WebSocket(r._options.url,r._options.protocols):new e.WebSocket(r._options.url),t.binaryType="arraybuffer";else{if(!("MozWebSocket"in e))throw"browser does not support WebSocket or WebSocket in Web workers";t=r._options.protocols?new e.MozWebSocket(r._options.url,r._options.protocols):new e.MozWebSocket(r._options.url)}t.onmessage=function(t){i.debug("WebSocket transport receive",t.data),t=n.serializer.unserialize(t.data),n.onmessage(t)},t.onopen=function(){var e,o=t.protocol.split(".")[2];for(e in r._options.serializers){var i=r._options.serializers[e];if(i.SERIALIZER_ID==o){n.serializer=i;break}}n.info.protocol=t.protocol,n.onopen()},t.onclose=function(t){n.onclose({code:t.code,reason:t.message,wasClean:t.wasClean})},n.send=function(e){e=n.serializer.serialize(e),i.debug("WebSocket transport send",e),t.send(e)},n.close=function(e,r){t.close(e,r)}}(),n},r.Factory=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../log.js":6,"../serializer.js":15,"../util.js":20,ws:24}],20:[function(t,e,r){(function(e){var n=t("./log.js"),o=t("when"),i=function(t,r){if(!t)throw i.useDebugger||"AUTOBAHN_DEBUG"in e&&AUTOBAHN_DEBUG,Error(r||"Assertion failed!")},s=function(){if(0===arguments.length)return{};var t=arguments[0],e=!1,r=arguments.length;"boolean"==typeof arguments[r-1]&&(e=arguments[r-1],--r);for(var n=(function(r){var n=i[r];r in t?e&&"object"==typeof n&&"object"==typeof t[r]&&s(t[r],n):t[r]=n}),o=1;r>o;o++){var i=arguments[o];if(i){if("object"!=typeof i)throw Error("Expected argument at index "+o+" to be an object");Object.keys(i).forEach(n)}}return t};r.rand_normal=function(t,e){var r,n;do r=2*Math.random()-1,n=2*Math.random()-1,n=r*r+n*n;while(n>=1||0==n);return(t||0)+r*Math.sqrt(-2*Math.log(n)/n)*(e||1)},r.assert=i,r.http_post=function(t,e,r){n.debug("new http_post request",t,e,r);var i=o.defer(),s=new XMLHttpRequest;return s.withCredentials=!0,s.onreadystatechange=function(){if(4===s.readyState){var t=1223===s.status?204:s.status;if(200===t&&i.resolve(s.responseText),204===t)i.resolve();else{var e=null;try{e=s.statusText}catch(r){}i.reject({code:t,text:e})}}},s.open("POST",t,!0),s.setRequestHeader("Content-type","application/json; charset=utf-8"),r>0&&(s.timeout=r,s.ontimeout=function(){i.reject({code:501,text:"request timeout"})}),e?s.send(e):s.send(),i.promise.then?i.promise:i},r.defaults=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./log.js":6,when:120}],21:[function(t,e){e.exports={name:"autobahn",version:"0.11.1",description:"An implementation of The Web Application Messaging Protocol (WAMP).",main:"index.js",scripts:{test:"nodeunit test/test.js"},dependencies:{"crypto-js":">= 3.1.8",tweetnacl:">= 0.14.3",when:">= 3.7.7",ws:">= 1.1.1","msgpack-lite":">= 0.1.26","int64-buffer":">= 0.1.9"},optionalDependencies:{bufferutil:">= 1.2.1","utf-8-validate":">= 1.2.1"},devDependencies:{browserify:">= 13.1.1",nodeunit:">= 0.10.2"},browser:{ws:!1,"lib/transport/rawsocket.js":!1},repository:{type:"git",url:"git://github.com/crossbario/autobahn-js.git"},keywords:["WAMP","WebSocket","RPC","PubSub"],author:"Crossbar.io Technologies GmbH",license:"MIT"}},{}],22:[function(){},{}],23:[function(t,e,r){function n(t){var e=t.length;if(e%4>0)throw Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function o(t,e,r){for(var n=[],o=e;r>o;o+=3)e=(t[o]<<16)+(t[o+1]<<8)+t[o+2],n.push(i[e>>18&63]+i[e>>12&63]+i[e>>6&63]+i[63&e]);return n.join("")}r.byteLength=function(t){return 3*t.length/4-n(t)},r.toByteArray=function(t){var e,r,o,i,c;e=t.length,i=n(t),c=new a(3*e/4-i),r=i>0?e-4:e;var u=0;for(e=0;r>e;e+=4)o=s[t.charCodeAt(e)]<<18|s[t.charCodeAt(e+1)]<<12|s[t.charCodeAt(e+2)]<<6|s[t.charCodeAt(e+3)],c[u++]=o>>16&255,c[u++]=o>>8&255,c[u++]=255&o;return 2===i?(o=s[t.charCodeAt(e)]<<2|s[t.charCodeAt(e+1)]>>4,c[u++]=255&o):1===i&&(o=s[t.charCodeAt(e)]<<10|s[t.charCodeAt(e+1)]<<4|s[t.charCodeAt(e+2)]>>2,c[u++]=o>>8&255,c[u++]=255&o),c},r.fromByteArray=function(t){for(var e=t.length,r=e%3,n="",s=[],a=0,c=e-r;c>a;a+=16383)s.push(o(t,a,a+16383>c?c:a+16383));return 1===r?(t=t[e-1],n+=i[t>>2],n+=i[t<<4&63],n+="=="):2===r&&(t=(t[e-2]<<8)+t[e-1],n+=i[t>>10],n+=i[t>>4&63],n+=i[t<<2&63],n+="="),s.push(n),s.join("")};var i=[],s=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array;for(t=0;64>t;++t)i[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[t],s["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(t)]=t;s[45]=62,s[95]=63},{}],24:[function(t,e,r){arguments[4][22][0].apply(r,arguments)},{dup:22}],25:[function(t,e,r){(function(e){function n(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}function o(t,e){if((i.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<e)throw new RangeError("Invalid typed array length");return i.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=i.prototype):(null===t&&(t=new i(e)),t.length=e),t}function i(t,e,r){if(!(i.TYPED_ARRAY_SUPPORT||this instanceof i))return new i(t,e,r);if("number"==typeof t){if("string"==typeof e)throw Error("If encoding is specified then the first argument must be a string");return c(this,t)}return s(this,t,e,r)}function s(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer){if(e.byteLength,0>r||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n),i.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=i.prototype):t=u(t,e),t}if("string"==typeof e){if(n=t,t=r,("string"!=typeof t||""===t)&&(t="utf8"),!i.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');return r=0|h(e,t),n=o(n,r),e=n.write(e,t),e!==r&&(n=n.slice(0,e)),n}return f(t,e)}function a(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(0>t)throw new RangeError('"size" argument must not be negative')}function c(t,e){if(a(e),t=o(t,0>e?0:0|l(e)),!i.TYPED_ARRAY_SUPPORT)for(var r=0;e>r;++r)t[r]=0;return t}function u(t,e){var r=0>e.length?0:0|l(e.length);t=o(t,r);for(var n=0;r>n;n+=1)t[n]=255&e[n];return t}function f(t,e){if(i.isBuffer(e)){var r=0|l(e.length);return t=o(t,r),0===t.length?t:(e.copy(t,0,0,r),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return(r="number"!=typeof e.length)||(r=e.length,r=r!==r),r?o(t,0):u(t,e);if("Buffer"===e.type&&j(e.data))return u(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function l(t){if(t>=(i.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(i.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return 0|t}function h(t,e){if(i.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return P(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return C.toByteArray(k(t)).length;default:if(n)return P(t).length;e=(""+e).toLowerCase(),n=!0}}function p(t,e,r){var n=!1;if((void 0===e||0>e)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),0>=r)return"";if(r>>>=0,e>>>=0,e>=r)return"";for(t||(t="utf8");;)switch(t){case"hex":for(t=e,e=r,r=this.length,(!t||0>t)&&(t=0),(!e||0>e||e>r)&&(e=r),n="",r=t;e>r;++r)t=n,n=this[r],n=16>n?"0"+n.toString(16):n.toString(16),n=t+n;return n;case"utf8":case"utf-8":return g(this,e,r);case"ascii":for(t="",r=Math.min(this.length,r);r>e;++e)t+=String.fromCharCode(127&this[e]);return t;case"latin1":case"binary":for(t="",r=Math.min(this.length,r);r>e;++e)t+=String.fromCharCode(this[e]);return t;case"base64":return e=C.fromByteArray(0===e&&r===this.length?this:this.slice(e,r));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(e=this.slice(e,r),r="",t=0;t<e.length;t+=2)r+=String.fromCharCode(e[t]+256*e[t+1]);return r;default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function d(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function y(t,e,r,n,o){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:-2147483648>r&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:t.length-1),0>r&&(r=t.length+r),r>=t.length){if(o)return-1;r=t.length-1}else if(0>r){if(!o)return-1;r=0}if("string"==typeof e&&(e=i.from(e,n)),i.isBuffer(e))return 0===e.length?-1:_(t,e,r,n,o);if("number"==typeof e)return e&=255,i.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):_(t,[e],r,n,o);throw new TypeError("val must be string, number or Buffer")}function _(t,e,r,n,o){function i(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}var s=1,a=t.length,c=e.length;if(void 0!==n&&(n=String(n).toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(2>t.length||2>e.length)return-1;s=2,a/=2,c/=2,r/=2}if(o)for(n=-1;a>r;r++)if(i(t,r)===i(e,-1===n?0:r-n)){if(-1===n&&(n=r),r-n+1===c)return n*s}else-1!==n&&(r-=r-n),n=-1;else for(r+c>a&&(r=a-c);r>=0;r--){for(a=!0,n=0;c>n;n++)if(i(t,r+n)!==i(e,n)){a=!1;break}if(a)return r}return-1}function g(t,e,r){r=Math.min(t.length,r);for(var n=[];r>e;){var o=t[e],i=null,s=o>239?4:o>223?3:o>191?2:1;if(r>=e+s){var a,c,u;switch(s){case 1:128>o&&(i=o);break;case 2:a=t[e+1],128===(192&a)&&(o=(31&o)<<6|63&a,o>127&&(i=o));break;case 3:a=t[e+1],c=t[e+2],128===(192&a)&&128===(192&c)&&(o=(15&o)<<12|(63&a)<<6|63&c,o>2047&&(55296>o||o>57343)&&(i=o));break;case 4:a=t[e+1],c=t[e+2],u=t[e+3],128===(192&a)&&128===(192&c)&&128===(192&u)&&(o=(15&o)<<18|(63&a)<<12|(63&c)<<6|63&u,o>65535&&1114112>o&&(i=o))}}null===i?(i=65533,s=1):i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|1023&i),n.push(i),e+=s}if(t=n.length,B>=t)n=String.fromCharCode.apply(String,n);else{for(r="",e=0;t>e;)r+=String.fromCharCode.apply(String,n.slice(e,e+=B));n=r}return n}function b(t,e,r){if(0!==t%1||0>t)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function v(t,e,r,n,o,s){if(!i.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||s>e)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function m(t,e,r,n){0>e&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-r,2);i>o;++o)t[r+o]=(e&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function w(t,e,r,n){0>e&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-r,4);i>o;++o)t[r+o]=e>>>8*(n?o:3-o)&255}function E(t,e,r,n){if(r+n>t.length)throw new RangeError("Index out of range");if(0>r)throw new RangeError("Index out of range")}function S(t,e,r,n,o){return o||E(t,e,r,4,3.4028234663852886e38,-3.4028234663852886e38),R.write(t,e,r,n,23,4),r+4}function A(t,e,r,n,o){return o||E(t,e,r,8,1.7976931348623157e308,-1.7976931348623157e308),R.write(t,e,r,n,52,8),r+8}function k(t){if(t=t.trim?t.trim():t.replace(/^\s+|\s+$/g,""),t=t.replace(O,""),2>t.length)return"";for(;0!==t.length%4;)t+="=";return t}function P(t,e){e=e||1/0;for(var r,n=t.length,o=null,i=[],s=0;n>s;++s){if(r=t.charCodeAt(s),r>55295&&57344>r){if(!o){if(r>56319){-1<(e-=3)&&i.push(239,191,189);continue}if(s+1===n){-1<(e-=3)&&i.push(239,191,189);continue}o=r;continue}if(56320>r){-1<(e-=3)&&i.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&-1<(e-=3)&&i.push(239,191,189);if(o=null,128>r){if(0>--e)break;i.push(r)}else if(2048>r){if(0>(e-=2))break;i.push(r>>6|192,63&r|128)}else if(65536>r){if(0>(e-=3))break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(1114112>r))throw Error("Invalid code point");if(0>(e-=4))break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function T(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}function x(t,e,r,n){for(var o=0;n>o&&!(o+r>=e.length||o>=t.length);++o)e[o+r]=t[o];return o}var C=t("base64-js"),R=t("ieee754"),j=t("isarray");r.Buffer=i,r.SlowBuffer=function(t){return+t!=t&&(t=0),i.alloc(+t)},r.INSPECT_MAX_BYTES=50,i.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:n(),r.kMaxLength=i.TYPED_ARRAY_SUPPORT?2147483647:1073741823,i.poolSize=8192,i._augment=function(t){return t.__proto__=i.prototype,t},i.from=function(t,e,r){return s(null,t,e,r)},i.TYPED_ARRAY_SUPPORT&&(i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0})),i.alloc=function(t,e,r){return a(t),t=0>=t?o(null,t):void 0!==e?"string"==typeof r?o(null,t).fill(e,r):o(null,t).fill(e):o(null,t)},i.allocUnsafe=function(t){return c(null,t)},i.allocUnsafeSlow=function(t){return c(null,t)},i.isBuffer=function(t){return!(null==t||!t._isBuffer)},i.compare=function(t,e){if(!i.isBuffer(t)||!i.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,o=0,s=Math.min(r,n);s>o;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return n>r?-1:r>n?1:0},i.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(t,e){if(!j(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return i.alloc(0);var r;if(void 0===e)for(r=e=0;r<t.length;++r)e+=t[r].length;var n=i.allocUnsafe(e),o=0;for(r=0;r<t.length;++r){var s=t[r];if(!i.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,o),o+=s.length}return n},i.byteLength=h,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var t=this.length;if(0!==t%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;t>e;e+=2)d(this,e,e+1);return this},i.prototype.swap32=function(){var t=this.length;if(0!==t%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;t>e;e+=4)d(this,e,e+3),d(this,e+1,e+2);return this},i.prototype.swap64=function(){var t=this.length;if(0!==t%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;t>e;e+=8)d(this,e,e+7),d(this,e+1,e+6),d(this,e+2,e+5),d(this,e+3,e+4);return this},i.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?g(this,0,t):p.apply(this,arguments)},i.prototype.equals=function(t){if(!i.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:0===i.compare(this,t)},i.prototype.inspect=function(){var t="",e=r.INSPECT_MAX_BYTES;return 0<this.length&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},i.prototype.compare=function(t,e,r,n,o){if(!i.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),0>e||r>t.length||0>n||o>this.length)throw new RangeError("out of range index");if(n>=o&&e>=r)return 0;if(n>=o)return-1;if(e>=r)return 1;if(e>>>=0,r>>>=0,n>>>=0,o>>>=0,this===t)return 0;var s=o-n,a=r-e,c=Math.min(s,a);for(n=this.slice(n,o),t=t.slice(e,r),e=0;c>e;++e)if(n[e]!==t[e]){s=n[e],a=t[e];break}return a>s?-1:s>a?1:0},i.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},i.prototype.indexOf=function(t,e,r){return y(this,t,e,r,!0)},i.prototype.lastIndexOf=function(t,e,r){return y(this,t,e,r,!1)},i.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-e;if((void 0===r||r>o)&&(r=o),0<t.length&&(0>r||0>e)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");for(n||(n="utf8"),o=!1;;)switch(n){case"hex":t:{if(e=Number(e)||0,n=this.length-e,r?(r=Number(r),r>n&&(r=n)):r=n,n=t.length,0!==n%2)throw new TypeError("Invalid hex string");for(r>n/2&&(r=n/2),n=0;r>n;++n){if(o=parseInt(t.substr(2*n,2),16),isNaN(o)){t=n;break t}this[e+n]=o}t=n}return t;case"utf8":case"utf-8":return x(P(t,this.length-e),this,e,r);case"ascii":return x(T(t),this,e,r);case"latin1":case"binary":return x(T(t),this,e,r);case"base64":return x(C.toByteArray(k(t)),this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=this.length-e;for(var i,s=[],a=0;a<t.length&&!(0>(n-=2));++a)i=t.charCodeAt(a),o=i>>8,i%=256,s.push(i),s.push(o);return x(s,this,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var B=4096;i.prototype.slice=function(t,e){var r=this.length;if(t=~~t,e=void 0===e?r:~~e,0>t?(t+=r,0>t&&(t=0)):t>r&&(t=r),0>e?(e+=r,0>e&&(e=0)):e>r&&(e=r),t>e&&(e=t),i.TYPED_ARRAY_SUPPORT)r=this.subarray(t,e),r.__proto__=i.prototype;else for(var n=e-t,r=new i(n,void 0),o=0;n>o;++o)r[o]=this[o+t];return r},i.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||b(t,e,this.length),r=this[t];for(var n=1,o=0;++o<e&&(n*=256);)r+=this[t+o]*n;return r},i.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||b(t,e,this.length),r=this[t+--e];for(var n=1;e>0&&(n*=256);)r+=this[t+--e]*n;return r},i.prototype.readUInt8=function(t,e){return e||b(t,1,this.length),this[t]},i.prototype.readUInt16LE=function(t,e){return e||b(t,2,this.length),this[t]|this[t+1]<<8},i.prototype.readUInt16BE=function(t,e){return e||b(t,2,this.length),this[t]<<8|this[t+1]},i.prototype.readUInt32LE=function(t,e){return e||b(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},i.prototype.readUInt32BE=function(t,e){return e||b(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},i.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||b(t,e,this.length),r=this[t];for(var n=1,o=0;++o<e&&(n*=256);)r+=this[t+o]*n;return r>=128*n&&(r-=Math.pow(2,8*e)),r},i.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||b(t,e,this.length),r=e;for(var n=1,o=this[t+--r];r>0&&(n*=256);)o+=this[t+--r]*n;return o>=128*n&&(o-=Math.pow(2,8*e)),o},i.prototype.readInt8=function(t,e){return e||b(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},i.prototype.readInt16LE=function(t,e){e||b(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},i.prototype.readInt16BE=function(t,e){e||b(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},i.prototype.readInt32LE=function(t,e){return e||b(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},i.prototype.readInt32BE=function(t,e){return e||b(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},i.prototype.readFloatLE=function(t,e){return e||b(t,4,this.length),R.read(this,t,!0,23,4)},i.prototype.readFloatBE=function(t,e){return e||b(t,4,this.length),R.read(this,t,!1,23,4)},i.prototype.readDoubleLE=function(t,e){return e||b(t,8,this.length),R.read(this,t,!0,52,8)},i.prototype.readDoubleBE=function(t,e){return e||b(t,8,this.length),R.read(this,t,!1,52,8)},i.prototype.writeUIntLE=function(t,e,r,n){t=+t,e|=0,r|=0,n||v(this,t,e,r,Math.pow(2,8*r)-1,0),n=1;var o=0;for(this[e]=255&t;++o<r&&(n*=256);)this[e+o]=t/n&255;return e+r},i.prototype.writeUIntBE=function(t,e,r,n){t=+t,e|=0,r|=0,n||v(this,t,e,r,Math.pow(2,8*r)-1,0),n=r-1;var o=1;for(this[e+n]=255&t;0<=--n&&(o*=256);)this[e+n]=t/o&255;return e+r},i.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||v(this,t,e,1,255,0),i.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},i.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||v(this,t,e,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):m(this,t,e,!0),e+2},i.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||v(this,t,e,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):m(this,t,e,!1),e+2},i.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||v(this,t,e,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):w(this,t,e,!0),e+4},i.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||v(this,t,e,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):w(this,t,e,!1),e+4},i.prototype.writeIntLE=function(t,e,r,n){t=+t,e|=0,n||(n=Math.pow(2,8*r-1),v(this,t,e,r,n-1,-n)),n=0;var o=1,i=0;for(this[e]=255&t;++n<r&&(o*=256);)0>t&&0===i&&0!==this[e+n-1]&&(i=1),this[e+n]=(t/o>>0)-i&255;return e+r},i.prototype.writeIntBE=function(t,e,r,n){t=+t,e|=0,n||(n=Math.pow(2,8*r-1),v(this,t,e,r,n-1,-n)),n=r-1;var o=1,i=0;for(this[e+n]=255&t;0<=--n&&(o*=256);)0>t&&0===i&&0!==this[e+n+1]&&(i=1),this[e+n]=(t/o>>0)-i&255;return e+r},i.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||v(this,t,e,1,127,-128),i.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[e]=255&t,e+1},i.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||v(this,t,e,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):m(this,t,e,!0),e+2},i.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||v(this,t,e,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):m(this,t,e,!1),e+2},i.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||v(this,t,e,4,2147483647,-2147483648),i.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):w(this,t,e,!0),e+4},i.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||v(this,t,e,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):w(this,t,e,!1),e+4},i.prototype.writeFloatLE=function(t,e,r){return S(this,t,e,!0,r)},i.prototype.writeFloatBE=function(t,e,r){return S(this,t,e,!1,r)},i.prototype.writeDoubleLE=function(t,e,r){return A(this,t,e,!0,r)},i.prototype.writeDoubleBE=function(t,e,r){return A(this,t,e,!1,r)},i.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&r>n&&(n=r),n===r||0===t.length||0===this.length)return 0;if(0>e)throw new RangeError("targetStart out of bounds");if(0>r||r>=this.length)throw new RangeError("sourceStart out of bounds");if(0>n)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var o=n-r;if(this===t&&e>r&&n>e)for(n=o-1;n>=0;--n)t[n+e]=this[n+r];else if(1e3>o||!i.TYPED_ARRAY_SUPPORT)for(n=0;o>n;++n)t[n+e]=this[n+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+o),e);return o},i.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var o=t.charCodeAt(0);256>o&&(t=o)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!i.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(0>e||this.length<e||this.length<r)throw new RangeError("Out of range index");if(e>=r)return this;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(n=e;r>n;++n)this[n]=t;else for(t=i.isBuffer(t)?t:P(new i(t,n).toString()),o=t.length,n=0;r-e>n;++n)this[n+e]=t[n%o];return this};var O=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":23,ieee754:27,isarray:28}],26:[function(t,e){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return"function"==typeof t}function o(t){return"object"==typeof t&&null!==t}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if("number"!=typeof t||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,r,i,s;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw r=Error('Uncaught, unspecified "error" event. ('+e+")"),r.context=e,r}if(r=this._events[t],void 0===r)return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:e=Array.prototype.slice.call(arguments,1),r.apply(this,e)}else if(o(r))for(e=Array.prototype.slice.call(arguments,1),s=r.slice(),r=s.length,i=0;r>i;i++)s[i].apply(this,e);return!0},r.prototype.addListener=function(t,e){var i;if(!n(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,n(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned&&(i=void 0!==this._maxListeners?this._maxListeners:r.defaultMaxListeners)&&i>0&&this._events[t].length>i&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){function r(){this.removeListener(t,r),o||(o=!0,e.apply(this,arguments))}if(!n(e))throw TypeError("listener must be a function");var o=!1;return r.listener=e,this.on(t,r),this},r.prototype.removeListener=function(t,e){var r,i,s;if(!n(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(r=this._events[t],s=r.length,i=-1,r===e||n(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(r)){for(;0<s--;)if(r[s]===e||r[s].listener&&r[s].listener===e){i=s;break}if(0>i)return this;1===r.length?(r.length=0,delete this._events[t]):r.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(e=this._events[t],n(e))this.removeListener(t,e);else if(e)for(;e.length;)this.removeListener(t,e[e.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){return this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.prototype.listenerCount=function(t){if(this._events){if(t=this._events[t],n(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(t,e){return t.listenerCount(e)}},{}],27:[function(t,e,r){r.read=function(t,e,r,n,o){var i;i=8*o-n-1;var s=(1<<i)-1,a=s>>1,c=-7;o=r?o-1:0;var u=r?-1:1,f=t[e+o];for(o+=u,r=f&(1<<-c)-1,f>>=-c,c+=i;c>0;r=256*r+t[e+o],o+=u,c-=8);for(i=r&(1<<-c)-1,r>>=-c,c+=n;c>0;i=256*i+t[e+o],o+=u,c-=8);if(0===r)r=1-a;else{if(r===s)return i?0/0:1/0*(f?-1:1);i+=Math.pow(2,n),r-=a}return(f?-1:1)*i*Math.pow(2,r-n)},r.write=function(t,e,r,n,o,i){var s,a=8*i-o-1,c=(1<<a)-1,u=c>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0;i=n?0:i-1;var l=n?1:-1,h=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||1/0===e?(e=isNaN(e)?1:0,n=c):(n=Math.floor(Math.log(e)/Math.LN2),1>e*(s=Math.pow(2,-n))&&(n--,s*=2),e=n+u>=1?e+f/s:e+f*Math.pow(2,1-u),e*s>=2&&(n++,s/=2),n+u>=c?(e=0,n=c):n+u>=1?(e=(e*s-1)*Math.pow(2,o),n+=u):(e=e*Math.pow(2,u-1)*Math.pow(2,o),n=0));o>=8;t[r+i]=255&e,i+=l,e/=256,o-=8);for(n=n<<o|e,a+=o;a>0;t[r+i]=255&n,i+=l,n/=256,a-=8);t[r+i-l]|=128*h}},{}],28:[function(t,e){var r={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},{}],29:[function(t,e){function r(){throw Error("setTimeout has not been defined")}function n(){throw Error("clearTimeout has not been defined")}function o(t){if(f===setTimeout)return setTimeout(t,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(t,0);try{return f(t,0)}catch(e){try{return f.call(null,t,0)}catch(n){return f.call(this,t,0)}}}function i(t){if(l===clearTimeout)return clearTimeout(t);if((l===n||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{return l(t)}catch(e){try{return l.call(null,t)}catch(r){return l.call(this,t)}}}function s(){y&&p&&(y=!1,p.length?d=p.concat(d):_=-1,d.length&&a())}function a(){if(!y){var t=o(s);y=!0;for(var e=d.length;e;){for(p=d,d=[];++_<e;)p&&p[_].run();_=-1,e=d.length}p=null,y=!1,i(t)}}function c(t,e){this.fun=t,this.array=e}function u(){}t=e.exports={};var f,l;try{f="function"==typeof setTimeout?setTimeout:r}catch(h){f=r}try{l="function"==typeof clearTimeout?clearTimeout:n}catch(h){l=n}var p,d=[],y=!1,_=-1;t.nextTick=function(t){var e=Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];d.push(new c(t,e)),1!==d.length||y||o(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=u,t.addListener=u,t.once=u,t.off=u,t.removeListener=u,t.removeAllListeners=u,t.emit=u,t.binding=function(){throw Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(){throw Error("process.chdir is not supported")},t.umask=function(){return 0}},{}],30:[function(t,e,r){!function(n,o){"object"==typeof r?e.exports=r=o(t("./core"),t("./enc-base64"),t("./md5"),t("./evpkdf"),t("./cipher-core")):o(n.CryptoJS)}(this,function(t){return function(){var e=t.lib.BlockCipher,r=t.algo,n=[],o=[],i=[],s=[],a=[],c=[],u=[],f=[],l=[],h=[];!function(){for(var t=[],e=0;256>e;e++)t[e]=128>e?e<<1:e<<1^283;for(var r=0,p=0,e=0;256>e;e++){var d=p^p<<1^p<<2^p<<3^p<<4,d=d>>>8^255&d^99;n[r]=d,o[d]=r;var y=t[r],_=t[y],g=t[_],b=257*t[d]^16843008*d;i[r]=b<<24|b>>>8,s[r]=b<<16|b>>>16,a[r]=b<<8|b>>>24,c[r]=b,b=16843009*g^65537*_^257*y^16843008*r,u[d]=b<<24|b>>>8,f[d]=b<<16|b>>>16,l[d]=b<<8|b>>>24,
h[d]=b,r?(r=y^t[t[t[g^y]]],p^=t[t[p]]):r=p=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],r=r.AES=e.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,r=t.sigBytes/4,t=4*((this._nRounds=r+6)+1),o=this._keySchedule=[],i=0;t>i;i++)if(r>i)o[i]=e[i];else{var s=o[i-1];i%r?r>6&&4==i%r&&(s=n[s>>>24]<<24|n[s>>>16&255]<<16|n[s>>>8&255]<<8|n[255&s]):(s=s<<8|s>>>24,s=n[s>>>24]<<24|n[s>>>16&255]<<16|n[s>>>8&255]<<8|n[255&s],s^=p[i/r|0]<<24),o[i]=o[i-r]^s}for(e=this._invKeySchedule=[],r=0;t>r;r++)i=t-r,s=r%4?o[i]:o[i-4],e[r]=4>r||4>=i?s:u[n[s>>>24]]^f[n[s>>>16&255]]^l[n[s>>>8&255]]^h[n[255&s]]}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,i,s,a,c,n)},decryptBlock:function(t,e){var r=t[e+1];t[e+1]=t[e+3],t[e+3]=r,this._doCryptBlock(t,e,this._invKeySchedule,u,f,l,h,o),r=t[e+1],t[e+1]=t[e+3],t[e+3]=r},_doCryptBlock:function(t,e,r,n,o,i,s,a){for(var c=this._nRounds,u=t[e]^r[0],f=t[e+1]^r[1],l=t[e+2]^r[2],h=t[e+3]^r[3],p=4,d=1;c>d;d++)var y=n[u>>>24]^o[f>>>16&255]^i[l>>>8&255]^s[255&h]^r[p++],_=n[f>>>24]^o[l>>>16&255]^i[h>>>8&255]^s[255&u]^r[p++],g=n[l>>>24]^o[h>>>16&255]^i[u>>>8&255]^s[255&f]^r[p++],h=n[h>>>24]^o[u>>>16&255]^i[f>>>8&255]^s[255&l]^r[p++],u=y,f=_,l=g;y=(a[u>>>24]<<24|a[f>>>16&255]<<16|a[l>>>8&255]<<8|a[255&h])^r[p++],_=(a[f>>>24]<<24|a[l>>>16&255]<<16|a[h>>>8&255]<<8|a[255&u])^r[p++],g=(a[l>>>24]<<24|a[h>>>16&255]<<16|a[u>>>8&255]<<8|a[255&f])^r[p++],h=(a[h>>>24]<<24|a[u>>>16&255]<<16|a[f>>>8&255]<<8|a[255&l])^r[p++],t[e]=y,t[e+1]=_,t[e+2]=g,t[e+3]=h},keySize:8});t.AES=e._createHelper(r)}(),t.AES})},{"./cipher-core":31,"./core":32,"./enc-base64":33,"./evpkdf":35,"./md5":40}],31:[function(t,e,r){!function(n,o){"object"==typeof r?e.exports=r=o(t("./core")):o(n.CryptoJS)}(this,function(t){t.lib.Cipher||function(e){var r=t.lib,n=r.Base,o=r.WordArray,i=r.BufferedBlockAlgorithm,s=t.enc.Base64,a=t.algo.EvpKDF,c=r.Cipher=i.extend({cfg:n.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,r){this.cfg=this.cfg.extend(r),this._xformMode=t,this._key=e,this.reset()},reset:function(){i.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){return function(t){return{encrypt:function(e,r,n){return("string"==typeof r?d:p).encrypt(t,e,r,n)},decrypt:function(e,r,n){return("string"==typeof r?d:p).decrypt(t,e,r,n)}}}}()});r.StreamCipher=c.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var u=t.mode={},f=r.BlockCipherMode=n.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),u=u.CBC=function(){function t(t,r,n){var o=this._iv;o?this._iv=e:o=this._prevBlock;for(var i=0;n>i;i++)t[r+i]^=o[i]}var r=f.extend();return r.Encryptor=r.extend({processBlock:function(e,r){var n=this._cipher,o=n.blockSize;t.call(this,e,r,o),n.encryptBlock(e,r),this._prevBlock=e.slice(r,r+o)}}),r.Decryptor=r.extend({processBlock:function(e,r){var n=this._cipher,o=n.blockSize,i=e.slice(r,r+o);n.decryptBlock(e,r),t.call(this,e,r,o),this._prevBlock=i}}),r}(),l=(t.pad={}).Pkcs7={pad:function(t,e){for(var r=4*e,r=r-t.sigBytes%r,n=r<<24|r<<16|r<<8|r,i=[],s=0;r>s;s+=4)i.push(n);r=o.create(i,r),t.concat(r)},unpad:function(t){t.sigBytes-=255&t.words[t.sigBytes-1>>>2]}};r.BlockCipher=c.extend({cfg:c.cfg.extend({mode:u,padding:l}),reset:function(){c.reset.call(this);var t=this.cfg,e=t.iv,t=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var r=t.createEncryptor;else r=t.createDecryptor,this._minBufferSize=1;this._mode=r.call(t,this,e&&e.words)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else e=this._process(!0),t.unpad(e);return e},blockSize:4});var h=r.CipherParams=n.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),u=(t.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext;return t=t.salt,(t?o.create([1398893684,1701076831]).concat(t).concat(e):e).toString(s)},parse:function(t){t=s.parse(t);var e=t.words;if(1398893684==e[0]&&1701076831==e[1]){var r=o.create(e.slice(2,4));e.splice(0,4),t.sigBytes-=16}return h.create({ciphertext:t,salt:r})}},p=r.SerializableCipher=n.extend({cfg:n.extend({format:u}),encrypt:function(t,e,r,n){n=this.cfg.extend(n);var o=t.createEncryptor(r,n);return e=o.finalize(e),o=o.cfg,h.create({ciphertext:e,key:r,iv:o.iv,algorithm:t,mode:o.mode,padding:o.padding,blockSize:t.blockSize,formatter:n.format})},decrypt:function(t,e,r,n){return n=this.cfg.extend(n),e=this._parse(e,n.format),t.createDecryptor(r,n).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),n=(t.kdf={}).OpenSSL={execute:function(t,e,r,n){return n||(n=o.random(8)),t=a.create({keySize:e+r}).compute(t,n),r=o.create(t.words.slice(e),4*r),t.sigBytes=4*e,h.create({key:t,iv:r,salt:n})}},d=r.PasswordBasedCipher=p.extend({cfg:p.cfg.extend({kdf:n}),encrypt:function(t,e,r,n){return n=this.cfg.extend(n),r=n.kdf.execute(r,t.keySize,t.ivSize),n.iv=r.iv,t=p.encrypt.call(this,t,e,r.key,n),t.mixIn(r),t},decrypt:function(t,e,r,n){return n=this.cfg.extend(n),e=this._parse(e,n.format),r=n.kdf.execute(r,t.keySize,t.ivSize,e.salt),n.iv=r.iv,p.decrypt.call(this,t,e,r.key,n)}})}()})},{"./core":32}],32:[function(t,e,r){!function(t,n){"object"==typeof r?e.exports=r=n():t.CryptoJS=n()}(this,function(){var t=t||function(t,e){var r=Object.create||function(){function t(){}return function(e){return t.prototype=e,e=new t,t.prototype=null,e}}(),n={},o=n.lib={},i=o.Base=function(){return{extend:function(t){var e=r(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),s=o.WordArray=i.extend({init:function(t,r){t=this.words=t||[],this.sigBytes=r!=e?r:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var e=this.words,r=t.words,n=this.sigBytes;if(t=t.sigBytes,this.clamp(),n%4)for(var o=0;t>o;o++)e[n+o>>>2]|=(r[o>>>2]>>>24-o%4*8&255)<<24-(n+o)%4*8;else for(o=0;t>o;o+=4)e[n+o>>>2]=r[o>>>2];return this.sigBytes+=t,this},clamp:function(){var e=this.words,r=this.sigBytes;e[r>>>2]&=4294967295<<32-r%4*8,e.length=t.ceil(r/4)},clone:function(){var t=i.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var r,n=[],o=function(e){var r=987654321;return function(){return r=36969*(65535&r)+(r>>16)&4294967295,e=18e3*(65535&e)+(e>>16)&4294967295,(((r<<16)+e&4294967295)/4294967296+.5)*(.5<t.random()?1:-1)}},i=0;e>i;i+=4){var a=o(4294967296*(r||t.random()));r=987654071*a(),n.push(4294967296*a()|0)}return new s.init(n,e)}}),a=n.enc={},c=a.Hex={stringify:function(t){var e=t.words;t=t.sigBytes;for(var r=[],n=0;t>n;n++){var o=e[n>>>2]>>>24-n%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,r=[],n=0;e>n;n+=2)r[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new s.init(r,e/2)}},u=a.Latin1={stringify:function(t){var e=t.words;t=t.sigBytes;for(var r=[],n=0;t>n;n++)r.push(String.fromCharCode(e[n>>>2]>>>24-n%4*8&255));return r.join("")},parse:function(t){for(var e=t.length,r=[],n=0;e>n;n++)r[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new s.init(r,e)}},f=a.Utf8={stringify:function(t){try{return decodeURIComponent(escape(u.stringify(t)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(t){return u.parse(unescape(encodeURIComponent(t)))}},l=o.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=f.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var r=this._data,n=r.words,o=r.sigBytes,i=this.blockSize,a=o/(4*i),a=e?t.ceil(a):t.max((0|a)-this._minBufferSize,0);if(e=a*i,o=t.min(4*e,o),e){for(var c=0;e>c;c+=i)this._doProcessBlock(n,c);c=n.splice(0,e),r.sigBytes-=o}return new s.init(c,o)},clone:function(){var t=i.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});o.Hasher=l.extend({cfg:i.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,r){return new t.init(r).finalize(e)}},_createHmacHelper:function(t){return function(e,r){return new h.HMAC.init(t,r).finalize(e)}}});var h=n.algo={};return n}(Math);return t})},{}],33:[function(t,e,r){!function(n,o){"object"==typeof r?e.exports=r=o(t("./core")):o(n.CryptoJS)}(this,function(t){return function(){var e=t.lib.WordArray;t.enc.Base64={stringify:function(t){var e=t.words,r=t.sigBytes,n=this._map;t.clamp(),t=[];for(var o=0;r>o;o+=3)for(var i=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;4>s&&r>o+.75*s;s++)t.push(n.charAt(i>>>6*(3-s)&63));if(e=n.charAt(64))for(;t.length%4;)t.push(e);return t.join("")},parse:function(t){var r=t.length,n=this._map,o=this._reverseMap;if(!o)for(var o=this._reverseMap=[],i=0;i<n.length;i++)o[n.charCodeAt(i)]=i;(n=n.charAt(64))&&(n=t.indexOf(n),-1!==n&&(r=n));for(var n=[],s=i=0;r>s;s++)if(s%4){var a=o[t.charCodeAt(s-1)]<<s%4*2,c=o[t.charCodeAt(s)]>>>6-s%4*2;n[i>>>2]|=(a|c)<<24-i%4*8,i++}return e.create(n,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),t.enc.Base64})},{"./core":32}],34:[function(t,e,r){!function(n,o){"object"==typeof r?e.exports=r=o(t("./core")):o(n.CryptoJS)}(this,function(t){return function(){function e(t){return t<<8&4278255360|t>>>8&16711935}var r=t.lib.WordArray,n=t.enc;n.Utf16=n.Utf16BE={stringify:function(t){var e=t.words;t=t.sigBytes;for(var r=[],n=0;t>n;n+=2)r.push(String.fromCharCode(e[n>>>2]>>>16-n%4*8&65535));return r.join("")},parse:function(t){for(var e=t.length,n=[],o=0;e>o;o++)n[o>>>1]|=t.charCodeAt(o)<<16-o%2*16;return r.create(n,2*e)}},n.Utf16LE={stringify:function(t){var r=t.words;t=t.sigBytes;for(var n=[],o=0;t>o;o+=2){var i=e(r[o>>>2]>>>16-o%4*8&65535);n.push(String.fromCharCode(i))}return n.join("")},parse:function(t){for(var n=t.length,o=[],i=0;n>i;i++)o[i>>>1]|=e(t.charCodeAt(i)<<16-i%2*16);return r.create(o,2*n)}}}(),t.enc.Utf16})},{"./core":32}],35:[function(t,e,r){!function(n,o){"object"==typeof r?e.exports=r=o(t("./core"),t("./sha1"),t("./hmac")):o(n.CryptoJS)}(this,function(t){return function(){var e=t.lib,r=e.Base,n=e.WordArray,e=t.algo,o=e.EvpKDF=r.extend({cfg:r.extend({keySize:4,hasher:e.MD5,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var r=this.cfg,o=r.hasher.create(),i=n.create(),s=i.words,a=r.keySize,r=r.iterations;s.length<a;){c&&o.update(c);var c=o.update(t).finalize(e);o.reset();for(var u=1;r>u;u++)c=o.finalize(c),o.reset();i.concat(c)}return i.sigBytes=4*a,i}});t.EvpKDF=function(t,e,r){return o.create(r).compute(t,e)}}(),t.EvpKDF})},{"./core":32,"./hmac":37,"./sha1":56}],36:[function(t,e,r){!function(n,o){"object"==typeof r?e.exports=r=o(t("./core"),t("./cipher-core")):o(n.CryptoJS)}(this,function(t){return function(){var e=t.lib.CipherParams,r=t.enc.Hex;t.format.Hex={stringify:function(t){return t.ciphertext.toString(r)},parse:function(t){return t=r.parse(t),e.create({ciphertext:t})}}}(),t.format.Hex})},{"./cipher-core":31,"./core":32}],37:[function(t,e,r){!function(n,o){"object"==typeof r?e.exports=r=o(t("./core")):o(n.CryptoJS)}(this,function(t){!function(){var e=t.enc.Utf8;t.algo.HMAC=t.lib.Base.extend({init:function(t,r){t=this._hasher=new t.init,"string"==typeof r&&(r=e.parse(r));var n=t.blockSize,o=4*n;r.sigBytes>o&&(r=t.finalize(r)),r.clamp();for(var i=this._oKey=r.clone(),s=this._iKey=r.clone(),a=i.words,c=s.words,u=0;n>u;u++)a[u]^=1549556828,c[u]^=909522486;i.sigBytes=s.sigBytes=o,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher;return t=e.finalize(t),e.reset(),e.finalize(this._oKey.clone().concat(t))}})}()})},{"./core":32}],38:[function(t,e,r){!function(n,o){"object"==typeof r?e.exports=r=o(t("./core"),t("./x64-core"),t("./lib-typedarrays"),t("./enc-utf16"),t("./enc-base64"),t("./md5"),t("./sha1"),t("./sha256"),t("./sha224"),t("./sha512"),t("./sha384"),t("./sha3"),t("./ripemd160"),t("./hmac"),t("./pbkdf2"),t("./evpkdf"),t("./cipher-core"),t("./mode-cfb"),t("./mode-ctr"),t("./mode-ctr-gladman"),t("./mode-ofb"),t("./mode-ecb"),t("./pad-ansix923"),t("./pad-iso10126"),t("./pad-iso97971"),t("./pad-zeropadding"),t("./pad-nopadding"),t("./format-hex"),t("./aes"),t("./tripledes"),t("./rc4"),t("./rabbit"),t("./rabbit-legacy")):n.CryptoJS=o(n.CryptoJS)}(this,function(t){return t})},{"./aes":30,"./cipher-core":31,"./core":32,"./enc-base64":33,"./enc-utf16":34,"./evpkdf":35,"./format-hex":36,"./hmac":37,"./lib-typedarrays":39,"./md5":40,"./mode-cfb":41,"./mode-ctr":43,"./mode-ctr-gladman":42,"./mode-ecb":44,"./mode-ofb":45,"./pad-ansix923":46,"./pad-iso10126":47,"./pad-iso97971":48,"./pad-nopadding":49,"./pad-zeropadding":50,"./pbkdf2":51,"./rabbit":53,"./rabbit-legacy":52,"./rc4":54,"./ripemd160":55,"./sha1":56,"./sha224":57,"./sha256":58,"./sha3":59,"./sha384":60,"./sha512":61,"./tripledes":62,"./x64-core":63}],39:[function(t,e,r){!function(n,o){"object"==typeof r?e.exports=r=o(t("./core")):o(n.CryptoJS)}(this,function(t){return function(){if("function"==typeof ArrayBuffer){var e=t.lib.WordArray,r=e.init;(e.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var e=t.byteLength,n=[],o=0;e>o;o++)n[o>>>2]|=t[o]<<24-o%4*8;r.call(this,n,e)}else r.apply(this,arguments)}).prototype=e}}(),t.lib.WordArray})},{"./core":32}],40:[function(t,e,r){!function(n,o){"object"==typeof r?e.exports=r=o(t("./core")):o(n.CryptoJS)}(this,function(t){return function(e){function r(t,e,r,n,o,i,s){return t=t+(e&r|~e&n)+o+s,(t<<i|t>>>32-i)+e}function n(t,e,r,n,o,i,s){return t=t+(e&n|r&~n)+o+s,(t<<i|t>>>32-i)+e}function o(t,e,r,n,o,i,s){return t=t+(e^r^n)+o+s,(t<<i|t>>>32-i)+e}function i(t,e,r,n,o,i,s){return t=t+(r^(e|~n))+o+s,(t<<i|t>>>32-i)+e}var s=t.lib,a=s.WordArray,c=s.Hasher,s=t.algo,u=[];!function(){for(var t=0;64>t;t++)u[t]=4294967296*e.abs(e.sin(t+1))|0}(),s=s.MD5=c.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var s=0;16>s;s++){var a=e+s,c=t[a];t[a]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}var s=this._hash.words,a=t[e+0],c=t[e+1],f=t[e+2],l=t[e+3],h=t[e+4],p=t[e+5],d=t[e+6],y=t[e+7],_=t[e+8],g=t[e+9],b=t[e+10],v=t[e+11],m=t[e+12],w=t[e+13],E=t[e+14],S=t[e+15],A=s[0],k=s[1],P=s[2],T=s[3],A=r(A,k,P,T,a,7,u[0]),T=r(T,A,k,P,c,12,u[1]),P=r(P,T,A,k,f,17,u[2]),k=r(k,P,T,A,l,22,u[3]),A=r(A,k,P,T,h,7,u[4]),T=r(T,A,k,P,p,12,u[5]),P=r(P,T,A,k,d,17,u[6]),k=r(k,P,T,A,y,22,u[7]),A=r(A,k,P,T,_,7,u[8]),T=r(T,A,k,P,g,12,u[9]),P=r(P,T,A,k,b,17,u[10]),k=r(k,P,T,A,v,22,u[11]),A=r(A,k,P,T,m,7,u[12]),T=r(T,A,k,P,w,12,u[13]),P=r(P,T,A,k,E,17,u[14]),k=r(k,P,T,A,S,22,u[15]),A=n(A,k,P,T,c,5,u[16]),T=n(T,A,k,P,d,9,u[17]),P=n(P,T,A,k,v,14,u[18]),k=n(k,P,T,A,a,20,u[19]),A=n(A,k,P,T,p,5,u[20]),T=n(T,A,k,P,b,9,u[21]),P=n(P,T,A,k,S,14,u[22]),k=n(k,P,T,A,h,20,u[23]),A=n(A,k,P,T,g,5,u[24]),T=n(T,A,k,P,E,9,u[25]),P=n(P,T,A,k,l,14,u[26]),k=n(k,P,T,A,_,20,u[27]),A=n(A,k,P,T,w,5,u[28]),T=n(T,A,k,P,f,9,u[29]),P=n(P,T,A,k,y,14,u[30]),k=n(k,P,T,A,m,20,u[31]),A=o(A,k,P,T,p,4,u[32]),T=o(T,A,k,P,_,11,u[33]),P=o(P,T,A,k,v,16,u[34]),k=o(k,P,T,A,E,23,u[35]),A=o(A,k,P,T,c,4,u[36]),T=o(T,A,k,P,h,11,u[37]),P=o(P,T,A,k,y,16,u[38]),k=o(k,P,T,A,b,23,u[39]),A=o(A,k,P,T,w,4,u[40]),T=o(T,A,k,P,a,11,u[41]),P=o(P,T,A,k,l,16,u[42]),k=o(k,P,T,A,d,23,u[43]),A=o(A,k,P,T,g,4,u[44]),T=o(T,A,k,P,m,11,u[45]),P=o(P,T,A,k,S,16,u[46]),k=o(k,P,T,A,f,23,u[47]),A=i(A,k,P,T,a,6,u[48]),T=i(T,A,k,P,y,10,u[49]),P=i(P,T,A,k,E,15,u[50]),k=i(k,P,T,A,p,21,u[51]),A=i(A,k,P,T,m,6,u[52]),T=i(T,A,k,P,l,10,u[53]),P=i(P,T,A,k,b,15,u[54]),k=i(k,P,T,A,c,21,u[55]),A=i(A,k,P,T,_,6,u[56]),T=i(T,A,k,P,S,10,u[57]),P=i(P,T,A,k,d,15,u[58]),k=i(k,P,T,A,w,21,u[59]),A=i(A,k,P,T,h,6,u[60]),T=i(T,A,k,P,v,10,u[61]),P=i(P,T,A,k,f,15,u[62]),k=i(k,P,T,A,g,21,u[63]);s[0]=s[0]+A|0,s[1]=s[1]+k|0,s[2]=s[2]+P|0,s[3]=s[3]+T|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,o=8*t.sigBytes;r[o>>>5]|=128<<24-o%32;var i=e.floor(n/4294967296);for(r[(o+64>>>9<<4)+15]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),r[(o+64>>>9<<4)+14]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),t.sigBytes=4*(r.length+1),this._process(),t=this._hash,r=t.words,n=0;4>n;n++)o=r[n],r[n]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8);return t},clone:function(){var t=c.clone.call(this);return t._hash=this._hash.clone(),t}}),t.MD5=c._createHelper(s),t.HmacMD5=c._createHmacHelper(s)}(Math),t.MD5})},{"./core":32}],41:[function(t,e,r){!function(n,o){"object"==typeof r?e.exports=r=o(t("./core"),t("./cipher-core")):o(n.CryptoJS)}(this,function(t){return t.mode.CFB=function(){function e(t,e,r,n){var o=this._iv;for(o?(o=o.slice(0),this._iv=void 0):o=this._prevBlock,n.encryptBlock(o,0),n=0;r>n;n++)t[e+n]^=o[n]}var r=t.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(t,r){var n=this._cipher,o=n.blockSize;e.call(this,t,r,o,n),this._prevBlock=t.slice(r,r+o)}}),r.Decryptor=r.extend({processBlock:function(t,r){var n=this._cipher,o=n.blockSize,i=t.slice(r,r+o);e.call(this,t,r,o,n),this._prevBlock=i}}),r}(),t.mode.CFB})},{"./cipher-core":31,"./core":32}],42:[function(t,e,r){!function(n,o){"object"==typeof r?e.exports=r=o(t("./core"),t("./cipher-core")):o(n.CryptoJS)}(this,function(t){return t.mode.CTRGladman=function(){function e(t){if(255===(t>>24&255)){var e=t>>16&255,r=t>>8&255;t&=255,255===e?(e=0,255===r?(r=0,255===t?t=0:++t):++r):++e,t=0+(e<<16)+(r<<8)+t}else t+=16777216;return t}var r=t.lib.BlockCipherMode.extend(),n=r.Encryptor=r.extend({processBlock:function(t,r){var n=this._cipher,o=n.blockSize,i=this._iv,s=this._counter;for(i&&(s=this._counter=i.slice(0),this._iv=void 0),i=s,0===(i[0]=e(i[0]))&&(i[1]=e(i[1])),s=s.slice(0),n.encryptBlock(s,0),n=0;o>n;n++)t[r+n]^=s[n]}});return r.Decryptor=n,r}(),t.mode.CTRGladman})},{"./cipher-core":31,"./core":32}],43:[function(t,e,r){!function(n,o){"object"==typeof r?e.exports=r=o(t("./core"),t("./cipher-core")):o(n.CryptoJS)}(this,function(t){return t.mode.CTR=function(){var e=t.lib.BlockCipherMode.extend(),r=e.Encryptor=e.extend({processBlock:function(t,e){var r=this._cipher,n=r.blockSize,o=this._iv,i=this._counter;for(o&&(i=this._counter=o.slice(0),this._iv=void 0),o=i.slice(0),r.encryptBlock(o,0),i[n-1]=i[n-1]+1|0,r=0;n>r;r++)t[e+r]^=o[r]}});return e.Decryptor=r,e}(),t.mode.CTR})},{"./cipher-core":31,"./core":32}],44:[function(t,e,r){!function(n,o){"object"==typeof r?e.exports=r=o(t("./core"),t("./cipher-core")):o(n.CryptoJS)}(this,function(t){return t.mode.ECB=function(){var e=t.lib.BlockCipherMode.extend();return e.Encryptor=e.extend({processBlock:function(t,e){this._cipher.encryptBlock(t,e)}}),e.Decryptor=e.extend({processBlock:function(t,e){this._cipher.decryptBlock(t,e)}}),e}(),t.mode.ECB})},{"./cipher-core":31,"./core":32}],45:[function(t,e,r){!function(n,o){"object"==typeof r?e.exports=r=o(t("./core"),t("./cipher-core")):o(n.CryptoJS)}(this,function(t){return t.mode.OFB=function(){var e=t.lib.BlockCipherMode.extend(),r=e.Encryptor=e.extend({processBlock:function(t,e){var r=this._cipher,n=r.blockSize,o=this._iv,i=this._keystream;for(o&&(i=this._keystream=o.slice(0),this._iv=void 0),r.encryptBlock(i,0),r=0;n>r;r++)t[e+r]^=i[r]}});return e.Decryptor=r,e}(),t.mode.OFB})},{"./cipher-core":31,"./core":32}],46:[function(t,e,r){!function(n,o){"object"==typeof r?e.exports=r=o(t("./core"),t("./cipher-core")):o(n.CryptoJS)}(this,function(t){return t.pad.AnsiX923={pad:function(t,e){var r=t.sigBytes,n=4*e,n=n-r%n,r=r+n-1;t.clamp(),t.words[r>>>2]|=n<<24-r%4*8,t.sigBytes+=n},unpad:function(t){t.sigBytes-=255&t.words[t.sigBytes-1>>>2]}},t.pad.Ansix923})},{"./cipher-core":31,"./core":32}],47:[function(t,e,r){!function(n,o){"object"==typeof r?e.exports=r=o(t("./core"),t("./cipher-core")):o(n.CryptoJS)}(this,function(t){return t.pad.Iso10126={pad:function(e,r){var n=4*r,n=n-e.sigBytes%n;e.concat(t.lib.WordArray.random(n-1)).concat(t.lib.WordArray.create([n<<24],1))},unpad:function(t){t.sigBytes-=255&t.words[t.sigBytes-1>>>2]}},t.pad.Iso10126})},{"./cipher-core":31,"./core":32}],48:[function(t,e,r){!function(n,o){"object"==typeof r?e.exports=r=o(t("./core"),t("./cipher-core")):o(n.CryptoJS)}(this,function(t){return t.pad.Iso97971={pad:function(e,r){e.concat(t.lib.WordArray.create([2147483648],1)),t.pad.ZeroPadding.pad(e,r)},unpad:function(e){t.pad.ZeroPadding.unpad(e),e.sigBytes--}},t.pad.Iso97971})},{"./cipher-core":31,"./core":32}],49:[function(t,e,r){!function(n,o){"object"==typeof r?e.exports=r=o(t("./core"),t("./cipher-core")):o(n.CryptoJS)}(this,function(t){return t.pad.NoPadding={pad:function(){},unpad:function(){}},t.pad.NoPadding})},{"./cipher-core":31,"./core":32}],50:[function(t,e,r){!function(n,o){"object"==typeof r?e.exports=r=o(t("./core"),t("./cipher-core")):o(n.CryptoJS)}(this,function(t){return t.pad.ZeroPadding={pad:function(t,e){var r=4*e;t.clamp(),t.sigBytes+=r-(t.sigBytes%r||r)},unpad:function(t){for(var e=t.words,r=t.sigBytes-1;!(e[r>>>2]>>>24-r%4*8&255);)r--;t.sigBytes=r+1}},t.pad.ZeroPadding})},{"./cipher-core":31,"./core":32}],51:[function(t,e,r){!function(n,o){"object"==typeof r?e.exports=r=o(t("./core"),t("./sha1"),t("./hmac")):o(n.CryptoJS)}(this,function(t){return function(){var e=t.lib,r=e.Base,n=e.WordArray,e=t.algo,o=e.HMAC,i=e.PBKDF2=r.extend({cfg:r.extend({keySize:4,hasher:e.SHA1,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var r=this.cfg,i=o.create(r.hasher,t),s=n.create(),a=n.create([1]),c=s.words,u=a.words,f=r.keySize,r=r.iterations;c.length<f;){var l=i.update(e).finalize(a);i.reset();for(var h=l.words,p=h.length,d=l,y=1;r>y;y++){d=i.finalize(d),i.reset();for(var _=d.words,g=0;p>g;g++)h[g]^=_[g]}s.concat(l),u[0]++}return s.sigBytes=4*f,s}});t.PBKDF2=function(t,e,r){return i.create(r).compute(t,e)}}(),t.PBKDF2})},{"./core":32,"./hmac":37,"./sha1":56}],52:[function(t,e,r){!function(n,o){"object"==typeof r?e.exports=r=o(t("./core"),t("./enc-base64"),t("./md5"),t("./evpkdf"),t("./cipher-core")):o(n.CryptoJS)}(this,function(t){return function(){function e(){for(var t=this._X,e=this._C,r=0;8>r;r++)o[r]=e[r];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<o[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<o[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<o[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<o[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<o[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<o[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<o[6]>>>0?1:0)|0,this._b=e[7]>>>0<o[7]>>>0?1:0,r=0;8>r;r++){var n=t[r]+e[r],s=65535&n,a=n>>>16;i[r]=((s*s>>>17)+s*a>>>15)+a*a^((4294901760&n)*n|0)+((65535&n)*n|0)}t[0]=i[0]+(i[7]<<16|i[7]>>>16)+(i[6]<<16|i[6]>>>16)|0,t[1]=i[1]+(i[0]<<8|i[0]>>>24)+i[7]|0,t[2]=i[2]+(i[1]<<16|i[1]>>>16)+(i[0]<<16|i[0]>>>16)|0,t[3]=i[3]+(i[2]<<8|i[2]>>>24)+i[1]|0,t[4]=i[4]+(i[3]<<16|i[3]>>>16)+(i[2]<<16|i[2]>>>16)|0,t[5]=i[5]+(i[4]<<8|i[4]>>>24)+i[3]|0,t[6]=i[6]+(i[5]<<16|i[5]>>>16)+(i[4]<<16|i[4]>>>16)|0,t[7]=i[7]+(i[6]<<8|i[6]>>>24)+i[5]|0}var r=t.lib.StreamCipher,n=[],o=[],i=[],s=t.algo.RabbitLegacy=r.extend({_doReset:function(){for(var t=this._key.words,r=this.cfg.iv,n=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],t=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]],o=this._b=0;4>o;o++)e.call(this);for(o=0;8>o;o++)t[o]^=n[o+4&7];if(r){var n=r.words,r=n[0],n=n[1],r=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),n=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),o=r>>>16|4294901760&n,i=n<<16|65535&r;for(t[0]^=r,t[1]^=o,t[2]^=n,t[3]^=i,t[4]^=r,t[5]^=o,t[6]^=n,t[7]^=i,o=0;4>o;o++)e.call(this)}},_doProcessBlock:function(t,r){var o=this._X;for(e.call(this),n[0]=o[0]^o[5]>>>16^o[3]<<16,n[1]=o[2]^o[7]>>>16^o[5]<<16,n[2]=o[4]^o[1]>>>16^o[7]<<16,n[3]=o[6]^o[3]>>>16^o[1]<<16,o=0;4>o;o++)n[o]=16711935&(n[o]<<8|n[o]>>>24)|4278255360&(n[o]<<24|n[o]>>>8),t[r+o]^=n[o]},blockSize:4,ivSize:2});t.RabbitLegacy=r._createHelper(s)}(),t.RabbitLegacy})},{"./cipher-core":31,"./core":32,"./enc-base64":33,"./evpkdf":35,"./md5":40}],53:[function(t,e,r){!function(n,o){"object"==typeof r?e.exports=r=o(t("./core"),t("./enc-base64"),t("./md5"),t("./evpkdf"),t("./cipher-core")):o(n.CryptoJS)}(this,function(t){return function(){function e(){for(var t=this._X,e=this._C,r=0;8>r;r++)o[r]=e[r];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<o[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<o[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<o[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<o[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<o[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<o[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<o[6]>>>0?1:0)|0,this._b=e[7]>>>0<o[7]>>>0?1:0,r=0;8>r;r++){var n=t[r]+e[r],s=65535&n,a=n>>>16;i[r]=((s*s>>>17)+s*a>>>15)+a*a^((4294901760&n)*n|0)+((65535&n)*n|0)}t[0]=i[0]+(i[7]<<16|i[7]>>>16)+(i[6]<<16|i[6]>>>16)|0,t[1]=i[1]+(i[0]<<8|i[0]>>>24)+i[7]|0,t[2]=i[2]+(i[1]<<16|i[1]>>>16)+(i[0]<<16|i[0]>>>16)|0,t[3]=i[3]+(i[2]<<8|i[2]>>>24)+i[1]|0,t[4]=i[4]+(i[3]<<16|i[3]>>>16)+(i[2]<<16|i[2]>>>16)|0,t[5]=i[5]+(i[4]<<8|i[4]>>>24)+i[3]|0,t[6]=i[6]+(i[5]<<16|i[5]>>>16)+(i[4]<<16|i[4]>>>16)|0,t[7]=i[7]+(i[6]<<8|i[6]>>>24)+i[5]|0}var r=t.lib.StreamCipher,n=[],o=[],i=[],s=t.algo.Rabbit=r.extend({_doReset:function(){for(var t=this._key.words,r=this.cfg.iv,n=0;4>n;n++)t[n]=16711935&(t[n]<<8|t[n]>>>24)|4278255360&(t[n]<<24|t[n]>>>8);for(var o=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],t=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]],n=this._b=0;4>n;n++)e.call(this);for(n=0;8>n;n++)t[n]^=o[n+4&7];if(r){var n=r.words,r=n[0],n=n[1],r=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),n=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),o=r>>>16|4294901760&n,i=n<<16|65535&r;for(t[0]^=r,t[1]^=o,t[2]^=n,t[3]^=i,t[4]^=r,t[5]^=o,t[6]^=n,t[7]^=i,n=0;4>n;n++)e.call(this)}},_doProcessBlock:function(t,r){var o=this._X;for(e.call(this),n[0]=o[0]^o[5]>>>16^o[3]<<16,n[1]=o[2]^o[7]>>>16^o[5]<<16,n[2]=o[4]^o[1]>>>16^o[7]<<16,n[3]=o[6]^o[3]>>>16^o[1]<<16,o=0;4>o;o++)n[o]=16711935&(n[o]<<8|n[o]>>>24)|4278255360&(n[o]<<24|n[o]>>>8),t[r+o]^=n[o]},blockSize:4,ivSize:2});t.Rabbit=r._createHelper(s)}(),t.Rabbit})},{"./cipher-core":31,"./core":32,"./enc-base64":33,"./evpkdf":35,"./md5":40}],54:[function(t,e,r){!function(n,o){"object"==typeof r?e.exports=r=o(t("./core"),t("./enc-base64"),t("./md5"),t("./evpkdf"),t("./cipher-core")):o(n.CryptoJS)}(this,function(t){return function(){function e(){for(var t=this._S,e=this._i,r=this._j,n=0,o=0;4>o;o++){var e=(e+1)%256,r=(r+t[e])%256,i=t[e];t[e]=t[r],t[r]=i,n|=t[(t[e]+t[r])%256]<<24-8*o}return this._i=e,this._j=r,n}var r=t.lib.StreamCipher,n=t.algo,o=n.RC4=r.extend({_doReset:function(){for(var t=this._key,e=t.words,t=t.sigBytes,r=this._S=[],n=0;256>n;n++)r[n]=n;for(var o=n=0;256>n;n++){var i=n%t,o=(o+r[n]+(e[i>>>2]>>>24-i%4*8&255))%256,i=r[n];r[n]=r[o],r[o]=i}this._i=this._j=0},_doProcessBlock:function(t,r){t[r]^=e.call(this)},keySize:8,ivSize:0});t.RC4=r._createHelper(o),n=n.RC4Drop=o.extend({cfg:o.cfg.extend({drop:192}),_doReset:function(){o._doReset.call(this);for(var t=this.cfg.drop;t>0;t--)e.call(this)}}),t.RC4Drop=r._createHelper(n)}(),t.RC4})},{"./cipher-core":31,"./core":32,"./enc-base64":33,"./evpkdf":35,"./md5":40}],55:[function(t,e,r){!function(n,o){"object"==typeof r?e.exports=r=o(t("./core")):o(n.CryptoJS)}(this,function(t){return function(e){function r(t,e){return t<<e|t>>>32-e}e=t.lib;var n=e.WordArray,o=e.Hasher;e=t.algo;var i=n.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),s=n.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),a=n.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),c=n.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),u=n.create([0,1518500249,1859775393,2400959708,2840853838]),f=n.create([1352829926,1548603684,1836072691,2053994217,0]);e=e.RIPEMD160=o.extend({_doReset:function(){this._hash=n.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=0;16>n;n++){var o=e+n,l=t[o];t[o]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}var h,p,d,y,_,g,b,v,m,w,o=this._hash.words,l=u.words,E=f.words,S=i.words,A=s.words,k=a.words,P=c.words;g=h=o[0],b=p=o[1],v=d=o[2],m=y=o[3],w=_=o[4];for(var T,n=0;80>n;n+=1)T=h+t[e+S[n]]|0,T=16>n?T+((p^d^y)+l[0]):32>n?T+((p&d|~p&y)+l[1]):48>n?T+(((p|~d)^y)+l[2]):64>n?T+((p&y|d&~y)+l[3]):T+((p^(d|~y))+l[4]),T|=0,T=r(T,k[n]),T=T+_|0,h=_,_=y,y=r(d,10),d=p,p=T,T=g+t[e+A[n]]|0,T=16>n?T+((b^(v|~m))+E[0]):32>n?T+((b&m|v&~m)+E[1]):48>n?T+(((b|~v)^m)+E[2]):64>n?T+((b&v|~b&m)+E[3]):T+((b^v^m)+E[4]),T|=0,T=r(T,P[n]),T=T+w|0,g=w,w=m,m=r(v,10),v=b,b=T;T=o[1]+d+m|0,o[1]=o[2]+y+w|0,o[2]=o[3]+_+g|0,o[3]=o[4]+h+b|0,o[4]=o[0]+p+v|0,o[0]=T},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;for(e[n>>>5]|=128<<24-n%32,e[(n+64>>>9<<4)+14]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t.sigBytes=4*(e.length+1),this._process(),t=this._hash,e=t.words,r=0;5>r;r++)n=e[r],e[r]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8);return t},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}}),t.RIPEMD160=o._createHelper(e),t.HmacRIPEMD160=o._createHmacHelper(e)}(Math),t.RIPEMD160})},{"./core":32}],56:[function(t,e,r){!function(n,o){"object"==typeof r?e.exports=r=o(t("./core")):o(n.CryptoJS)}(this,function(t){return function(){var e=t.lib,r=e.WordArray,n=e.Hasher,o=[],e=t.algo.SHA1=n.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var r=this._hash.words,n=r[0],i=r[1],s=r[2],a=r[3],c=r[4],u=0;80>u;u++){if(16>u)o[u]=0|t[e+u];else{var f=o[u-3]^o[u-8]^o[u-14]^o[u-16];

o[u]=f<<1|f>>>31}f=(n<<5|n>>>27)+c+o[u],f=20>u?f+((i&s|~i&a)+1518500249):40>u?f+((i^s^a)+1859775393):60>u?f+((i&s|i&a|s&a)-1894007588):f+((i^s^a)-899497514),c=a,a=s,s=i<<30|i>>>2,i=n,n=f}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+s|0,r[3]=r[3]+a|0,r[4]=r[4]+c|0},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[(n+64>>>9<<4)+14]=Math.floor(r/4294967296),e[(n+64>>>9<<4)+15]=r,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=n.clone.call(this);return t._hash=this._hash.clone(),t}});t.SHA1=n._createHelper(e),t.HmacSHA1=n._createHmacHelper(e)}(),t.SHA1})},{"./core":32}],57:[function(t,e,r){!function(n,o){"object"==typeof r?e.exports=r=o(t("./core"),t("./sha256")):o(n.CryptoJS)}(this,function(t){return function(){var e=t.lib.WordArray,r=t.algo,n=r.SHA256,r=r.SHA224=n.extend({_doReset:function(){this._hash=new e.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=n._doFinalize.call(this);return t.sigBytes-=4,t}});t.SHA224=n._createHelper(r),t.HmacSHA224=n._createHmacHelper(r)}(),t.SHA224})},{"./core":32,"./sha256":58}],58:[function(t,e,r){!function(n,o){"object"==typeof r?e.exports=r=o(t("./core")):o(n.CryptoJS)}(this,function(t){return function(e){var r=t.lib,n=r.WordArray,o=r.Hasher,r=t.algo,i=[],s=[];!function(){function t(t){for(var r=e.sqrt(t),n=2;r>=n;n++)if(!(t%n))return!1;return!0}function r(t){return 4294967296*(t-(0|t))|0}for(var n=2,o=0;64>o;)t(n)&&(8>o&&(i[o]=r(e.pow(n,.5))),s[o]=r(e.pow(n,1/3)),o++),n++}();var a=[],r=r.SHA256=o.extend({_doReset:function(){this._hash=new n.init(i.slice(0))},_doProcessBlock:function(t,e){for(var r=this._hash.words,n=r[0],o=r[1],i=r[2],c=r[3],u=r[4],f=r[5],l=r[6],h=r[7],p=0;64>p;p++){if(16>p)a[p]=0|t[e+p];else{var d=a[p-15],y=a[p-2];a[p]=((d<<25|d>>>7)^(d<<14|d>>>18)^d>>>3)+a[p-7]+((y<<15|y>>>17)^(y<<13|y>>>19)^y>>>10)+a[p-16]}d=h+((u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25))+(u&f^~u&l)+s[p]+a[p],y=((n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22))+(n&o^n&i^o&i),h=l,l=f,f=u,u=c+d|0,c=i,i=o,o=n,n=d+y|0}r[0]=r[0]+n|0,r[1]=r[1]+o|0,r[2]=r[2]+i|0,r[3]=r[3]+c|0,r[4]=r[4]+u|0,r[5]=r[5]+f|0,r[6]=r[6]+l|0,r[7]=r[7]+h|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,o=8*t.sigBytes;return r[o>>>5]|=128<<24-o%32,r[(o+64>>>9<<4)+14]=e.floor(n/4294967296),r[(o+64>>>9<<4)+15]=n,t.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});t.SHA256=o._createHelper(r),t.HmacSHA256=o._createHmacHelper(r)}(Math),t.SHA256})},{"./core":32}],59:[function(t,e,r){!function(n,o){"object"==typeof r?e.exports=r=o(t("./core"),t("./x64-core")):o(n.CryptoJS)}(this,function(t){return function(e){var r=t.lib,n=r.WordArray,o=r.Hasher,i=t.x64.Word,r=t.algo,s=[],a=[],c=[];!function(){for(var t=1,e=0,r=0;24>r;r++){s[t+5*e]=(r+1)*(r+2)/2%64;var n=(2*t+3*e)%5,t=e%5,e=n}for(t=0;5>t;t++)for(e=0;5>e;e++)a[t+5*e]=e+(2*t+3*e)%5*5;for(t=1,e=0;24>e;e++){for(var o=n=r=0;7>o;o++){if(1&t){var u=(1<<o)-1;32>u?n^=1<<u:r^=1<<u-32}t=128&t?t<<1^113:t<<1}c[e]=i.create(r,n)}}();var u=[];!function(){for(var t=0;25>t;t++)u[t]=i.create()}(),r=r.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var t=this._state=[],e=0;25>e;e++)t[e]=new i.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(t,e){for(var r=this._state,n=this.blockSize/2,o=0;n>o;o++){var i=t[e+2*o],f=t[e+2*o+1],i=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),f=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),l=r[o];l.high^=f,l.low^=i}for(n=0;24>n;n++){for(o=0;5>o;o++){for(var h=i=0,p=0;5>p;p++)l=r[o+5*p],i^=l.high,h^=l.low;l=u[o],l.high=i,l.low=h}for(o=0;5>o;o++)for(l=u[(o+4)%5],i=u[(o+1)%5],f=i.high,p=i.low,i=l.high^(f<<1|p>>>31),h=l.low^(p<<1|f>>>31),p=0;5>p;p++)l=r[o+5*p],l.high^=i,l.low^=h;for(f=1;25>f;f++)l=r[f],o=l.high,l=l.low,p=s[f],32>p?(i=o<<p|l>>>32-p,h=l<<p|o>>>32-p):(i=l<<p-32|o>>>64-p,h=o<<p-32|l>>>64-p),l=u[a[f]],l.high=i,l.low=h;for(l=u[0],o=r[0],l.high=o.high,l.low=o.low,o=0;5>o;o++)for(p=0;5>p;p++)f=o+5*p,l=r[f],i=u[f],f=u[(o+1)%5+5*p],h=u[(o+2)%5+5*p],l.high=i.high^~f.high&h.high,l.low=i.low^~f.low&h.low;l=r[0],o=c[n],l.high^=o.high,l.low^=o.low}},_doFinalize:function(){var t=this._data,r=t.words,o=8*t.sigBytes,i=32*this.blockSize;r[o>>>5]|=1<<24-o%32,r[(e.ceil((o+1)/i)*i>>>5)-1]|=128,t.sigBytes=4*r.length,this._process();for(var t=this._state,r=this.cfg.outputLength/8,o=r/8,i=[],s=0;o>s;s++){var a=t[s],c=a.high,a=a.low,c=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8),a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8);i.push(a),i.push(c)}return new n.init(i,r)},clone:function(){for(var t=o.clone.call(this),e=t._state=this._state.slice(0),r=0;25>r;r++)e[r]=e[r].clone();return t}}),t.SHA3=o._createHelper(r),t.HmacSHA3=o._createHmacHelper(r)}(Math),t.SHA3})},{"./core":32,"./x64-core":63}],60:[function(t,e,r){!function(n,o){"object"==typeof r?e.exports=r=o(t("./core"),t("./x64-core"),t("./sha512")):o(n.CryptoJS)}(this,function(t){return function(){var e=t.x64,r=e.Word,n=e.WordArray,e=t.algo,o=e.SHA512,e=e.SHA384=o.extend({_doReset:function(){this._hash=new n.init([new r.init(3418070365,3238371032),new r.init(1654270250,914150663),new r.init(2438529370,812702999),new r.init(355462360,4144912697),new r.init(1731405415,4290775857),new r.init(2394180231,1750603025),new r.init(3675008525,1694076839),new r.init(1203062813,3204075428)])},_doFinalize:function(){var t=o._doFinalize.call(this);return t.sigBytes-=16,t}});t.SHA384=o._createHelper(e),t.HmacSHA384=o._createHmacHelper(e)}(),t.SHA384})},{"./core":32,"./sha512":61,"./x64-core":63}],61:[function(t,e,r){!function(n,o){"object"==typeof r?e.exports=r=o(t("./core"),t("./x64-core")):o(n.CryptoJS)}(this,function(t){return function(){function e(){return o.create.apply(o,arguments)}var r=t.lib.Hasher,n=t.x64,o=n.Word,i=n.WordArray,n=t.algo,s=[e(1116352408,3609767458),e(1899447441,602891725),e(3049323471,3964484399),e(3921009573,2173295548),e(961987163,4081628472),e(1508970993,3053834265),e(2453635748,2937671579),e(2870763221,3664609560),e(3624381080,2734883394),e(310598401,1164996542),e(607225278,1323610764),e(1426881987,3590304994),e(1925078388,4068182383),e(2162078206,991336113),e(2614888103,633803317),e(3248222580,3479774868),e(3835390401,2666613458),e(4022224774,944711139),e(264347078,2341262773),e(604807628,2007800933),e(770255983,1495990901),e(1249150122,1856431235),e(1555081692,3175218132),e(1996064986,2198950837),e(2554220882,3999719339),e(2821834349,766784016),e(2952996808,2566594879),e(3210313671,3203337956),e(3336571891,1034457026),e(3584528711,2466948901),e(113926993,3758326383),e(338241895,168717936),e(666307205,1188179964),e(773529912,1546045734),e(1294757372,1522805485),e(1396182291,2643833823),e(1695183700,2343527390),e(1986661051,1014477480),e(2177026350,1206759142),e(2456956037,344077627),e(2730485921,1290863460),e(2820302411,3158454273),e(3259730800,3505952657),e(3345764771,106217008),e(3516065817,3606008344),e(3600352804,1432725776),e(4094571909,1467031594),e(275423344,851169720),e(430227734,3100823752),e(506948616,1363258195),e(659060556,3750685593),e(883997877,3785050280),e(958139571,3318307427),e(1322822218,3812723403),e(1537002063,2003034995),e(1747873779,3602036899),e(1955562222,1575990012),e(2024104815,1125592928),e(2227730452,2716904306),e(2361852424,442776044),e(2428436474,593698344),e(2756734187,3733110249),e(3204031479,2999351573),e(3329325298,3815920427),e(3391569614,3928383900),e(3515267271,566280711),e(3940187606,3454069534),e(4118630271,4000239992),e(116418474,1914138554),e(174292421,2731055270),e(289380356,3203993006),e(460393269,320620315),e(685471733,587496836),e(852142971,1086792851),e(1017036298,365543100),e(1126000580,2618297676),e(1288033470,3409855158),e(1501505948,4234509866),e(1607167915,987167468),e(1816402316,1246189591)],a=[];!function(){for(var t=0;80>t;t++)a[t]=e()}(),n=n.SHA512=r.extend({_doReset:function(){this._hash=new i.init([new o.init(1779033703,4089235720),new o.init(3144134277,2227873595),new o.init(1013904242,4271175723),new o.init(2773480762,1595750129),new o.init(1359893119,2917565137),new o.init(2600822924,725511199),new o.init(528734635,4215389547),new o.init(1541459225,327033209)])},_doProcessBlock:function(t,e){for(var r=this._hash.words,n=r[0],o=r[1],i=r[2],c=r[3],u=r[4],f=r[5],l=r[6],r=r[7],h=n.high,p=n.low,d=o.high,y=o.low,_=i.high,g=i.low,b=c.high,v=c.low,m=u.high,w=u.low,E=f.high,S=f.low,A=l.high,k=l.low,P=r.high,T=r.low,x=h,C=p,R=d,j=y,B=_,O=g,M=b,U=v,I=m,N=w,L=E,D=S,G=A,Y=k,W=P,H=T,z=0;80>z;z++){var F=a[z];if(16>z)var q=F.high=0|t[e+2*z],J=F.low=0|t[e+2*z+1];else{var q=a[z-15],J=q.high,$=q.low,q=(J>>>1|$<<31)^(J>>>8|$<<24)^J>>>7,$=($>>>1|J<<31)^($>>>8|J<<24)^($>>>7|J<<25),X=a[z-2],J=X.high,V=X.low,X=(J>>>19|V<<13)^(J<<3|V>>>29)^J>>>6,V=(V>>>19|J<<13)^(V<<3|J>>>29)^(V>>>6|J<<26),J=a[z-7],K=J.high,Z=a[z-16],Q=Z.high,Z=Z.low,J=$+J.low,q=q+K+($>>>0>J>>>0?1:0),J=J+V,q=q+X+(V>>>0>J>>>0?1:0),J=J+Z,q=q+Q+(Z>>>0>J>>>0?1:0);F.high=q,F.low=J}var K=I&L^~I&G,Z=N&D^~N&Y,F=x&R^x&B^R&B,tt=C&j^C&O^j&O,$=(x>>>28|C<<4)^(x<<30|C>>>2)^(x<<25|C>>>7),X=(C>>>28|x<<4)^(C<<30|x>>>2)^(C<<25|x>>>7),V=s[z],et=V.high,rt=V.low,V=H+((N>>>14|I<<18)^(N>>>18|I<<14)^(N<<23|I>>>9)),Q=W+((I>>>14|N<<18)^(I>>>18|N<<14)^(I<<23|N>>>9))+(H>>>0>V>>>0?1:0),V=V+Z,Q=Q+K+(Z>>>0>V>>>0?1:0),V=V+rt,Q=Q+et+(rt>>>0>V>>>0?1:0),V=V+J,Q=Q+q+(J>>>0>V>>>0?1:0),J=X+tt,F=$+F+(X>>>0>J>>>0?1:0),W=G,H=Y,G=L,Y=D,L=I,D=N,N=U+V|0,I=M+Q+(U>>>0>N>>>0?1:0)|0,M=B,U=O,B=R,O=j,R=x,j=C,C=V+J|0,x=Q+F+(V>>>0>C>>>0?1:0)|0}p=n.low=p+C,n.high=h+x+(C>>>0>p>>>0?1:0),y=o.low=y+j,o.high=d+R+(j>>>0>y>>>0?1:0),g=i.low=g+O,i.high=_+B+(O>>>0>g>>>0?1:0),v=c.low=v+U,c.high=b+M+(U>>>0>v>>>0?1:0),w=u.low=w+N,u.high=m+I+(N>>>0>w>>>0?1:0),S=f.low=S+D,f.high=E+L+(D>>>0>S>>>0?1:0),k=l.low=k+Y,l.high=A+G+(Y>>>0>k>>>0?1:0),T=r.low=T+H,r.high=P+W+(H>>>0>T>>>0?1:0)},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[(n+128>>>10<<5)+30]=Math.floor(r/4294967296),e[(n+128>>>10<<5)+31]=r,t.sigBytes=4*e.length,this._process(),this._hash.toX32()},clone:function(){var t=r.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32}),t.SHA512=r._createHelper(n),t.HmacSHA512=r._createHmacHelper(n)}(),t.SHA512})},{"./core":32,"./x64-core":63}],62:[function(t,e,r){!function(n,o){"object"==typeof r?e.exports=r=o(t("./core"),t("./enc-base64"),t("./md5"),t("./evpkdf"),t("./cipher-core")):o(n.CryptoJS)}(this,function(t){return function(){function e(t,e){var r=(this._lBlock>>>t^this._rBlock)&e;this._rBlock^=r,this._lBlock^=r<<t}function r(t,e){var r=(this._rBlock>>>t^this._lBlock)&e;this._lBlock^=r,this._rBlock^=r<<t}var n=t.lib,o=n.WordArray,n=n.BlockCipher,i=t.algo,s=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],f=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],l=i.DES=n.extend({_doReset:function(){for(var t=this._key.words,e=[],r=0;56>r;r++){var n=s[r]-1;e[r]=t[n>>>5]>>>31-n%32&1}for(t=this._subKeys=[],n=0;16>n;n++){for(var o=t[n]=[],i=c[n],r=0;24>r;r++)o[r/6|0]|=e[(a[r]-1+i)%28]<<31-r%6,o[4+(r/6|0)]|=e[28+(a[r+24]-1+i)%28]<<31-r%6;for(o[0]=o[0]<<1|o[0]>>>31,r=1;7>r;r++)o[r]>>>=4*(r-1)+3;o[7]=o[7]<<5|o[7]>>>27}for(e=this._invSubKeys=[],r=0;16>r;r++)e[r]=t[15-r]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._subKeys)},decryptBlock:function(t,e){this._doCryptBlock(t,e,this._invSubKeys)},_doCryptBlock:function(t,n,o){this._lBlock=t[n],this._rBlock=t[n+1],e.call(this,4,252645135),e.call(this,16,65535),r.call(this,2,858993459),r.call(this,8,16711935),e.call(this,1,1431655765);for(var i=0;16>i;i++){for(var s=o[i],a=this._lBlock,c=this._rBlock,l=0,h=0;8>h;h++)l|=u[h][((c^s[h])&f[h])>>>0];this._lBlock=c,this._rBlock=a^l}o=this._lBlock,this._lBlock=this._rBlock,this._rBlock=o,e.call(this,1,1431655765),r.call(this,8,16711935),r.call(this,2,858993459),e.call(this,16,65535),e.call(this,4,252645135),t[n]=this._lBlock,t[n+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});t.DES=n._createHelper(l),i=i.TripleDES=n.extend({_doReset:function(){var t=this._key.words;this._des1=l.createEncryptor(o.create(t.slice(0,2))),this._des2=l.createEncryptor(o.create(t.slice(2,4))),this._des3=l.createEncryptor(o.create(t.slice(4,6)))},encryptBlock:function(t,e){this._des1.encryptBlock(t,e),this._des2.decryptBlock(t,e),this._des3.encryptBlock(t,e)},decryptBlock:function(t,e){this._des3.decryptBlock(t,e),this._des2.encryptBlock(t,e),this._des1.decryptBlock(t,e)},keySize:6,ivSize:2,blockSize:2}),t.TripleDES=n._createHelper(i)}(),t.TripleDES})},{"./cipher-core":31,"./core":32,"./enc-base64":33,"./evpkdf":35,"./md5":40}],63:[function(t,e,r){!function(n,o){"object"==typeof r?e.exports=r=o(t("./core")):o(n.CryptoJS)}(this,function(t){return function(e){var r=t.lib,n=r.Base,o=r.WordArray,r=t.x64={};r.Word=n.extend({init:function(t,e){this.high=t,this.low=e}}),r.WordArray=n.extend({init:function(t,r){t=this.words=t||[],this.sigBytes=r!=e?r:8*t.length},toX32:function(){for(var t=this.words,e=t.length,r=[],n=0;e>n;n++){var i=t[n];r.push(i.high),r.push(i.low)}return o.create(r,this.sigBytes)},clone:function(){for(var t=n.clone.call(this),e=t.words=this.words.slice(0),r=e.length,o=0;r>o;o++)e[o]=e[o].clone();return t}})}(),t})},{"./core":32}],64:[function(t,e,r){(function(t){!function(e){function r(t,r,h){function b(t,e,r,n){if(!(this instanceof b))return new b(t,e,r,n);if(y&&_&&(t instanceof _&&(t=new y(t)),r instanceof _&&(r=new y(r))),t||e||r||p){if(!s(t,e)){var o=p||Array;n=e,r=t,e=0,t=new o(8)}if(this.buffer=t,this.offset=e|=0,"undefined"!=typeof r)if("string"==typeof r){n=n||10;var o=0,i=r.length,c=0,u=0;"-"===r[0]&&o++;for(var f=o;i>o;){var l=parseInt(r[o++],n);if(!(l>=0))break;u=u*n+l,c=c*n+Math.floor(u/4294967296),u%=4294967296}f&&(c=~c,u?u=4294967296-u:c++),m(t,e+E,c),m(t,e+S,u)}else s(r,n)?a(t,e,r,n):"number"==typeof n?(m(t,e+E,r),m(t,e+S,n)):r>0?x(t,e,r):0>r?C(t,e,r):a(t,e,g,0)}else this.buffer=Array.prototype.slice.call(g,0,8)}function v(){var t=this.buffer,e=this.offset,r=w(t,e+E),t=w(t,e+S);return h||(r|=0),r?4294967296*r+t:t}function m(t,e,r){t[e+T]=255&r,r>>=8,t[e+P]=255&r,r>>=8,t[e+k]=255&r,t[e+A]=r>>8&255}function w(t,e){return 16777216*t[e+A]+(t[e+k]<<16)+(t[e+P]<<8)+t[e+T]}var E=r?0:4,S=r?4:0,A=r?0:3,k=r?1:2,P=r?2:1,T=r?3:0,x=r?c:f,C=r?u:l;r=b.prototype;var R="is"+t,j="_"+R;return r.buffer=void 0,r.offset=0,r[j]=!0,r.toNumber=v,r.toString=function(t){var e=this.buffer,r=this.offset,n=w(e,r+E),e=w(e,r+S),r="",o=!h&&2147483648&n;for(o&&(n=~n,e=4294967296-e),t=t||10;;){var i=n%t*4294967296+e,n=Math.floor(n/t),e=Math.floor(i/t),r=(i%t).toString(t)+r;if(!n&&!e)break}return o&&(r="-"+r),r},r.toJSON=v,r.toArray=n,d&&(r.toBuffer=o),y&&(r.toArrayBuffer=i),b[R]=function(t){return!(!t||!t[j])},e[t]=b}function n(t){var e=this.buffer,r=this.offset;return p=null,!1!==t&&0===r&&8===e.length&&b(e)?e:Array.prototype.slice.call(e,r,r+8)}function o(e){var r=this.buffer,n=this.offset;return p=d,!1!==e&&0===n&&8===r.length&&t.isBuffer(r)?r:(e=new d(8),a(e,0,r,n),e)}function i(t){var e=this.buffer,r=this.offset,n=e.buffer;return p=y,!1!==t&&0===r&&n instanceof _&&8===n.byteLength?n:(t=new y(8),a(t,0,e,r),t.buffer)}function s(t,e){var r=t&&t.length;return e|=0,r&&r>=e+8&&"string"!=typeof t[e]}function a(t,e,r,n){e|=0,n|=0;for(var o=0;8>o;o++)t[e++]=255&r[n++]}function c(t,e,r){for(var n=e+8;n>e;)t[--n]=255&r,r/=256}function u(t,e,r){var n=e+8;for(r++;n>e;)t[--n]=255&-r^255,r/=256}function f(t,e,r){for(var n=e+8;n>e;)t[e++]=255&r,r/=256}function l(t,e,r){var n=e+8;for(r++;n>e;)t[e++]=255&-r^255,r/=256}function h(t){return!!t&&"[object Array]"==Object.prototype.toString.call(t)}var p,d="undefined"!=typeof t&&t,y="undefined"!=typeof Uint8Array&&Uint8Array,_="undefined"!=typeof ArrayBuffer&&ArrayBuffer,g=[0,0,0,0,0,0,0,0],b=Array.isArray||h;r("Uint64BE",!0,!0),r("Int64BE",!0,!1),r("Uint64LE",!1,!0),r("Int64LE",!1,!1)}("object"==typeof r&&"string"!=typeof r.nodeName?r:this||{})}).call(this,t("buffer").Buffer)},{buffer:25}],65:[function(t,e,r){r.encode=t("./encode").encode,r.decode=t("./decode").decode,r.Encoder=t("./encoder").Encoder,r.Decoder=t("./decoder").Decoder,r.createCodec=t("./ext").createCodec,r.codec=t("./codec").codec},{"./codec":74,"./decode":76,"./decoder":77,"./encode":79,"./encoder":80,"./ext":84}],66:[function(t,e){(function(t){function r(t){return t&&t.isBuffer&&t}e.exports=r("undefined"!=typeof t&&t)||r(this.Buffer)||r("undefined"!=typeof window&&window.Buffer)||this.Buffer}).call(this,t("buffer").Buffer)},{buffer:25}],67:[function(t,e,r){r.copy=function(t,e,r,n){r||(r=0),n||0===n||(n=this.length),e||(e=0);var o=n-r;if(t===this&&e>r&&n>e)for(n=o-1;n>=0;n--)t[n+e]=this[n+r];else for(n=0;o>n;n++)t[n+e]=this[n+r];return o},r.toString=function(t,e,r){t=0|e,r||(r=this.length),e="";for(var n;r>t;)n=this[t++],128>n?e+=String.fromCharCode(n):(192===(224&n)?n=(31&n)<<6|63&this[t++]:224===(240&n)?n=(15&n)<<12|(63&this[t++])<<6|63&this[t++]:240===(248&n)&&(n=(7&n)<<18|(63&this[t++])<<12|(63&this[t++])<<6|63&this[t++]),n>=65536?(n-=65536,e+=String.fromCharCode((n>>>10)+55296,(1023&n)+56320)):e+=String.fromCharCode(n));return e},r.write=function(t,e){for(var r,n=e||(e|=0),o=t.length,i=0;o>i;)r=t.charCodeAt(i++),128>r?this[n++]=r:(2048>r?this[n++]=192|r>>>6:(55296>r||r>57343?this[n++]=224|r>>>12:(r=(r-55296<<10|t.charCodeAt(i++)-56320)+65536,this[n++]=240|r>>>18,this[n++]=128|r>>>12&63),this[n++]=128|r>>>6&63),this[n++]=128|63&r);return n-e}},{}],68:[function(t,e,r){var n=t("./bufferish");r=e.exports=[],r.alloc=function(t){return Array(t)},r.concat=n.concat,r.from=function(t){if(!n.isBuffer(t)&&n.isView(t))t=n.Uint8Array.from(t);else if(n.isArrayBuffer(t))t=new Uint8Array(t);else{if("string"==typeof t)return n.from.call(r,t);if("number"==typeof t)throw new TypeError('"value" argument must not be a number')}return Array.prototype.slice.call(t)}},{"./bufferish":72}],69:[function(t,e,r){function n(t){return new i(t)}var o=t("./bufferish"),i=o.global;r=e.exports=o.hasBuffer?n(0):[],r.alloc=o.hasBuffer&&i.alloc||n,r.concat=o.concat,r.from=function(t){if(!o.isBuffer(t)&&o.isView(t))t=o.Uint8Array.from(t);else if(o.isArrayBuffer(t))t=new Uint8Array(t);else{if("string"==typeof t)return o.from.call(r,t);if("number"==typeof t)throw new TypeError('"value" argument must not be a number')}return i.from&&1!==i.from.length?i.from(t):new i(t)}},{"./bufferish":72}],70:[function(t,e,r){function n(t,e,r,n){var a=s.isBuffer(this),u=s.isBuffer(t);return a&&u?this.copy(t,e,r,n):c||a||u||!s.isView(this)||!s.isView(t)?i.copy.call(this,t,e,r,n):(r=r||null!=n?o.call(this,r,n):this,t.set(r,e),r.length)}function o(t,e){var r=this.slice||!c&&this.subarray;return r?r.call(this,t,e):(r=s.alloc.call(this,e-t),n.call(this,r,0,t,e),r)}var i=t("./buffer-lite");r.copy=n,r.slice=o,r.toString=function(){return(!a&&s.isBuffer(this)?this.toString:i.toString).apply(this,arguments)},r.write=function(t){return function(){return(this[t]||i[t]).apply(this,arguments)}}("write");var s=t("./bufferish");t=s.global;var a=s.hasBuffer&&"TYPED_ARRAY_SUPPORT"in t,c=a&&!t.TYPED_ARRAY_SUPPORT},{"./buffer-lite":67,"./bufferish":72}],71:[function(t,e,r){function n(t){return new Uint8Array(t)}var o=t("./bufferish");r=e.exports=o.hasArrayBuffer?n(0):[],r.alloc=n,r.concat=o.concat,r.from=function(t){if(o.isView(t)){var e=t.byteOffset,n=t.byteLength;t=t.buffer,t.byteLength!==n&&(t.slice?t=t.slice(e,e+n):(t=new Uint8Array(t),t.byteLength!==n&&(t=Array.prototype.slice.call(t,e,e+n))))}else{if("string"==typeof t)return o.from.call(r,t);if("number"==typeof t)throw new TypeError('"value" argument must not be a number')}return new Uint8Array(t)}},{"./bufferish":72}],72:[function(t,e,r){function n(t){return i(this).alloc(t)}function o(t){return t instanceof ArrayBuffer||g(t)}function i(t){return l(t)?d:h(t)?y:f(t)?p:c?d:u?y:p}function s(){return!1}function a(t,e){return t="[object "+t+"]",function(r){return null!=r&&{}.toString.call(e?r[e]:r)===t}}e=r.global=t("./buffer-global");var c=r.hasBuffer=e&&!!e.isBuffer,u=r.hasArrayBuffer="undefined"!=typeof ArrayBuffer,f=r.isArray=t("isarray");r.isArrayBuffer=u?o:s;var l=r.isBuffer=c?e.isBuffer:s,h=r.isView=u?ArrayBuffer.isView||a("ArrayBuffer","buffer"):s;r.alloc=n,r.concat=function(t,e){function o(t){e+=t.length}e||(e=0,Array.prototype.forEach.call(t,o));var i=n.call(this!==r&&this||t[0],e),s=0;return Array.prototype.forEach.call(t,function(t){s+=_.copy.call(t,i,s)}),i},r.from=function(t){if("string"==typeof t){var e=3*t.length,r=n.call(this,e);return t=_.write.call(r,t),e!==t&&(r=_.slice.call(r,0,t)),r}return i(this).from(t)};var p=r.Array=t("./bufferish-array"),d=r.Buffer=t("./bufferish-buffer"),y=r.Uint8Array=t("./bufferish-uint8array"),_=r.prototype=t("./bufferish-proto"),g=a("ArrayBuffer")},{"./buffer-global":66,"./bufferish-array":68,"./bufferish-buffer":69,"./bufferish-proto":70,"./bufferish-uint8array":71,isarray:95}],73:[function(t,e,r){function n(t){return this instanceof n?(this.options=t,void this.init()):new n(t)}function o(t,e){function r(){return t.apply(this,arguments),e.apply(this,arguments)}return t&&e?r:t||e}function i(t){function e(t,e){return e(t)}return t=t.slice(),function(r){return t.reduce(e,r)}}function s(t){return new n(t)}var a=t("isarray");r.createCodec=s,r.install=function(t){for(var e in t)n.prototype[e]=o(n.prototype[e],t[e])},r.filter=function(t){return a(t)?i(t):t};var c=t("./bufferish");n.prototype.init=function(){var t=this.options;return t&&t.uint8array&&(this.bufferish=c.Uint8Array),this},r.preset=s({preset:!0})},{"./bufferish":72,isarray:95}],74:[function(t,e,r){t("./read-core"),t("./write-core"),r.codec={preset:t("./codec-base").preset}},{"./codec-base":73,"./read-core":86,"./write-core":89}],75:[function(t,e,r){function n(t){return this instanceof n?void(t&&(this.options=t,t.codec&&(t=this.codec=t.codec,t.bufferish&&(this.bufferish=t.bufferish)))):new n(t)}r.DecodeBuffer=n,e=t("./read-core").preset,t("./flex-buffer").FlexDecoder.mixin(n.prototype),n.prototype.codec=e,n.prototype.fetch=function(){return this.codec.decode(this)}},{"./flex-buffer":85,"./read-core":86}],76:[function(t,e,r){r.decode=function(t,e){var r=new n(e);return r.write(t),r.read()};var n=t("./decode-buffer").DecodeBuffer},{"./decode-buffer":75}],77:[function(t,e,r){function n(t){return this instanceof n?void o.call(this,t):new n(t)}r.Decoder=n,e=t("event-lite");var o=t("./decode-buffer").DecodeBuffer;n.prototype=new o,e.mixin(n.prototype),n.prototype.decode=function(t){arguments.length&&this.write(t),this.flush()},n.prototype.push=function(t){this.emit("data",t)},n.prototype.end=function(t){this.decode(t),this.emit("end")}},{"./decode-buffer":75,"event-lite":93}],78:[function(t,e,r){function n(t){return this instanceof n?void(t&&(this.options=t,t.codec&&(t=this.codec=t.codec,t.bufferish&&(this.bufferish=t.bufferish)))):new n(t)}r.EncodeBuffer=n,e=t("./write-core").preset,t("./flex-buffer").FlexEncoder.mixin(n.prototype),n.prototype.codec=e,n.prototype.write=function(t){this.codec.encode(this,t)}},{"./flex-buffer":85,"./write-core":89}],79:[function(t,e,r){r.encode=function(t,e){var r=new n(e);return r.write(t),r.read()};var n=t("./encode-buffer").EncodeBuffer},{"./encode-buffer":78}],80:[function(t,e,r){function n(t){return this instanceof n?void o.call(this,t):new n(t)}r.Encoder=n,e=t("event-lite");var o=t("./encode-buffer").EncodeBuffer;n.prototype=new o,e.mixin(n.prototype),n.prototype.encode=function(t){this.write(t),this.emit("data",this.read())},n.prototype.end=function(t){arguments.length&&this.encode(t),this.flush(),this.emit("end")}},{"./encode-buffer":78,"event-lite":93}],81:[function(t,e,r){function n(t,e){return this instanceof n?(this.buffer=o.from(t),void(this.type=e)):new n(t,e)}r.ExtBuffer=n;var o=t("./bufferish")},{"./bufferish":72}],82:[function(t,e,r){function n(e){return a||(a=t("./encode").encode),a(e)}function o(t){return t.valueOf()}function i(t){t=RegExp.prototype.toString.call(t).split("/"),t.shift();var e=[t.pop()];return e.unshift(t.join("/")),e}function s(t){var e,r={};for(e in l)r[e]=t[e];

return r}r.setExtPackers=function(t){t.addExtPacker(14,Error,[s,n]),t.addExtPacker(1,EvalError,[s,n]),t.addExtPacker(2,RangeError,[s,n]),t.addExtPacker(3,ReferenceError,[s,n]),t.addExtPacker(4,SyntaxError,[s,n]),t.addExtPacker(5,TypeError,[s,n]),t.addExtPacker(6,URIError,[s,n]),t.addExtPacker(10,RegExp,[i,n]),t.addExtPacker(11,Boolean,[o,n]),t.addExtPacker(12,String,[o,n]),t.addExtPacker(13,Date,[Number,n]),t.addExtPacker(15,Number,[o,n]),"undefined"!=typeof Uint8Array&&(t.addExtPacker(17,Int8Array,f),t.addExtPacker(18,Uint8Array,f),t.addExtPacker(19,Int16Array,f),t.addExtPacker(20,Uint16Array,f),t.addExtPacker(21,Int32Array,f),t.addExtPacker(22,Uint32Array,f),t.addExtPacker(23,Float32Array,f),"undefined"!=typeof Float64Array&&t.addExtPacker(24,Float64Array,f),"undefined"!=typeof Uint8ClampedArray&&t.addExtPacker(25,Uint8ClampedArray,f),t.addExtPacker(26,ArrayBuffer,f),t.addExtPacker(29,DataView,f)),c.hasBuffer&&t.addExtPacker(27,u,c.from)};var a,c=t("./bufferish"),u=c.global,f=c.Uint8Array.from,l={name:1,message:1,stack:1,columnNumber:1,fileName:1,lineNumber:1}},{"./bufferish":72,"./encode":79}],83:[function(t,e,r){function n(e){return c||(c=t("./decode").decode),c(e)}function o(t){return RegExp.apply(null,t)}function i(t){return function(e){var r,n=new t;for(r in l)n[r]=e[r];return n}}function s(t){return function(e){return new t(e)}}function a(t){return new Uint8Array(t).buffer}r.setExtUnpackers=function(t){t.addExtUnpacker(14,[n,i(Error)]),t.addExtUnpacker(1,[n,i(EvalError)]),t.addExtUnpacker(2,[n,i(RangeError)]),t.addExtUnpacker(3,[n,i(ReferenceError)]),t.addExtUnpacker(4,[n,i(SyntaxError)]),t.addExtUnpacker(5,[n,i(TypeError)]),t.addExtUnpacker(6,[n,i(URIError)]),t.addExtUnpacker(10,[n,o]),t.addExtUnpacker(11,[n,s(Boolean)]),t.addExtUnpacker(12,[n,s(String)]),t.addExtUnpacker(13,[n,s(Date)]),t.addExtUnpacker(15,[n,s(Number)]),"undefined"!=typeof Uint8Array&&(t.addExtUnpacker(17,s(Int8Array)),t.addExtUnpacker(18,s(Uint8Array)),t.addExtUnpacker(19,[a,s(Int16Array)]),t.addExtUnpacker(20,[a,s(Uint16Array)]),t.addExtUnpacker(21,[a,s(Int32Array)]),t.addExtUnpacker(22,[a,s(Uint32Array)]),t.addExtUnpacker(23,[a,s(Float32Array)]),"undefined"!=typeof Float64Array&&t.addExtUnpacker(24,[a,s(Float64Array)]),"undefined"!=typeof Uint8ClampedArray&&t.addExtUnpacker(25,s(Uint8ClampedArray)),t.addExtUnpacker(26,a),t.addExtUnpacker(29,[a,s(DataView)])),u.hasBuffer&&t.addExtUnpacker(27,s(f))};var c,u=t("./bufferish"),f=u.global,l={name:1,message:1,stack:1,columnNumber:1,fileName:1,lineNumber:1}},{"./bufferish":72,"./decode":76}],84:[function(t,e,r){t("./read-core"),t("./write-core"),r.createCodec=t("./codec-base").createCodec},{"./codec-base":73,"./read-core":86,"./write-core":89}],85:[function(t,e,r){function n(){return this instanceof n?void 0:new n}function o(){return this instanceof o?void 0:new o}function i(){throw Error("method not implemented: write()")}function s(){throw Error("method not implemented: fetch()")}function a(){return this.buffers&&this.buffers.length?(this.flush(),this.pull()):this.fetch()}function c(t){(this.buffers||(this.buffers=[])).push(t)}function u(){return(this.buffers||(this.buffers=[])).shift()}function f(t){return function(e){for(var r in t)e[r]=t[r];return e}}r.FlexDecoder=n,r.FlexEncoder=o;var l=t("./bufferish");n.mixin=f(function(){return{bufferish:l,write:function(t){var e=this.offset?l.prototype.slice.call(this.buffer,this.offset):this.buffer;this.buffer=e?t?this.bufferish.concat([e,t]):e:t,this.offset=0},fetch:s,flush:function(){for(;this.offset<this.buffer.length;){var t,e=this.offset;try{t=this.fetch()}catch(r){if(r&&"BUFFER_SHORTAGE"!=r.message)throw r;this.offset=e;break}this.push(t)}},push:c,pull:u,read:a,reserve:function(t){var e=this.offset;if(t=e+t,t>this.buffer.length)throw Error("BUFFER_SHORTAGE");return this.offset=t,e},offset:0}}()),n.mixin(n.prototype),o.mixin=f(function(){return{bufferish:l,write:i,fetch:function(){var t=this.start;if(t<this.offset){var e=this.start=this.offset;return l.prototype.slice.call(this.buffer,t,e)}},flush:function(){for(;this.start<this.offset;){var t=this.fetch();t&&this.push(t)}},push:c,pull:function(){var t=this.buffers||(this.buffers=[]),e=1<t.length?this.bufferish.concat(t):t[0];return t.length=0,e},read:a,reserve:function(t){var e=0|t;if(this.buffer){var r=this.buffer.length,n=0|this.offset,o=n+e;if(r>o)return this.offset=o,n;this.flush(),t=Math.max(t,Math.min(2*r,this.maxBufferSize))}return t=Math.max(t,this.minBufferSize),this.buffer=this.bufferish.alloc(t),this.start=0,this.offset=e,0},send:function(t){var e=t.length;e>this.minBufferSize?(this.flush(),this.push(t)):(e=this.reserve(e),l.prototype.copy.call(t,this.buffer,e))},maxBufferSize:65536,minBufferSize:2048,offset:0,start:0}}()),o.mixin(o.prototype)},{"./bufferish":72}],86:[function(t,e,r){function n(t){var e=c.getReadToken(t);return function(t){var r=a(t),n=e[r];if(!n)throw Error("Invalid type: "+(r?"0x"+r.toString(16):r));return n(t)}}function o(){var t=this.options;return this.decode=n(t),t&&t.preset&&s.setExtUnpackers(this),this}var i=t("./ext-buffer").ExtBuffer,s=t("./ext-unpacker"),a=t("./read-format").readUint8,c=t("./read-token"),u=t("./codec-base");u.install({addExtUnpacker:function(t,e){(this.extUnpackers||(this.extUnpackers=[]))[t]=u.filter(e)},getExtUnpacker:function(t){function e(e){return new i(e,t)}return(this.extUnpackers||(this.extUnpackers=[]))[t]||e},init:o}),r.preset=o.call(u.preset)},{"./codec-base":73,"./ext-buffer":81,"./ext-unpacker":83,"./read-format":87,"./read-token":88}],87:[function(t,e,r){function n(t,e){var r,n={},o=Array(e),i=Array(e),s=t.codec.decode;for(r=0;e>r;r++)o[r]=s(t),i[r]=s(t);for(r=0;e>r;r++)n[o[r]]=i[r];return n}function o(t,e){var r,n=new Map,o=Array(e),i=Array(e),s=t.codec.decode;for(r=0;e>r;r++)o[r]=s(t),i[r]=s(t);for(r=0;e>r;r++)n.set(o[r],i[r]);return n}function i(t,e){for(var r=Array(e),n=t.codec.decode,o=0;e>o;o++)r[o]=n(t);return r}function s(t,e){var r=t.reserve(e);return T.toString.call(t.buffer,"utf-8",r,r+e)}function a(t,e){var r=t.reserve(e),r=T.slice.call(t.buffer,r,r+e);return P.from(r)}function c(t,e){var r=t.reserve(e),r=T.slice.call(t.buffer,r,r+e);return P.Uint8Array.from(r).buffer}function u(t,e){var r=t.reserve(e+1),n=t.buffer[r++],o=r+e,i=t.codec.getExtUnpacker(n);if(!i)throw Error("Invalid ext type: "+(n?"0x"+n.toString(16):n));return r=T.slice.call(t.buffer,r,o),i(r)}function f(t){var e=t.reserve(1);return t.buffer[e]}function l(t){var e=t.reserve(1);return t=t.buffer[e],128&t?t-256:t}function h(t){var e=t.reserve(2);return t=t.buffer,t[e++]<<8|t[e]}function p(t){var e=t.reserve(2);return t=t.buffer,e=t[e++]<<8|t[e],32768&e?e-65536:e}function d(t){var e=t.reserve(4);return t=t.buffer,16777216*t[e++]+(t[e++]<<16)+(t[e++]<<8)+t[e]}function y(t){var e=t.reserve(4);return t=t.buffer,t[e++]<<24|t[e++]<<16|t[e++]<<8|t[e]}function _(t,e){return function(r){var n=r.reserve(t);return e.call(r.buffer,n,C)}}function g(t){return new A(this,t).toNumber()}function b(t){return new k(this,t).toNumber()}function v(t){return new A(this,t)}function m(t){return new k(this,t)}function w(t){return S.read(this,t,!1,23,4)}function E(t){return S.read(this,t,!1,52,8)}var S=t("ieee754");e=t("int64-buffer");var A=e.Uint64BE,k=e.Int64BE;r.getReadFormat=function(t){var e=t&&t.int64;return{map:x&&t&&t.usemap?o:n,array:i,str:s,bin:P.hasArrayBuffer&&t&&t.binarraybuffer?c:a,ext:u,uint8:f,uint16:h,uint32:d,uint64:_(8,e?v:g),int8:l,int16:p,int32:y,int64:_(8,e?m:b),float32:_(4,w),float64:_(8,E)}},r.readUint8=f;var P=t("./bufferish"),T=t("./bufferish-proto"),x="undefined"!=typeof Map,C=!0},{"./bufferish":72,"./bufferish-proto":70,ieee754:94,"int64-buffer":64}],88:[function(t,e,r){function n(t){var e,r=Array(256);for(e=0;127>=e;e++)r[e]=o(e);for(e=128;143>=e;e++)r[e]=s(e-128,t.map);for(e=144;159>=e;e++)r[e]=s(e-144,t.array);for(e=160;191>=e;e++)r[e]=s(e-160,t.str);for(r[192]=o(null),r[193]=null,r[194]=o(!1),r[195]=o(!0),r[196]=i(t.uint8,t.bin),r[197]=i(t.uint16,t.bin),r[198]=i(t.uint32,t.bin),r[199]=i(t.uint8,t.ext),r[200]=i(t.uint16,t.ext),r[201]=i(t.uint32,t.ext),r[202]=t.float32,r[203]=t.float64,r[204]=t.uint8,r[205]=t.uint16,r[206]=t.uint32,r[207]=t.uint64,r[208]=t.int8,r[209]=t.int16,r[210]=t.int32,r[211]=t.int64,r[212]=s(1,t.ext),r[213]=s(2,t.ext),r[214]=s(4,t.ext),r[215]=s(8,t.ext),r[216]=s(16,t.ext),r[217]=i(t.uint8,t.str),r[218]=i(t.uint16,t.str),r[219]=i(t.uint32,t.str),r[220]=i(t.uint16,t.array),r[221]=i(t.uint32,t.array),r[222]=i(t.uint16,t.map),r[223]=i(t.uint32,t.map),e=224;255>=e;e++)r[e]=o(e-256);return r}function o(t){return function(){return t}}function i(t,e){return function(r){var n=t(r);return e(r,n)}}function s(t,e){return function(r){return e(r,t)}}var a=t("./read-format");r.getReadToken=function(t){var e=a.getReadFormat(t);if(t&&t.useraw){var r=n(e).slice();for(r[217]=r[196],r[218]=r[197],r[219]=r[198],t=160;191>=t;t++)r[t]=s(t-160,e.bin);return r}return n(e)}},{"./read-format":87}],89:[function(t,e,r){function n(t){var e=a.getWriteType(t);return function(t,r){var n=e[typeof r];if(!n)throw Error('Unsupported type "'+typeof r+'": '+r);n(t,r)}}function o(){var t=this.options;return this.encode=n(t),t&&t.preset&&s.setExtPackers(this),this}var i=t("./ext-buffer").ExtBuffer,s=t("./ext-packer"),a=t("./write-type"),c=t("./codec-base");c.install({addExtPacker:function(t,e,r){function n(e){return r&&(e=r(e)),new i(e,t)}r=c.filter(r);var o=e.name;o&&"Object"!==o?(this.extPackers||(this.extPackers={}))[o]=n:(this.extEncoderList||(this.extEncoderList=[])).unshift([e,n])},getExtPacker:function(t){var e=this.extPackers||(this.extPackers={});if(e=(t=t.constructor)&&t.name&&e[t.name])return e;for(var e=this.extEncoderList||(this.extEncoderList=[]),r=e.length,n=0;r>n;n++){var o=e[n];if(t===o[0])return o[1]}},init:o}),r.preset=o.call(c.preset)},{"./codec-base":73,"./ext-buffer":81,"./ext-packer":82,"./write-type":91}],90:[function(t,e,r){function n(){var t=y.slice();return t[196]=o(196),t[197]=i(197),t[198]=s(198),t[199]=o(199),t[200]=i(200),t[201]=s(201),t[202]=a(202,4,v.writeFloatBE||f,!0),t[203]=a(203,8,v.writeDoubleBE||l,!0),t[204]=o(204),t[205]=i(205),t[206]=s(206),t[207]=a(207,8,c),t[208]=o(208),t[209]=i(209),t[210]=s(210),t[211]=a(211,8,u),t[217]=o(217),t[218]=i(218),t[219]=s(219),t[220]=i(220),t[221]=s(221),t[222]=i(222),t[223]=s(223),t}function o(t){return function(e,r){var n=e.reserve(2),o=e.buffer;o[n++]=t,o[n]=r}}function i(t){return function(e,r){var n=e.reserve(3),o=e.buffer;o[n++]=t,o[n++]=r>>>8,o[n]=r}}function s(t){return function(e,r){var n=e.reserve(5),o=e.buffer;o[n++]=t,o[n++]=r>>>24,o[n++]=r>>>16,o[n++]=r>>>8,o[n]=r}}function a(t,e,r,n){return function(o,i){var s=o.reserve(e+1);o.buffer[s++]=t,r.call(o.buffer,i,s,n)}}function c(t,e){new p(this,e,t)}function u(t,e){new d(this,e,t)}function f(t,e){h.write(this,t,e,!1,23,4)}function l(t,e){h.write(this,t,e,!1,52,8)}var h=t("ieee754");e=t("int64-buffer");var p=e.Uint64BE,d=e.Int64BE,y=t("./write-uint8").uint8,_=t("./bufferish"),g=_.global,b=_.hasBuffer&&"TYPED_ARRAY_SUPPORT"in g&&!g.TYPED_ARRAY_SUPPORT,v=_.hasBuffer&&g.prototype||{};r.getWriteToken=function(t){return t&&t.uint8array?(t=n(),t[202]=a(202,4,f),t[203]=a(203,8,l),t):b||_.hasBuffer&&t&&t.safe?(t=y.slice(),t[196]=a(196,1,g.prototype.writeUInt8),t[197]=a(197,2,g.prototype.writeUInt16BE),t[198]=a(198,4,g.prototype.writeUInt32BE),t[199]=a(199,1,g.prototype.writeUInt8),t[200]=a(200,2,g.prototype.writeUInt16BE),t[201]=a(201,4,g.prototype.writeUInt32BE),t[202]=a(202,4,g.prototype.writeFloatBE),t[203]=a(203,8,g.prototype.writeDoubleBE),t[204]=a(204,1,g.prototype.writeUInt8),t[205]=a(205,2,g.prototype.writeUInt16BE),t[206]=a(206,4,g.prototype.writeUInt32BE),t[207]=a(207,8,c),t[208]=a(208,1,g.prototype.writeInt8),t[209]=a(209,2,g.prototype.writeInt16BE),t[210]=a(210,4,g.prototype.writeInt32BE),t[211]=a(211,8,u),t[217]=a(217,1,g.prototype.writeUInt8),t[218]=a(218,2,g.prototype.writeUInt16BE),t[219]=a(219,4,g.prototype.writeUInt32BE),t[220]=a(220,2,g.prototype.writeUInt16BE),t[221]=a(221,4,g.prototype.writeUInt32BE),t[222]=a(222,2,g.prototype.writeUInt16BE),t[223]=a(223,4,g.prototype.writeUInt32BE),t):n()}},{"./bufferish":72,"./write-uint8":92,ieee754:94,"int64-buffer":64}],91:[function(t,e,r){var n=t("isarray");e=t("int64-buffer");var o=e.Uint64BE,i=e.Int64BE,s=t("./bufferish"),a=t("./bufferish-proto"),c=t("./write-token"),u=t("./write-uint8").uint8,f=t("./ext-buffer").ExtBuffer,l="undefined"!=typeof Uint8Array,h="undefined"!=typeof Map,p=[,212,213,,214,,,,215];p[16]=216,r.getWriteType=function(t){function e(t){return 32>t?1:255>=t?2:65535>=t?3:5}function r(t){return 32>t?1:65535>=t?3:5}function d(t,e){if(null===e)return _(t,e);if(A(e))return k(t,e);if(n(e)){var r=e,s=r.length;w[16>s?144+s:65535>=s?220:221](t,s);for(var a=t.codec.encode,c=0;s>c;c++)a(t,r[c])}else o.isUint64BE(e)?w[207](t,e.toArray()):i.isInt64BE(e)?w[211](t,e.toArray()):((r=t.codec.getExtPacker(e))&&(e=r(e)),e instanceof f?(r=e,s=r.buffer,a=s.length,w[p[a]||(255>a?199:65535>=a?200:201)](t,a),u[r.type](t),t.send(s)):P(t,e))}function y(t,e){if(A(e)){var r=e.length;w[32>r?160+r:65535>=r?218:219](t,r),t.send(e)}else d(t,e)}function _(t,e){w[192](t,e)}function g(t,e){var r=e.length;w[255>r?196:65535>=r?197:198](t,r),t.send(e)}function b(t,e){g(t,new Uint8Array(e))}function v(t,e){var r=Object.keys(e),n=r.length;w[16>n?128+n:65535>=n?222:223](t,n);var o=t.codec.encode;r.forEach(function(r){o(t,r),o(t,e[r])})}function m(t,e){if(!(e instanceof Map))return v(t,e);var r=e.size;w[16>r?128+r:65535>=r?222:223](t,r);var n=t.codec.encode;e.forEach(function(e,r){n(t,r),n(t,e)})}var w=c.getWriteToken(t),E=t&&t.useraw,S=l&&t&&t.binarraybuffer,A=S?s.isArrayBuffer:s.isBuffer,k=S?b:g,P=h&&t&&t.usemap?m:v;return{"boolean":function(t,e){w[e?195:194](t,e)},"function":_,number:function(t,e){var r=0|e;e!==r?w[203](t,e):w[r>=-32&&127>=r?255&r:r>=0?255>=r?204:65535>=r?205:206:r>=-128?208:r>=-32768?209:210](t,r)},object:E?y:d,string:function(t){return function(e,r){var n=r.length;e.offset=e.reserve(5+3*n);var o=e.buffer,i=t(n),s=e.offset+i,n=a.write.call(o,r,s),c=t(n);i!==c&&a.copy.call(o,o,s+c-i,s,s+n),w[1===c?160+n:3>=c?215+c:219](e,n),e.offset+=n}}(E?r:e),symbol:_,undefined:_}}},{"./bufferish":72,"./bufferish-proto":70,"./ext-buffer":81,"./write-token":90,"./write-uint8":92,"int64-buffer":64,isarray:95}],92:[function(t,e,r){function n(t){return function(e){var r=e.reserve(1);e.buffer[r]=t}}for(t=r.uint8=Array(256),e=0;255>=e;e++)t[e]=n(e)},{}],93:[function(t,e){function r(){return this instanceof r?void 0:new r}!function(t){function r(t){for(var e in i)t[e]=i[e];return t}function n(t,e){function r(t){return t!==e&&t.originalListener!==e}var i;if(arguments.length){if(e){if(i=o(this,t,!0)){if(i=i.filter(r),!i.length)return n.call(this,t);this.listeners[t]=i}}else if((i=this.listeners)&&(delete i[t],!Object.keys(i).length))return n.call(this)}else delete this.listeners;return this}function o(t,e,r){return!r||t.listeners?(t=t.listeners||(t.listeners={}),t[e]||(t[e]=[])):void 0}"undefined"!=typeof e&&(e.exports=t);var i={on:function(t,e){return o(this,t).push(e),this},once:function(t,e){function r(){n.call(i,t,r),e.apply(this,arguments)}var i=this;return r.originalListener=e,o(i,t).push(r),i},off:n,emit:function(t,e){function r(t){t.call(s)}function n(t){t.call(s,e)}function i(t){t.apply(s,u)}var s=this,a=o(s,t,!0);if(!a)return!1;var c=arguments.length;if(1===c)a.forEach(r);else if(2===c)a.forEach(n);else{var u=Array.prototype.slice.call(arguments,1);a.forEach(i)}return!!a.length}};r(t.prototype),t.mixin=r}(r)},{}],94:[function(t,e,r){arguments[4][27][0].apply(r,arguments)},{dup:27}],95:[function(t,e,r){arguments[4][28][0].apply(r,arguments)},{dup:28}],96:[function(t,e){!function(t){t(function(t){function e(t){var e=1<arguments.length?s.call(arguments,1):[];return function(){return i(t,this,e.concat(s.call(arguments)))}}var r=t("./when"),n=r["try"],o=t("./lib/liftAll"),i=t("./lib/apply")(r.Promise),s=Array.prototype.slice;return{lift:e,liftAll:function(t,r,n){return o(e,r,n,t)},call:n,apply:function(t,e){return i(t,this,null==e?[]:s.call(e))},compose:function(t){var e=s.call(arguments,1);return function(){var o=this,i=s.call(arguments),i=n.apply(o,[t].concat(i));return r.reduce(e,function(t,e){return e.call(o,t)},i)}}}})}(function(r){e.exports=r(t)})},{"./lib/apply":100,"./lib/liftAll":112,"./when":120}],97:[function(t,e){!function(t){t(function(t){var e=t("./makePromise"),r=t("./Scheduler");return t=t("./env").asap,e({scheduler:new r(t)})})}(function(r){e.exports=r(t)})},{"./Scheduler":98,"./env":110,"./makePromise":113}],98:[function(t,e){!function(t){t(function(){function t(t){this._async=t,this._running=!1,this._queue=this,this._queueLen=0,this._afterQueue={},this._afterQueueLen=0;var e=this;this.drain=function(){e._drain()}}return t.prototype.enqueue=function(t){this._queue[this._queueLen++]=t,this.run()},t.prototype.afterQueue=function(t){this._afterQueue[this._afterQueueLen++]=t,this.run()},t.prototype.run=function(){this._running||(this._running=!0,this._async(this.drain))},t.prototype._drain=function(){for(var t=0;t<this._queueLen;++t)this._queue[t].run(),this._queue[t]=void 0;for(this._queueLen=0,this._running=!1,t=0;t<this._afterQueueLen;++t)this._afterQueue[t].run(),this._afterQueue[t]=void 0;this._afterQueueLen=0},t})}(function(t){e.exports=t()})},{}],99:[function(t,e){!function(t){t(function(){function t(e){Error.call(this),this.message=e,this.name=t.name,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,t)}return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t})}(function(t){e.exports=t()})},{}],100:[function(t,e){!function(t){t(function(){function t(t,r){function n(e,n){return 0>e.i?r(e.f,e.thisArg,e.params,n):void t._handler(e.args[e.i]).fold(o,e,void 0,n)}function o(t,e,r){t.params[t.i]=e,--t.i,n(t,r)}return 2>arguments.length&&(r=e),function(e,o,i){var s=t._defer(),a=i.length;return n({f:e,thisArg:o,args:i,params:Array(a),i:a-1,call:r},s._handler),s}}function e(t,e,r,n){try{n.resolve(t.apply(e,r))}catch(o){n.reject(o)}}return t.tryCatchResolve=e,t})}(function(t){e.exports=t()})},{}],101:[function(t,e){!function(t){t(function(t){var e=t("../state"),r=t("../apply");return function(t){function n(r){var n=t._handler(r);return 0===n.state()?s(r).then(e.fulfilled,e.rejected):(n._unreport(),e.inspect(n))}function o(t){return function(e,r,n){return i(t,void 0,[e,r,n])}}var i=r(t),s=t.resolve,a=t.all,c=Array.prototype.reduce,u=Array.prototype.reduceRight,f=Array.prototype.slice;return t.any=function(e){function r(t){u=null,this.resolve(t)}function n(t){this.resolved||(u.push(t),0===--c&&this.reject(u))}for(var o,i=t._defer(),s=i._handler,a=e.length>>>0,c=a,u=[],f=0;a>f;++f)if(o=e[f],void 0!==o||f in e){if(o=t._handler(o),0<o.state()){s.become(o),t._visitRemaining(e,f,o);break}o.visit(s,r,n)}else--c;return 0===c&&s.reject(new RangeError("any(): array must not be empty")),i},t.some=function(e,r){function n(t){this.resolved||(f.push(t),0===--p&&(l=null,this.resolve(f)))}function o(t){this.resolved||(l.push(t),0===--i&&(f=null,this.reject(l)))}var i,s,a,c=t._defer(),u=c._handler,f=[],l=[],h=e.length>>>0,p=0;for(a=0;h>a;++a)s=e[a],(void 0!==s||a in e)&&++p;for(r=Math.max(r,0),i=p-r+1,p=Math.min(r,p),r>p?u.reject(new RangeError("some(): array must contain at least "+r+" item(s), but had "+p)):0===p&&u.resolve(f),a=0;h>a;++a)s=e[a],(void 0!==s||a in e)&&t._handler(s).visit(u,n,o,u.notify);return c},t.settle=function(t){return a(t.map(n))},t.map=function(e,r){return t._traverse(r,e)},t.filter=function(e,r){var n=f.call(e);return t._traverse(r,n).then(function(e){for(var r=e.length,o=Array(r),i=0,s=0;r>i;++i)e[i]&&(o[s++]=t._handler(n[i]).value);return o.length=s,o})},t.reduce=function(t,e){return 2<arguments.length?c.call(t,o(e),arguments[2]):c.call(t,o(e))},t.reduceRight=function(t,e){return 2<arguments.length?u.call(t,o(e),arguments[2]):u.call(t,o(e))},t.prototype.spread=function(t){return this.then(a).then(function(e){return t.apply(this,e)})},t}})}(function(r){e.exports=r(t)})},{"../apply":100,"../state":114}],102:[function(t,e){!function(t){t(function(){function t(){throw new TypeError("catch predicate must be a function")}function e(t){return t}return function(r){function n(t,e){return function(r){return(e===Error||null!=e&&e.prototype instanceof Error?r instanceof e:e(r))?t.call(this,r):a(r)}}function o(t,e,r,n){return t=t.call(e),"object"!=typeof t&&"function"!=typeof t||null===t?r(n):i(t,r,n)}function i(t,e,r){return s(t).then(function(){return e(r)})}var s=r.resolve,a=r.reject,c=r.prototype["catch"];return r.prototype.done=function(t,e){this._handler.visit(this._handler.receiver,t,e)},r.prototype["catch"]=r.prototype.otherwise=function(e){return 2>arguments.length?c.call(this,e):"function"!=typeof e?this.ensure(t):c.call(this,n(arguments[1],e))},r.prototype["finally"]=r.prototype.ensure=function(t){return"function"!=typeof t?this:this.then(function(r){return o(t,this,e,r)},function(e){return o(t,this,a,e)})},r.prototype["else"]=r.prototype.orElse=function(t){return this.then(void 0,function(){return t})},r.prototype["yield"]=function(t){return this.then(function(){return t})},r.prototype.tap=function(t){return this.then(t)["yield"](this)},r}})}(function(t){e.exports=t()})},{}],103:[function(t,e){!function(t){t(function(){return function(t){return t.prototype.fold=function(e,r){var n=this._beget();return this._handler.fold(function(r,n,o){t._handler(r).fold(function(t,r,n){n.resolve(e.call(this,r,t))},n,this,o)},r,n._handler.receiver,n._handler),n},t}})}(function(t){e.exports=t()})},{}],104:[function(t,e){!function(t){t(function(t){var e=t("../state").inspect;return function(t){return t.prototype.inspect=function(){return e(t._handler(this))},t}})}(function(r){e.exports=r(t)})},{"../state":114}],105:[function(t,e){!function(t){t(function(){return function(t){function e(t,n,o,i){function s(i,s){return r(o(i)).then(function(){return e(t,n,o,s)})}return r(i).then(function(e){return r(n(e)).then(function(n){return n?e:r(t(e)).spread(s)})})}var r=t.resolve;return t.iterate=function(t,r,n,o){return e(function(e){return[e,t(e)]},r,n,o)},t.unfold=e,t}})}(function(t){e.exports=t()})},{}],106:[function(t,e){!function(t){t(function(){return function(t){return t.prototype.progress=function(t){return this.then(void 0,void 0,t)},t}})}(function(t){e.exports=t()})},{}],107:[function(t,e){!function(t){t(function(t){function e(t,e,n,o){return r.setTimer(function(){t(n,o,e)},e)}var r=t("../env"),n=t("../TimeoutError");return function(t){function o(t,r,n){e(i,t,r,n)}function i(t,e){e.resolve(t)}function s(t,e,r){t="undefined"==typeof t?new n("timed out after "+r+"ms"):t,e.reject(t)}return t.prototype.delay=function(t){var e=this._beget();return this._handler.fold(o,t,void 0,e._handler),e},t.prototype.timeout=function(t,n){var o=this._beget(),i=o._handler,a=e(s,t,n,o._handler);return this._handler.visit(i,function(t){r.clearTimer(a),this.resolve(t)},function(t){r.clearTimer(a),this.reject(t)},i.notify),o},t}})}(function(r){e.exports=r(t)})},{"../TimeoutError":99,"../env":110}],108:[function(t,e){!function(t){t(function(t){function e(t){throw t}function r(){}var n=t("../env").setTimer,o=t("../format");return function(t){function i(t){t.handled||(p.push(t),f("Potentially unhandled rejection ["+t.id+"] "+o.formatError(t.value)))}function s(t){var e=p.indexOf(t);e>=0&&(p.splice(e,1),l("Handled previous rejection ["+t.id+"] "+o.formatObject(t.value)))}function a(t,e){h.push(t,e),null===d&&(d=n(c,0))}function c(){for(d=null;0<h.length;)h.shift()(h.shift())}var u,f=r,l=r;"undefined"!=typeof console&&(u=console,f="undefined"!=typeof u.error?function(t){u.error(t)}:function(t){u.log(t)},l="undefined"!=typeof u.info?function(t){u.info(t)}:function(t){u.log(t)}),t.onPotentiallyUnhandledRejection=function(t){a(i,t)},t.onPotentiallyUnhandledRejectionHandled=function(t){a(s,t)},t.onFatalRejection=function(t){a(e,t.value)};var h=[],p=[],d=null;return t}})}(function(r){e.exports=r(t)})},{"../env":110,"../format":111}],109:[function(t,e){!function(t){t(function(){return function(t){return t.prototype["with"]=t.prototype.withThis=function(t){var e=this._beget(),r=e._handler;return r.receiver=t,this._handler.chain(r,t),e},t}})}(function(t){e.exports=t()})},{}],110:[function(t,e){(function(r){!function(t){t(function(t){function e(t){var e,r=document.createTextNode("");new t(function(){var t=e;e=void 0,t()}).observe(r,{characterData:!0});var n=0;return function(t){e=t,r.data=n^=1}}var n,o="undefined"!=typeof setTimeout&&setTimeout,i=function(t,e){return setTimeout(t,e)},s=function(t){return clearTimeout(t)},a=function(t){return o(t,0)};if("undefined"!=typeof r&&"[object process]"===Object.prototype.toString.call(r))a=function(t){return r.nextTick(t)};else if(n="function"==typeof MutationObserver&&MutationObserver||"function"==typeof WebKitMutationObserver&&WebKitMutationObserver)a=e(n);else if(!o)var c=t("vertx"),i=function(t,e){return c.setTimer(e,t)},s=c.cancelTimer,a=c.runOnLoop||c.runOnContext;return{setTimer:i,clearTimer:s,asap:a}})}(function(r){e.exports=r(t)})}).call(this,t("_process"))},{_process:29}],111:[function(t,e){!function(t){t(function(){function t(t){var r=String(t);return"[object Object]"===r&&"undefined"!=typeof JSON&&(r=e(t,r)),r}function e(t,e){try{return JSON.stringify(t)}catch(r){return e}}return{formatError:function(e){var r="object"==typeof e&&null!==e&&(e.stack||e.message)?e.stack||e.message:t(e);return e instanceof Error?r:r+" (WARNING: non-Error used)"},formatObject:t,tryStringify:e}})}(function(t){e.exports=t()})},{}],112:[function(t,e){!function(t){t(function(){function t(t,e,r){return t[r]=e,t}function e(t){return"function"==typeof t?t.bind():Object.create(t)}return function(r,n,o,i){return"undefined"==typeof n&&(n=t),Object.keys(i).reduce(function(t,e){var o=i[e];return"function"==typeof o?n(t,r(o),e):t},"undefined"==typeof o?e(i):o)}})}(function(t){e.exports=t()})},{}],113:[function(t,e){(function(t){!function(e){e(function(){return function(e){function r(t,e){this._handler=t===l?e:n(t)}function n(t){function e(t){o.resolve(t)}function r(t){o.reject(t)}function n(t){o.notify(t)}var o=new p;try{t(e,r,n)}catch(i){r(i)}return o}function o(t){return t instanceof r?t:new r(l,new d(u(t)))}function i(t){return new r(l,new d(new g(t)))}function s(t,e,n){function o(r,o,s){s.resolved||a(n,i,r,t(e,o,r),s)}function i(t,e,r){h[t]=e,0===--f&&r.become(new _(h))}for(var s,c="function"==typeof e?o:i,u=new p,f=n.length>>>0,h=Array(f),d=0;d<n.length&&!u.resolved;++d)s=n[d],void 0!==s||d in n?a(n,c,d,s,u):--f;return 0===f&&u.become(new _(h)),new r(l,u)}function a(t,e,n,o,i){if(k(o)){o=o instanceof r?o._handler.join():f(o);var s=o.state();0===s?o.fold(e,n,void 0,i):s>0?e(n,o.value,i):(i.become(o),c(t,n+1,o))}else e(n,o,i)}function c(t,e,r){for(;e<t.length;++e){var n=u(t[e]);if(n!==r){var o=n.state();0===o?n.visit(n,void 0,n._unreport):0>o&&n._unreport()}}}function u(t){return t instanceof r?t._handler.join():k(t)?f(t):new _(t)}function f(t){try{var e=t.then;return"function"==typeof e?new y(e,t):new _(t)}catch(r){return new g(r)}}function l(){}function h(){}function p(t,e){r.createContext(this,e),this.consumers=void 0,this.receiver=t,this.handler=void 0,this.resolved=!1}function d(t){this.handler=t}function y(t,e){p.call(this),j.enqueue(new E(t,e,this))}function _(t){r.createContext(this),this.value=t}function g(t){r.createContext(this),this.id=++U,this.value=t,this.reported=this.handled=!1,this._report()}function b(t,e){this.rejection=t,this.context=e}function v(t){this.rejection=t}function m(t,e){this.continuation=t,this.handler=e}function w(t,e){this.handler=e,this.value=t}function E(t,e,r){this._then=t,this.thenable=e,this.resolver=r}function S(t,e,r,n,o){try{t.call(e,r,n,o)}catch(i){n(i)}}function A(t,e,r,n){this.f=t,this.z=e,this.c=r,this.to=n,this.resolver=M,this.receiver=this}function k(t){return("object"==typeof t||"function"==typeof t)&&null!==t}function P(t,e,n,o){if("function"!=typeof t)return o.become(e);r.enterContext(e);try{o.become(u(t.call(n,e.value)))}catch(i){o.become(new g(i))}r.exitContext()}function T(t,e,r){try{return t(e,r)}catch(n){return i(n)}}function x(t,e){e.prototype=O(t.prototype),e.prototype.constructor=e}function C(t,e){return e}function R(){}var j=e.scheduler,B=function(){return"undefined"!=typeof t&&null!==t&&"function"==typeof t.emit?function(e,r){return"unhandledRejection"===e?t.emit(e,r.value,r):t.emit(e,r)}:"undefined"!=typeof self&&"function"==typeof CustomEvent?function(t,e,r){var n=!1;try{n=new r("unhandledRejection")instanceof r}catch(o){}return n?function(t,n){var o=new r(t,{detail:{reason:n.value,key:n},bubbles:!1,cancelable:!0});return!e.dispatchEvent(o)}:t}(R,self,CustomEvent):R}(),O=Object.create||function(t){function e(){}return e.prototype=t,new e};r.resolve=o,r.reject=i,r.never=function(){return I},r._defer=function(){return new r(l,new p)},r._handler=u,r.prototype.then=function(t,e,r){var n=this._handler,o=n.join().state();return"function"!=typeof t&&o>0||"function"!=typeof e&&0>o?new this.constructor(l,n):(o=this._beget(),n.chain(o._handler,n.receiver,t,e,r),o)},r.prototype["catch"]=function(t){return this.then(void 0,t)},r.prototype._beget=function(){var t=this._handler,e=this.constructor,t=new p(t.receiver,t.join().context);return new e(l,t)},r.all=function(t){return s(C,null,t)},r.race=function(t){if("object"!=typeof t||null===t)return i(new TypeError("non-iterable passed to race()"));if(0===t.length)t=I;else if(1===t.length)t=o(t[0]);else{var e,n,s=new p;for(e=0;e<t.length;++e)if(n=t[e],void 0!==n||e in t){if(n=u(n),0!==n.state()){s.become(n),c(t,e+1,n);break}n.visit(s,s.resolve,s.reject)}t=new r(l,s)}return t},r._traverse=function(t,e){return s(T,t,e)},r._visitRemaining=c,l.prototype.when=l.prototype.become=l.prototype.notify=l.prototype.fail=l.prototype._unreport=l.prototype._report=R,l.prototype._state=0,l.prototype.state=function(){return this._state},l.prototype.join=function(){for(var t=this;void 0!==t.handler;)t=t.handler;return t},l.prototype.chain=function(t,e,r,n,o){this.when({resolver:t,receiver:e,fulfilled:r,rejected:n,progress:o})},l.prototype.visit=function(t,e,r,n){this.chain(M,t,e,r,n)},l.prototype.fold=function(t,e,r,n){this.when(new A(t,e,r,n))},x(l,h),h.prototype.become=function(t){t.fail()};var M=new h;x(l,p),p.prototype._state=0,p.prototype.resolve=function(t){this.become(u(t))},p.prototype.reject=function(t){this.resolved||this.become(new g(t))},p.prototype.join=function(){if(!this.resolved)return this;for(var t=this;void 0!==t.handler;)if(t=t.handler,t===this)return this.handler=new g(new TypeError("Promise cycle"));return t},p.prototype.run=function(){var t=this.consumers,e=this.handler;this.handler=this.handler.join(),this.consumers=void 0;for(var r=0;r<t.length;++r)e.when(t[r])},p.prototype.become=function(t){this.resolved||(this.resolved=!0,this.handler=t,void 0!==this.consumers&&j.enqueue(this),void 0!==this.context&&t._report(this.context))},p.prototype.when=function(t){this.resolved?j.enqueue(new m(t,this.handler)):void 0===this.consumers?this.consumers=[t]:this.consumers.push(t)},p.prototype.notify=function(t){this.resolved||j.enqueue(new w(t,this))},p.prototype.fail=function(t){t="undefined"==typeof t?this.context:t,this.resolved&&this.handler.join().fail(t)},p.prototype._report=function(t){this.resolved&&this.handler.join()._report(t)},p.prototype._unreport=function(){this.resolved&&this.handler.join()._unreport()},x(l,d),d.prototype.when=function(t){j.enqueue(new m(t,this))},d.prototype._report=function(t){this.join()._report(t)},d.prototype._unreport=function(){this.join()._unreport()},x(p,y),x(l,_),_.prototype._state=1,_.prototype.fold=function(t,e,n,o){if("function"!=typeof t)o.become(this);else{r.enterContext(this);try{t.call(n,e,this.value,o)}catch(i){o.become(new g(i))}r.exitContext()}},_.prototype.when=function(t){P(t.fulfilled,this,t.receiver,t.resolver)};var U=0;x(l,g),g.prototype._state=-1,g.prototype.fold=function(t,e,r,n){n.become(this)},
g.prototype.when=function(t){"function"==typeof t.rejected&&this._unreport(),P(t.rejected,this,t.receiver,t.resolver)},g.prototype._report=function(t){j.afterQueue(new b(this,t))},g.prototype._unreport=function(){this.handled||(this.handled=!0,j.afterQueue(new v(this)))},g.prototype.fail=function(t){this.reported=!0,B("unhandledRejection",this),r.onFatalRejection(this,void 0===t?this.context:t)},b.prototype.run=function(){this.rejection.handled||this.rejection.reported||(this.rejection.reported=!0,B("unhandledRejection",this.rejection)||r.onPotentiallyUnhandledRejection(this.rejection,this.context))},v.prototype.run=function(){this.rejection.reported&&(B("rejectionHandled",this.rejection)||r.onPotentiallyUnhandledRejectionHandled(this.rejection))},r.createContext=r.enterContext=r.exitContext=r.onPotentiallyUnhandledRejection=r.onPotentiallyUnhandledRejectionHandled=r.onFatalRejection=R,e=new l;var I=new r(l,e);return m.prototype.run=function(){this.handler.join().when(this.continuation)},w.prototype.run=function(){var t=this.handler.consumers;if(void 0!==t)for(var e,n=0;n<t.length;++n){e=t[n];var o=e.progress,i=this.value,s=this.handler,a=e.receiver;if(e=e.resolver,"function"!=typeof o)e.notify(i);else{r.enterContext(s),s=e;try{s.notify(o.call(a,i))}catch(c){s.notify(c)}r.exitContext()}}},E.prototype.run=function(){var t=this.resolver;S(this._then,this.thenable,function(e){t.resolve(e)},function(e){t.reject(e)},function(e){t.notify(e)})},A.prototype.fulfilled=function(t){this.f.call(this.c,this.z,t,this.to)},A.prototype.rejected=function(t){this.to.reject(t)},A.prototype.progress=function(t){this.to.notify(t)},r}})}(function(t){e.exports=t()})}).call(this,t("_process"))},{_process:29}],114:[function(t,e){!function(t){t(function(){function t(){return{state:"pending"}}function e(t){return{state:"rejected",reason:t}}function r(t){return{state:"fulfilled",value:t}}return{pending:t,fulfilled:r,rejected:e,inspect:function(n){var o=n.state();return 0===o?t():o>0?r(n.value):e(n.value)}}})}(function(t){e.exports=t()})},{}],115:[function(t,e){!function(t){t(function(t){var e=t("./monitor/PromiseMonitor");t=t("./monitor/ConsoleReporter");var r=new e(new t);return function(t){return r.monitor(t)}})}(function(r){e.exports=r(t)})},{"./monitor/ConsoleReporter":116,"./monitor/PromiseMonitor":117}],116:[function(t,e){!function(t){t(function(t){function e(){this._previouslyReported=!1}function r(){}var n=t("./error");return e.prototype=function(){var t,e,n,o;if("undefined"==typeof console)t=e=r;else{var i=console;"function"==typeof i.error&&"function"==typeof i.dir?(e=function(t){i.error(t)},t=function(t){i.log(t)},"function"==typeof i.groupCollapsed&&(n=function(t){i.groupCollapsed(t)},o=function(){i.groupEnd()})):t=e="undefined"!=typeof i.log&&"undefined"!=typeof JSON?function(t){if("string"!=typeof t)try{t=JSON.stringify(t)}catch(e){}i.log(t)}:r}return{msg:t,warn:e,groupStart:n||e,groupEnd:o||r}}(),e.prototype.log=function(t){if(0===t.length)this._previouslyReported&&(this._previouslyReported=!1,this.msg("[promises] All previously unhandled rejections have now been handled"));else{this._previouslyReported=!0,this.groupStart("[promises] Unhandled rejections: "+t.length);try{this._log(t)}finally{this.groupEnd()}}},e.prototype._log=function(t){for(var e=0;e<t.length;++e)this.warn(n.format(t[e]))},e})}(function(r){e.exports=r(t)})},{"./error":119}],117:[function(t,e){!function(t){t(function(t){function e(t){this.logDelay=0,this.stackFilter=o,this.stackJumpSeparator="from execution context:",this.filterDuplicateFrames=!0,this._reporter=t,"function"==typeof t.configurePromiseMonitor&&t.configurePromiseMonitor(this),this._traces=[],this._traceTask=0;var e=this;this._doLogTraces=function(){e._logTraces()}}function r(t,e){return e.filter(function(e){return!t.test(e)})}function n(t){return!t.handler.handled}var o=/[\s\(\/\\](node|module|timers)\.js:|when([\/\\]{1,2}(lib|monitor|es6-shim)[\/\\]{1,2}|\.js)|(new\sPromise)\b|(\b(PromiseMonitor|ConsoleReporter|Scheduler|RunHandlerTask|ProgressTask|Promise|.*Handler)\.[\w_]\w\w+\b)|\b(tryCatch\w+|getHandler\w*)\b/i,i=t("../lib/env").setTimer,s=t("./error"),a=[];return e.prototype.monitor=function(t){var e=this;return t.createContext=function(t,r){t.context=e.createContext(t,r)},t.enterContext=function(t){a.push(t.context)},t.exitContext=function(){a.pop()},t.onPotentiallyUnhandledRejection=function(t,r){return e.addTrace(t,r)},t.onPotentiallyUnhandledRejectionHandled=function(t){return e.removeTrace(t)},t.onFatalRejection=function(t,r){return e.fatal(t,r)},this},e.prototype.createContext=function(t,e){var r={parent:e||a[a.length-1],stack:void 0};return s.captureStack(r,t.constructor),r},e.prototype.addTrace=function(t,e){var r,n;for(n=this._traces.length-1;n>=0&&(r=this._traces[n],r.handler!==t);--n);n>=0?r.extraContext=e:this._traces.push({handler:t,extraContext:e}),this.logTraces()},e.prototype.removeTrace=function(){this.logTraces()},e.prototype.fatal=function(t,e){var r=Error();r.stack=this._createLongTrace(t.value,t.context,e).join("\n"),i(function(){throw r},0)},e.prototype.logTraces=function(){this._traceTask||(this._traceTask=i(this._doLogTraces,this.logDelay))},e.prototype._logTraces=function(){this._traceTask=void 0,this._traces=this._traces.filter(n),this._reporter.log(this.formatTraces(this._traces))},e.prototype.formatTraces=function(t){return t.map(function(t){return this._createLongTrace(t.handler.value,t.handler.context,t.extraContext)},this)},e.prototype._createLongTrace=function(t,e,n){return t=s.parse(t)||[String(t)+" (WARNING: non-Error used)"],t=r(this.stackFilter,t,0),this._appendContext(t,e),this._appendContext(t,n),this.filterDuplicateFrames?this._removeDuplicates(t):t},e.prototype._removeDuplicates=function(t){var e={},r=this.stackJumpSeparator,n=0;return t.reduceRight(function(t,o,i){return 0===i?t.unshift(o):o===r?n>0&&(t.unshift(o),n=0):e[o]||(e[o]=!0,t.unshift(o),++n),t},[])},e.prototype._appendContext=function(t,e){t.push.apply(t,this._createTrace(e))},e.prototype._createTrace=function(t){for(var e,n=[];t;){if(e=s.parse(t)){e=r(this.stackFilter,e);var o=n;1<e.length&&(e[0]=this.stackJumpSeparator,o.push.apply(o,e))}t=t.parent}return n},e})}(function(r){e.exports=r(t)})},{"../lib/env":110,"./error":119}],118:[function(t,e){!function(t){t(function(t){var e=t("../monitor");return t=t("../when").Promise,e(t)})}(function(r){e.exports=r(t)})},{"../monitor":115,"../when":120}],119:[function(t,e){!function(t){t(function(){function t(t){try{throw Error()}catch(e){t.stack=e.stack}}function e(t){t.stack=Error().stack}function r(t){return o(t)}function n(t){var e=Error();return e.stack=o(t),e}function o(t){for(var e=!1,r="",n=0;n<t.length;++n)e?r+="\n"+t[n]:(r+=t[n],e=!0);return r}var i,s,a;return Error.captureStackTrace?(i=function(t){return t&&t.stack&&t.stack.split("\n")},a=r,s=Error.captureStackTrace):(i=function(t){var e=t&&t.stack&&t.stack.split("\n");return e&&t.message&&e.unshift(t.message),e},"string"!=typeof Error().stack?(a=r,s=t):(a=n,s=e)),{parse:i,format:a,captureStack:s}})}(function(t){e.exports=t()})},{}],120:[function(t,e){!function(t){t(function(t){function e(t,e,r,n){var o=y.resolve(t);return 2>arguments.length?o:o.then(e,r,n)}function r(t){return function(){for(var e=0,r=arguments.length,n=Array(r);r>e;++e)n[e]=arguments[e];return _(t,this,n)}}function n(t){for(var e=0,r=arguments.length-1,n=Array(r);r>e;++e)n[e]=arguments[e+1];return _(t,this,n)}function o(){function t(t){n._handler.resolve(t)}function e(t){n._handler.reject(t)}function r(t){n._handler.notify(t)}var n=y._defer();this.promise=n,this.resolve=t,this.reject=e,this.notify=r,this.resolver={resolve:t,reject:e,notify:r}}var i=t("./lib/decorators/timed"),s=t("./lib/decorators/array"),a=t("./lib/decorators/flow"),c=t("./lib/decorators/fold"),u=t("./lib/decorators/inspect"),f=t("./lib/decorators/iterate"),l=t("./lib/decorators/progress"),h=t("./lib/decorators/with"),p=t("./lib/decorators/unhandledRejection"),d=t("./lib/TimeoutError"),y=[s,a,c,f,l,u,h,i,p].reduce(function(t,e){return e(t)},t("./lib/Promise")),_=t("./lib/apply")(y);return e.promise=function(t){return new y(t)},e.resolve=y.resolve,e.reject=y.reject,e.lift=r,e["try"]=n,e.attempt=n,e.iterate=y.iterate,e.unfold=y.unfold,e.join=function(){return y.all(arguments)},e.all=function(t){return e(t,y.all)},e.settle=function(t){return e(t,y.settle)},e.any=r(y.any),e.some=r(y.some),e.race=r(y.race),e.map=function(t,r){return e(t,function(t){return y.map(t,r)})},e.filter=function(t,r){return e(t,function(t){return y.filter(t,r)})},e.reduce=r(y.reduce),e.reduceRight=r(y.reduceRight),e.isPromiseLike=function(t){return t&&"function"==typeof t.then},e.Promise=y,e.defer=function(){return new o},e.TimeoutError=d,e})}(function(r){e.exports=r(t)})},{"./lib/Promise":97,"./lib/TimeoutError":99,"./lib/apply":100,"./lib/decorators/array":101,"./lib/decorators/flow":102,"./lib/decorators/fold":103,"./lib/decorators/inspect":104,"./lib/decorators/iterate":105,"./lib/decorators/progress":106,"./lib/decorators/timed":107,"./lib/decorators/unhandledRejection":108,"./lib/decorators/with":109}]},{},[3])(3)});